(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["WXMiniGameTs"] = factory();
	else
		root["WXMiniGameTs"] = factory();
})(this, () => {
return /******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./js/game/dragonBones.min.js":
/*!************************************!*\
  !*** ./js/game/dragonBones.min.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });


function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
var __extends = undefined && undefined.__extends || function () {
  var t = Object.setPrototypeOf || {
    __proto__: []
  } instanceof Array && function (t, e) {
    t.__proto__ = e;
  } || function (t, e) {
    for (var a in e) if (e.hasOwnProperty(a)) t[a] = e[a];
  };
  return function (e, a) {
    t(e, a);
    function r() {
      this.constructor = e;
    }
    e.prototype = a === null ? Object.create(a) : (r.prototype = a.prototype, new r());
  };
}();
var dragonBones;
(function (t) {
  var e = function () {
    function e(a) {
      this._clock = new t.WorldClock();
      this._events = [];
      this._objects = [];
      this._eventManager = null;
      this._eventManager = a;
      console.info("DragonBones: " + e.VERSION + "\nWebsite: http://dragonbones.com/\nSource and Demo: https://github.com/DragonBones/");
    }
    e.prototype.advanceTime = function (e) {
      if (this._objects.length > 0) {
        for (var a = 0, r = this._objects; a < r.length; a++) {
          var i = r[a];
          i.returnToPool();
        }
        this._objects.length = 0;
      }
      this._clock.advanceTime(e);
      if (this._events.length > 0) {
        for (var n = 0; n < this._events.length; ++n) {
          var s = this._events[n];
          var o = s.armature;
          if (o._armatureData !== null) {
            o.eventDispatcher.dispatchDBEvent(s.type, s);
            if (s.type === t.EventObject.SOUND_EVENT) {
              this._eventManager.dispatchDBEvent(s.type, s);
            }
          }
          this.bufferObject(s);
        }
        this._events.length = 0;
      }
    };
    e.prototype.bufferEvent = function (t) {
      if (this._events.indexOf(t) < 0) {
        this._events.push(t);
      }
    };
    e.prototype.bufferObject = function (t) {
      if (this._objects.indexOf(t) < 0) {
        this._objects.push(t);
      }
    };
    Object.defineProperty(e.prototype, "clock", {
      get: function get() {
        return this._clock;
      },
      enumerable: true,
      configurable: true
    });
    Object.defineProperty(e.prototype, "eventManager", {
      get: function get() {
        return this._eventManager;
      },
      enumerable: true,
      configurable: true
    });
    e.VERSION = "5.7.000";
    e.yDown = true;
    e.debug = false;
    e.debugDraw = false;
    return e;
  }();
  t.DragonBones = e;
})(dragonBones || (dragonBones = {}));
if (!console.warn) {
  console.warn = function () {};
}
if (!console.assert) {
  console.assert = function () {};
}
if (!Date.now) {
  Date.now = function t() {
    return new Date().getTime();
  };
}
var __extends = function __extends(t, e) {
  function a() {
    this.constructor = t;
  }
  for (var r in e) {
    if (e.hasOwnProperty(r)) {
      t[r] = e[r];
    }
  }
  a.prototype = e.prototype, t.prototype = new a();
};
var dragonBones;
(function (t) {
  var e = function () {
    function t() {
      this.hashCode = t._hashCode++;
      this._isInPool = false;
    }
    t._returnObject = function (e) {
      var a = String(e.constructor);
      var r = a in t._maxCountMap ? t._maxCountMap[a] : t._defaultMaxCount;
      var i = t._poolsMap[a] = t._poolsMap[a] || [];
      if (i.length < r) {
        if (!e._isInPool) {
          e._isInPool = true;
          i.push(e);
        } else {
          console.warn("The object is already in the pool.");
        }
      } else {}
    };
    t.toString = function () {
      throw new Error();
    };
    t.setMaxCount = function (e, a) {
      if (a < 0 || a !== a) {
        a = 0;
      }
      if (e !== null) {
        var r = String(e);
        var i = r in t._poolsMap ? t._poolsMap[r] : null;
        if (i !== null && i.length > a) {
          i.length = a;
        }
        t._maxCountMap[r] = a;
      } else {
        t._defaultMaxCount = a;
        for (var r in t._poolsMap) {
          var i = t._poolsMap[r];
          if (i.length > a) {
            i.length = a;
          }
          if (r in t._maxCountMap) {
            t._maxCountMap[r] = a;
          }
        }
      }
    };
    t.clearPool = function (e) {
      if (e === void 0) {
        e = null;
      }
      if (e !== null) {
        var a = String(e);
        var r = a in t._poolsMap ? t._poolsMap[a] : null;
        if (r !== null && r.length > 0) {
          r.length = 0;
        }
      } else {
        for (var i in t._poolsMap) {
          var r = t._poolsMap[i];
          r.length = 0;
        }
      }
    };
    t.borrowObject = function (e) {
      var a = String(e);
      var r = a in t._poolsMap ? t._poolsMap[a] : null;
      if (r !== null && r.length > 0) {
        var i = r.pop();
        i._isInPool = false;
        return i;
      }
      var n = new e();
      n._onClear();
      return n;
    };
    t.prototype.returnToPool = function () {
      this._onClear();
      t._returnObject(this);
    };
    t._hashCode = 0;
    t._defaultMaxCount = 3e3;
    t._maxCountMap = {};
    t._poolsMap = {};
    return t;
  }();
  t.BaseObject = e;
})(dragonBones || (dragonBones = {}));
var dragonBones;
(function (t) {
  var e = function () {
    function t(t, e, a, r, i, n) {
      if (t === void 0) {
        t = 1;
      }
      if (e === void 0) {
        e = 0;
      }
      if (a === void 0) {
        a = 0;
      }
      if (r === void 0) {
        r = 1;
      }
      if (i === void 0) {
        i = 0;
      }
      if (n === void 0) {
        n = 0;
      }
      this.a = t;
      this.b = e;
      this.c = a;
      this.d = r;
      this.tx = i;
      this.ty = n;
    }
    t.prototype.toString = function () {
      return "[object dragonBones.Matrix] a:" + this.a + " b:" + this.b + " c:" + this.c + " d:" + this.d + " tx:" + this.tx + " ty:" + this.ty;
    };
    t.prototype.copyFrom = function (t) {
      this.a = t.a;
      this.b = t.b;
      this.c = t.c;
      this.d = t.d;
      this.tx = t.tx;
      this.ty = t.ty;
      return this;
    };
    t.prototype.copyFromArray = function (t, e) {
      if (e === void 0) {
        e = 0;
      }
      this.a = t[e];
      this.b = t[e + 1];
      this.c = t[e + 2];
      this.d = t[e + 3];
      this.tx = t[e + 4];
      this.ty = t[e + 5];
      return this;
    };
    t.prototype.identity = function () {
      this.a = this.d = 1;
      this.b = this.c = 0;
      this.tx = this.ty = 0;
      return this;
    };
    t.prototype.concat = function (t) {
      var e = this.a * t.a;
      var a = 0;
      var r = 0;
      var i = this.d * t.d;
      var n = this.tx * t.a + t.tx;
      var s = this.ty * t.d + t.ty;
      if (this.b !== 0 || this.c !== 0) {
        e += this.b * t.c;
        a += this.b * t.d;
        r += this.c * t.a;
        i += this.c * t.b;
      }
      if (t.b !== 0 || t.c !== 0) {
        a += this.a * t.b;
        r += this.d * t.c;
        n += this.ty * t.c;
        s += this.tx * t.b;
      }
      this.a = e;
      this.b = a;
      this.c = r;
      this.d = i;
      this.tx = n;
      this.ty = s;
      return this;
    };
    t.prototype.invert = function () {
      var t = this.a;
      var e = this.b;
      var a = this.c;
      var r = this.d;
      var i = this.tx;
      var n = this.ty;
      if (e === 0 && a === 0) {
        this.b = this.c = 0;
        if (t === 0 || r === 0) {
          this.a = this.b = this.tx = this.ty = 0;
        } else {
          t = this.a = 1 / t;
          r = this.d = 1 / r;
          this.tx = -t * i;
          this.ty = -r * n;
        }
        return this;
      }
      var s = t * r - e * a;
      if (s === 0) {
        this.a = this.d = 1;
        this.b = this.c = 0;
        this.tx = this.ty = 0;
        return this;
      }
      s = 1 / s;
      var o = this.a = r * s;
      e = this.b = -e * s;
      a = this.c = -a * s;
      r = this.d = t * s;
      this.tx = -(o * i + a * n);
      this.ty = -(e * i + r * n);
      return this;
    };
    t.prototype.transformPoint = function (t, e, a, r) {
      if (r === void 0) {
        r = false;
      }
      a.x = this.a * t + this.c * e;
      a.y = this.b * t + this.d * e;
      if (!r) {
        a.x += this.tx;
        a.y += this.ty;
      }
    };
    t.prototype.transformRectangle = function (t, e) {
      if (e === void 0) {
        e = false;
      }
      var a = this.a;
      var r = this.b;
      var i = this.c;
      var n = this.d;
      var s = e ? 0 : this.tx;
      var o = e ? 0 : this.ty;
      var l = t.x;
      var h = t.y;
      var u = l + t.width;
      var f = h + t.height;
      var _ = a * l + i * h + s;
      var m = r * l + n * h + o;
      var p = a * u + i * h + s;
      var c = r * u + n * h + o;
      var d = a * u + i * f + s;
      var y = r * u + n * f + o;
      var v = a * l + i * f + s;
      var g = r * l + n * f + o;
      var D = 0;
      if (_ > p) {
        D = _;
        _ = p;
        p = D;
      }
      if (d > v) {
        D = d;
        d = v;
        v = D;
      }
      t.x = Math.floor(_ < d ? _ : d);
      t.width = Math.ceil((p > v ? p : v) - t.x);
      if (m > c) {
        D = m;
        m = c;
        c = D;
      }
      if (y > g) {
        D = y;
        y = g;
        g = D;
      }
      t.y = Math.floor(m < y ? m : y);
      t.height = Math.ceil((c > g ? c : g) - t.y);
    };
    return t;
  }();
  t.Matrix = e;
})(dragonBones || (dragonBones = {}));
var dragonBones;
(function (t) {
  var e = function () {
    function t(t, e, a, r, i, n) {
      if (t === void 0) {
        t = 0;
      }
      if (e === void 0) {
        e = 0;
      }
      if (a === void 0) {
        a = 0;
      }
      if (r === void 0) {
        r = 0;
      }
      if (i === void 0) {
        i = 1;
      }
      if (n === void 0) {
        n = 1;
      }
      this.x = t;
      this.y = e;
      this.skew = a;
      this.rotation = r;
      this.scaleX = i;
      this.scaleY = n;
    }
    t.normalizeRadian = function (t) {
      t = (t + Math.PI) % (Math.PI * 2);
      t += t > 0 ? -Math.PI : Math.PI;
      return t;
    };
    t.prototype.toString = function () {
      return "[object dragonBones.Transform] x:" + this.x + " y:" + this.y + " skewX:" + this.skew * 180 / Math.PI + " skewY:" + this.rotation * 180 / Math.PI + " scaleX:" + this.scaleX + " scaleY:" + this.scaleY;
    };
    t.prototype.copyFrom = function (t) {
      this.x = t.x;
      this.y = t.y;
      this.skew = t.skew;
      this.rotation = t.rotation;
      this.scaleX = t.scaleX;
      this.scaleY = t.scaleY;
      return this;
    };
    t.prototype.identity = function () {
      this.x = this.y = 0;
      this.skew = this.rotation = 0;
      this.scaleX = this.scaleY = 1;
      return this;
    };
    t.prototype.add = function (t) {
      this.x += t.x;
      this.y += t.y;
      this.skew += t.skew;
      this.rotation += t.rotation;
      this.scaleX *= t.scaleX;
      this.scaleY *= t.scaleY;
      return this;
    };
    t.prototype.minus = function (t) {
      this.x -= t.x;
      this.y -= t.y;
      this.skew -= t.skew;
      this.rotation -= t.rotation;
      this.scaleX /= t.scaleX;
      this.scaleY /= t.scaleY;
      return this;
    };
    t.prototype.fromMatrix = function (e) {
      var a = this.scaleX,
        r = this.scaleY;
      var i = t.PI_Q;
      this.x = e.tx;
      this.y = e.ty;
      this.rotation = Math.atan(e.b / e.a);
      var n = Math.atan(-e.c / e.d);
      this.scaleX = this.rotation > -i && this.rotation < i ? e.a / Math.cos(this.rotation) : e.b / Math.sin(this.rotation);
      this.scaleY = n > -i && n < i ? e.d / Math.cos(n) : -e.c / Math.sin(n);
      if (a >= 0 && this.scaleX < 0) {
        this.scaleX = -this.scaleX;
        this.rotation = this.rotation - Math.PI;
      }
      if (r >= 0 && this.scaleY < 0) {
        this.scaleY = -this.scaleY;
        n = n - Math.PI;
      }
      this.skew = n - this.rotation;
      return this;
    };
    t.prototype.toMatrix = function (t) {
      if (this.rotation === 0) {
        t.a = 1;
        t.b = 0;
      } else {
        t.a = Math.cos(this.rotation);
        t.b = Math.sin(this.rotation);
      }
      if (this.skew === 0) {
        t.c = -t.b;
        t.d = t.a;
      } else {
        t.c = -Math.sin(this.skew + this.rotation);
        t.d = Math.cos(this.skew + this.rotation);
      }
      if (this.scaleX !== 1) {
        t.a *= this.scaleX;
        t.b *= this.scaleX;
      }
      if (this.scaleY !== 1) {
        t.c *= this.scaleY;
        t.d *= this.scaleY;
      }
      t.tx = this.x;
      t.ty = this.y;
      return this;
    };
    t.PI = Math.PI;
    t.PI_D = Math.PI * 2;
    t.PI_H = Math.PI / 2;
    t.PI_Q = Math.PI / 4;
    t.RAD_DEG = 180 / Math.PI;
    t.DEG_RAD = Math.PI / 180;
    return t;
  }();
  t.Transform = e;
})(dragonBones || (dragonBones = {}));
var dragonBones;
(function (t) {
  var e = function () {
    function t(t, e, a, r, i, n, s, o) {
      if (t === void 0) {
        t = 1;
      }
      if (e === void 0) {
        e = 1;
      }
      if (a === void 0) {
        a = 1;
      }
      if (r === void 0) {
        r = 1;
      }
      if (i === void 0) {
        i = 0;
      }
      if (n === void 0) {
        n = 0;
      }
      if (s === void 0) {
        s = 0;
      }
      if (o === void 0) {
        o = 0;
      }
      this.alphaMultiplier = t;
      this.redMultiplier = e;
      this.greenMultiplier = a;
      this.blueMultiplier = r;
      this.alphaOffset = i;
      this.redOffset = n;
      this.greenOffset = s;
      this.blueOffset = o;
    }
    t.prototype.copyFrom = function (t) {
      this.alphaMultiplier = t.alphaMultiplier;
      this.redMultiplier = t.redMultiplier;
      this.greenMultiplier = t.greenMultiplier;
      this.blueMultiplier = t.blueMultiplier;
      this.alphaOffset = t.alphaOffset;
      this.redOffset = t.redOffset;
      this.greenOffset = t.greenOffset;
      this.blueOffset = t.blueOffset;
    };
    t.prototype.identity = function () {
      this.alphaMultiplier = this.redMultiplier = this.greenMultiplier = this.blueMultiplier = 1;
      this.alphaOffset = this.redOffset = this.greenOffset = this.blueOffset = 0;
    };
    return t;
  }();
  t.ColorTransform = e;
})(dragonBones || (dragonBones = {}));
var dragonBones;
(function (t) {
  var e = function () {
    function t(t, e) {
      if (t === void 0) {
        t = 0;
      }
      if (e === void 0) {
        e = 0;
      }
      this.x = t;
      this.y = e;
    }
    t.prototype.copyFrom = function (t) {
      this.x = t.x;
      this.y = t.y;
    };
    t.prototype.clear = function () {
      this.x = this.y = 0;
    };
    return t;
  }();
  t.Point = e;
})(dragonBones || (dragonBones = {}));
var dragonBones;
(function (t) {
  var e = function () {
    function t(t, e, a, r) {
      if (t === void 0) {
        t = 0;
      }
      if (e === void 0) {
        e = 0;
      }
      if (a === void 0) {
        a = 0;
      }
      if (r === void 0) {
        r = 0;
      }
      this.x = t;
      this.y = e;
      this.width = a;
      this.height = r;
    }
    t.prototype.copyFrom = function (t) {
      this.x = t.x;
      this.y = t.y;
      this.width = t.width;
      this.height = t.height;
    };
    t.prototype.clear = function () {
      this.x = this.y = 0;
      this.width = this.height = 0;
    };
    return t;
  }();
  t.Rectangle = e;
})(dragonBones || (dragonBones = {}));
var dragonBones;
(function (t) {
  var e = function (t) {
    __extends(e, t);
    function e() {
      var e = t !== null && t.apply(this, arguments) || this;
      e.ints = [];
      e.floats = [];
      e.strings = [];
      return e;
    }
    e.toString = function () {
      return "[class dragonBones.UserData]";
    };
    e.prototype._onClear = function () {
      this.ints.length = 0;
      this.floats.length = 0;
      this.strings.length = 0;
    };
    e.prototype.addInt = function (t) {
      this.ints.push(t);
    };
    e.prototype.addFloat = function (t) {
      this.floats.push(t);
    };
    e.prototype.addString = function (t) {
      this.strings.push(t);
    };
    e.prototype.getInt = function (t) {
      if (t === void 0) {
        t = 0;
      }
      return t >= 0 && t < this.ints.length ? this.ints[t] : 0;
    };
    e.prototype.getFloat = function (t) {
      if (t === void 0) {
        t = 0;
      }
      return t >= 0 && t < this.floats.length ? this.floats[t] : 0;
    };
    e.prototype.getString = function (t) {
      if (t === void 0) {
        t = 0;
      }
      return t >= 0 && t < this.strings.length ? this.strings[t] : "";
    };
    return e;
  }(t.BaseObject);
  t.UserData = e;
  var a = function (t) {
    __extends(e, t);
    function e() {
      var e = t !== null && t.apply(this, arguments) || this;
      e.data = null;
      return e;
    }
    e.toString = function () {
      return "[class dragonBones.ActionData]";
    };
    e.prototype._onClear = function () {
      if (this.data !== null) {
        this.data.returnToPool();
      }
      this.type = 0;
      this.name = "";
      this.bone = null;
      this.slot = null;
      this.data = null;
    };
    return e;
  }(t.BaseObject);
  t.ActionData = a;
})(dragonBones || (dragonBones = {}));
var dragonBones;
(function (t) {
  var e = function (t) {
    __extends(e, t);
    function e() {
      var e = t !== null && t.apply(this, arguments) || this;
      e.frameIndices = [];
      e.cachedFrames = [];
      e.armatureNames = [];
      e.armatures = {};
      e.userData = null;
      return e;
    }
    e.toString = function () {
      return "[class dragonBones.DragonBonesData]";
    };
    e.prototype._onClear = function () {
      for (var t in this.armatures) {
        this.armatures[t].returnToPool();
        delete this.armatures[t];
      }
      if (this.userData !== null) {
        this.userData.returnToPool();
      }
      this.autoSearch = false;
      this.frameRate = 0;
      this.version = "";
      this.name = "";
      this.stage = null;
      this.frameIndices.length = 0;
      this.cachedFrames.length = 0;
      this.armatureNames.length = 0;
      this.binary = null;
      this.intArray = null;
      this.floatArray = null;
      this.frameIntArray = null;
      this.frameFloatArray = null;
      this.frameArray = null;
      this.timelineArray = null;
      this.colorArray = null;
      this.userData = null;
    };
    e.prototype.addArmature = function (t) {
      if (t.name in this.armatures) {
        console.warn("Same armature: " + t.name);
        return;
      }
      t.parent = this;
      this.armatures[t.name] = t;
      this.armatureNames.push(t.name);
    };
    e.prototype.getArmature = function (t) {
      return t in this.armatures ? this.armatures[t] : null;
    };
    return e;
  }(t.BaseObject);
  t.DragonBonesData = e;
})(dragonBones || (dragonBones = {}));
var dragonBones;
(function (t) {
  var e = function (e) {
    __extends(a, e);
    function a() {
      var a = e !== null && e.apply(this, arguments) || this;
      a.aabb = new t.Rectangle();
      a.animationNames = [];
      a.sortedBones = [];
      a.sortedSlots = [];
      a.defaultActions = [];
      a.actions = [];
      a.bones = {};
      a.slots = {};
      a.constraints = {};
      a.skins = {};
      a.animations = {};
      a.canvas = null;
      a.userData = null;
      return a;
    }
    a.toString = function () {
      return "[class dragonBones.ArmatureData]";
    };
    a.prototype._onClear = function () {
      for (var t = 0, e = this.defaultActions; t < e.length; t++) {
        var a = e[t];
        a.returnToPool();
      }
      for (var r = 0, i = this.actions; r < i.length; r++) {
        var a = i[r];
        a.returnToPool();
      }
      for (var n in this.bones) {
        this.bones[n].returnToPool();
        delete this.bones[n];
      }
      for (var n in this.slots) {
        this.slots[n].returnToPool();
        delete this.slots[n];
      }
      for (var n in this.constraints) {
        this.constraints[n].returnToPool();
        delete this.constraints[n];
      }
      for (var n in this.skins) {
        this.skins[n].returnToPool();
        delete this.skins[n];
      }
      for (var n in this.animations) {
        this.animations[n].returnToPool();
        delete this.animations[n];
      }
      if (this.canvas !== null) {
        this.canvas.returnToPool();
      }
      if (this.userData !== null) {
        this.userData.returnToPool();
      }
      this.type = 0;
      this.frameRate = 0;
      this.cacheFrameRate = 0;
      this.scale = 1;
      this.name = "";
      this.aabb.clear();
      this.animationNames.length = 0;
      this.sortedBones.length = 0;
      this.sortedSlots.length = 0;
      this.defaultActions.length = 0;
      this.actions.length = 0;
      this.defaultSkin = null;
      this.defaultAnimation = null;
      this.canvas = null;
      this.userData = null;
      this.parent = null;
    };
    a.prototype.sortBones = function () {
      var t = this.sortedBones.length;
      if (t <= 0) {
        return;
      }
      var e = this.sortedBones.concat();
      var a = 0;
      var r = 0;
      this.sortedBones.length = 0;
      while (r < t) {
        var i = e[a++];
        if (a >= t) {
          a = 0;
        }
        if (this.sortedBones.indexOf(i) >= 0) {
          continue;
        }
        var n = false;
        for (var s in this.constraints) {
          var o = this.constraints[s];
          if (o.root === i && this.sortedBones.indexOf(o.target) < 0) {
            n = true;
            break;
          }
        }
        if (n) {
          continue;
        }
        if (i.parent !== null && this.sortedBones.indexOf(i.parent) < 0) {
          continue;
        }
        this.sortedBones.push(i);
        r++;
      }
    };
    a.prototype.cacheFrames = function (t) {
      if (this.cacheFrameRate > 0) {
        return;
      }
      this.cacheFrameRate = t;
      for (var e in this.animations) {
        this.animations[e].cacheFrames(this.cacheFrameRate);
      }
    };
    a.prototype.setCacheFrame = function (t, e) {
      var a = this.parent.cachedFrames;
      var r = a.length;
      a.length += 10;
      a[r] = t.a;
      a[r + 1] = t.b;
      a[r + 2] = t.c;
      a[r + 3] = t.d;
      a[r + 4] = t.tx;
      a[r + 5] = t.ty;
      a[r + 6] = e.rotation;
      a[r + 7] = e.skew;
      a[r + 8] = e.scaleX;
      a[r + 9] = e.scaleY;
      return r;
    };
    a.prototype.getCacheFrame = function (t, e, a) {
      var r = this.parent.cachedFrames;
      t.a = r[a];
      t.b = r[a + 1];
      t.c = r[a + 2];
      t.d = r[a + 3];
      t.tx = r[a + 4];
      t.ty = r[a + 5];
      e.rotation = r[a + 6];
      e.skew = r[a + 7];
      e.scaleX = r[a + 8];
      e.scaleY = r[a + 9];
      e.x = t.tx;
      e.y = t.ty;
    };
    a.prototype.addBone = function (t) {
      if (t.name in this.bones) {
        console.warn("Same bone: " + t.name);
        return;
      }
      this.bones[t.name] = t;
      this.sortedBones.push(t);
    };
    a.prototype.addSlot = function (t) {
      if (t.name in this.slots) {
        console.warn("Same slot: " + t.name);
        return;
      }
      this.slots[t.name] = t;
      this.sortedSlots.push(t);
    };
    a.prototype.addConstraint = function (t) {
      if (t.name in this.constraints) {
        console.warn("Same constraint: " + t.name);
        return;
      }
      this.constraints[t.name] = t;
    };
    a.prototype.addSkin = function (t) {
      if (t.name in this.skins) {
        console.warn("Same skin: " + t.name);
        return;
      }
      t.parent = this;
      this.skins[t.name] = t;
      if (this.defaultSkin === null) {
        this.defaultSkin = t;
      }
      if (t.name === "default") {
        this.defaultSkin = t;
      }
    };
    a.prototype.addAnimation = function (t) {
      if (t.name in this.animations) {
        console.warn("Same animation: " + t.name);
        return;
      }
      t.parent = this;
      this.animations[t.name] = t;
      this.animationNames.push(t.name);
      if (this.defaultAnimation === null) {
        this.defaultAnimation = t;
      }
    };
    a.prototype.addAction = function (t, e) {
      if (e) {
        this.defaultActions.push(t);
      } else {
        this.actions.push(t);
      }
    };
    a.prototype.getBone = function (t) {
      return t in this.bones ? this.bones[t] : null;
    };
    a.prototype.getSlot = function (t) {
      return t in this.slots ? this.slots[t] : null;
    };
    a.prototype.getConstraint = function (t) {
      return t in this.constraints ? this.constraints[t] : null;
    };
    a.prototype.getSkin = function (t) {
      return t in this.skins ? this.skins[t] : null;
    };
    a.prototype.getMesh = function (t, e, a) {
      var r = this.getSkin(t);
      if (r === null) {
        return null;
      }
      return r.getDisplay(e, a);
    };
    a.prototype.getAnimation = function (t) {
      return t in this.animations ? this.animations[t] : null;
    };
    return a;
  }(t.BaseObject);
  t.ArmatureData = e;
  var a = function (e) {
    __extends(a, e);
    function a() {
      var a = e !== null && e.apply(this, arguments) || this;
      a.transform = new t.Transform();
      a.userData = null;
      return a;
    }
    a.toString = function () {
      return "[class dragonBones.BoneData]";
    };
    a.prototype._onClear = function () {
      if (this.userData !== null) {
        this.userData.returnToPool();
      }
      this.inheritTranslation = false;
      this.inheritRotation = false;
      this.inheritScale = false;
      this.inheritReflection = false;
      this.type = 0;
      this.length = 0;
      this.alpha = 1;
      this.name = "";
      this.transform.identity();
      this.userData = null;
      this.parent = null;
    };
    return a;
  }(t.BaseObject);
  t.BoneData = a;
  var r = function (e) {
    __extends(a, e);
    function a() {
      var a = e !== null && e.apply(this, arguments) || this;
      a.geometry = new t.GeometryData();
      return a;
    }
    a.toString = function () {
      return "[class dragonBones.SurfaceData]";
    };
    a.prototype._onClear = function () {
      e.prototype._onClear.call(this);
      this.type = 1;
      this.segmentX = 0;
      this.segmentY = 0;
      this.geometry.clear();
    };
    return a;
  }(a);
  t.SurfaceData = r;
  var i = function (e) {
    __extends(a, e);
    function a() {
      var t = e !== null && e.apply(this, arguments) || this;
      t.color = null;
      t.userData = null;
      return t;
    }
    a.createColor = function () {
      return new t.ColorTransform();
    };
    a.toString = function () {
      return "[class dragonBones.SlotData]";
    };
    a.prototype._onClear = function () {
      if (this.userData !== null) {
        this.userData.returnToPool();
      }
      this.blendMode = 0;
      this.displayIndex = 0;
      this.zOrder = 0;
      this.zIndex = 0;
      this.alpha = 1;
      this.name = "";
      this.color = null;
      this.userData = null;
      this.parent = null;
    };
    a.DEFAULT_COLOR = new t.ColorTransform();
    return a;
  }(t.BaseObject);
  t.SlotData = i;
})(dragonBones || (dragonBones = {}));
var dragonBones;
(function (t) {
  var e = function (t) {
    __extends(e, t);
    function e() {
      return t !== null && t.apply(this, arguments) || this;
    }
    e.prototype._onClear = function () {
      this.order = 0;
      this.name = "";
      this.type = 0;
      this.target = null;
      this.root = null;
      this.bone = null;
    };
    return e;
  }(t.BaseObject);
  t.ConstraintData = e;
  var a = function (t) {
    __extends(e, t);
    function e() {
      return t !== null && t.apply(this, arguments) || this;
    }
    e.toString = function () {
      return "[class dragonBones.IKConstraintData]";
    };
    e.prototype._onClear = function () {
      t.prototype._onClear.call(this);
      this.scaleEnabled = false;
      this.bendPositive = false;
      this.weight = 1;
    };
    return e;
  }(e);
  t.IKConstraintData = a;
  var r = function (t) {
    __extends(e, t);
    function e() {
      var e = t !== null && t.apply(this, arguments) || this;
      e.bones = [];
      return e;
    }
    e.toString = function () {
      return "[class dragonBones.PathConstraintData]";
    };
    e.prototype._onClear = function () {
      t.prototype._onClear.call(this);
      this.pathSlot = null;
      this.pathDisplayData = null;
      this.bones.length = 0;
      this.positionMode = 0;
      this.spacingMode = 1;
      this.rotateMode = 1;
      this.position = 0;
      this.spacing = 0;
      this.rotateOffset = 0;
      this.rotateMix = 0;
      this.translateMix = 0;
    };
    e.prototype.AddBone = function (t) {
      this.bones.push(t);
    };
    return e;
  }(e);
  t.PathConstraintData = r;
})(dragonBones || (dragonBones = {}));
var dragonBones;
(function (t) {
  var e = function (t) {
    __extends(e, t);
    function e() {
      return t !== null && t.apply(this, arguments) || this;
    }
    e.toString = function () {
      return "[class dragonBones.CanvasData]";
    };
    e.prototype._onClear = function () {
      this.hasBackground = false;
      this.color = 0;
      this.x = 0;
      this.y = 0;
      this.width = 0;
      this.height = 0;
    };
    return e;
  }(t.BaseObject);
  t.CanvasData = e;
})(dragonBones || (dragonBones = {}));
var dragonBones;
(function (t) {
  var e = function (t) {
    __extends(e, t);
    function e() {
      var e = t !== null && t.apply(this, arguments) || this;
      e.displays = {};
      return e;
    }
    e.toString = function () {
      return "[class dragonBones.SkinData]";
    };
    e.prototype._onClear = function () {
      for (var t in this.displays) {
        var e = this.displays[t];
        for (var a = 0, r = e; a < r.length; a++) {
          var i = r[a];
          if (i !== null) {
            i.returnToPool();
          }
        }
        delete this.displays[t];
      }
      this.name = "";
      this.parent = null;
    };
    e.prototype.addDisplay = function (t, e) {
      if (!(t in this.displays)) {
        this.displays[t] = [];
      }
      if (e !== null) {
        e.parent = this;
      }
      var a = this.displays[t];
      a.push(e);
    };
    e.prototype.getDisplay = function (t, e) {
      var a = this.getDisplays(t);
      if (a !== null) {
        for (var r = 0, i = a; r < i.length; r++) {
          var n = i[r];
          if (n !== null && n.name === e) {
            return n;
          }
        }
      }
      return null;
    };
    e.prototype.getDisplays = function (t) {
      if (!(t in this.displays)) {
        return null;
      }
      return this.displays[t];
    };
    return e;
  }(t.BaseObject);
  t.SkinData = e;
})(dragonBones || (dragonBones = {}));
var dragonBones;
(function (t) {
  var e = function () {
    function t() {
      this.weight = null;
    }
    t.prototype.clear = function () {
      if (!this.isShared && this.weight !== null) {
        this.weight.returnToPool();
      }
      this.isShared = false;
      this.inheritDeform = false;
      this.offset = 0;
      this.data = null;
      this.weight = null;
    };
    t.prototype.shareFrom = function (t) {
      this.isShared = true;
      this.offset = t.offset;
      this.weight = t.weight;
    };
    Object.defineProperty(t.prototype, "vertexCount", {
      get: function get() {
        var t = this.data.intArray;
        return t[this.offset + 0];
      },
      enumerable: true,
      configurable: true
    });
    Object.defineProperty(t.prototype, "triangleCount", {
      get: function get() {
        var t = this.data.intArray;
        return t[this.offset + 1];
      },
      enumerable: true,
      configurable: true
    });
    return t;
  }();
  t.GeometryData = e;
  var a = function (e) {
    __extends(a, e);
    function a() {
      var a = e !== null && e.apply(this, arguments) || this;
      a.transform = new t.Transform();
      return a;
    }
    a.prototype._onClear = function () {
      this.name = "";
      this.path = "";
      this.transform.identity();
      this.parent = null;
    };
    return a;
  }(t.BaseObject);
  t.DisplayData = a;
  var r = function (e) {
    __extends(a, e);
    function a() {
      var a = e !== null && e.apply(this, arguments) || this;
      a.pivot = new t.Point();
      return a;
    }
    a.toString = function () {
      return "[class dragonBones.ImageDisplayData]";
    };
    a.prototype._onClear = function () {
      e.prototype._onClear.call(this);
      this.type = 0;
      this.pivot.clear();
      this.texture = null;
    };
    return a;
  }(a);
  t.ImageDisplayData = r;
  var i = function (t) {
    __extends(e, t);
    function e() {
      var e = t !== null && t.apply(this, arguments) || this;
      e.actions = [];
      return e;
    }
    e.toString = function () {
      return "[class dragonBones.ArmatureDisplayData]";
    };
    e.prototype._onClear = function () {
      t.prototype._onClear.call(this);
      for (var e = 0, a = this.actions; e < a.length; e++) {
        var r = a[e];
        r.returnToPool();
      }
      this.type = 1;
      this.inheritAnimation = false;
      this.actions.length = 0;
      this.armature = null;
    };
    e.prototype.addAction = function (t) {
      this.actions.push(t);
    };
    return e;
  }(a);
  t.ArmatureDisplayData = i;
  var n = function (t) {
    __extends(a, t);
    function a() {
      var a = t !== null && t.apply(this, arguments) || this;
      a.geometry = new e();
      return a;
    }
    a.toString = function () {
      return "[class dragonBones.MeshDisplayData]";
    };
    a.prototype._onClear = function () {
      t.prototype._onClear.call(this);
      this.type = 2;
      this.geometry.clear();
      this.texture = null;
    };
    return a;
  }(a);
  t.MeshDisplayData = n;
  var s = function (t) {
    __extends(e, t);
    function e() {
      var e = t !== null && t.apply(this, arguments) || this;
      e.boundingBox = null;
      return e;
    }
    e.toString = function () {
      return "[class dragonBones.BoundingBoxDisplayData]";
    };
    e.prototype._onClear = function () {
      t.prototype._onClear.call(this);
      if (this.boundingBox !== null) {
        this.boundingBox.returnToPool();
      }
      this.type = 3;
      this.boundingBox = null;
    };
    return e;
  }(a);
  t.BoundingBoxDisplayData = s;
  var o = function (t) {
    __extends(a, t);
    function a() {
      var a = t !== null && t.apply(this, arguments) || this;
      a.geometry = new e();
      a.curveLengths = [];
      return a;
    }
    a.toString = function () {
      return "[class dragonBones.PathDisplayData]";
    };
    a.prototype._onClear = function () {
      t.prototype._onClear.call(this);
      this.type = 4;
      this.closed = false;
      this.constantSpeed = false;
      this.geometry.clear();
      this.curveLengths.length = 0;
    };
    return a;
  }(a);
  t.PathDisplayData = o;
  var l = function (t) {
    __extends(e, t);
    function e() {
      var e = t !== null && t.apply(this, arguments) || this;
      e.bones = [];
      return e;
    }
    e.toString = function () {
      return "[class dragonBones.WeightData]";
    };
    e.prototype._onClear = function () {
      this.count = 0;
      this.offset = 0;
      this.bones.length = 0;
    };
    e.prototype.addBone = function (t) {
      this.bones.push(t);
    };
    return e;
  }(t.BaseObject);
  t.WeightData = l;
})(dragonBones || (dragonBones = {}));
var dragonBones;
(function (t) {
  var e = function (t) {
    __extends(e, t);
    function e() {
      return t !== null && t.apply(this, arguments) || this;
    }
    e.prototype._onClear = function () {
      this.color = 0;
      this.width = 0;
      this.height = 0;
    };
    return e;
  }(t.BaseObject);
  t.BoundingBoxData = e;
  var a = function (t) {
    __extends(e, t);
    function e() {
      return t !== null && t.apply(this, arguments) || this;
    }
    e.toString = function () {
      return "[class dragonBones.RectangleBoundingBoxData]";
    };
    e._computeOutCode = function (t, e, a, r, i, n) {
      var s = 0;
      if (t < a) {
        s |= 1;
      } else if (t > i) {
        s |= 2;
      }
      if (e < r) {
        s |= 4;
      } else if (e > n) {
        s |= 8;
      }
      return s;
    };
    e.rectangleIntersectsSegment = function (t, a, r, i, n, s, o, l, h, u, f) {
      if (h === void 0) {
        h = null;
      }
      if (u === void 0) {
        u = null;
      }
      if (f === void 0) {
        f = null;
      }
      var _ = t > n && t < o && a > s && a < l;
      var m = r > n && r < o && i > s && i < l;
      if (_ && m) {
        return -1;
      }
      var p = 0;
      var c = e._computeOutCode(t, a, n, s, o, l);
      var d = e._computeOutCode(r, i, n, s, o, l);
      while (true) {
        if ((c | d) === 0) {
          p = 2;
          break;
        } else if ((c & d) !== 0) {
          break;
        }
        var y = 0;
        var v = 0;
        var g = 0;
        var D = c !== 0 ? c : d;
        if ((D & 4) !== 0) {
          y = t + (r - t) * (s - a) / (i - a);
          v = s;
          if (f !== null) {
            g = -Math.PI * 0.5;
          }
        } else if ((D & 8) !== 0) {
          y = t + (r - t) * (l - a) / (i - a);
          v = l;
          if (f !== null) {
            g = Math.PI * 0.5;
          }
        } else if ((D & 2) !== 0) {
          v = a + (i - a) * (o - t) / (r - t);
          y = o;
          if (f !== null) {
            g = 0;
          }
        } else if ((D & 1) !== 0) {
          v = a + (i - a) * (n - t) / (r - t);
          y = n;
          if (f !== null) {
            g = Math.PI;
          }
        }
        if (D === c) {
          t = y;
          a = v;
          c = e._computeOutCode(t, a, n, s, o, l);
          if (f !== null) {
            f.x = g;
          }
        } else {
          r = y;
          i = v;
          d = e._computeOutCode(r, i, n, s, o, l);
          if (f !== null) {
            f.y = g;
          }
        }
      }
      if (p) {
        if (_) {
          p = 2;
          if (h !== null) {
            h.x = r;
            h.y = i;
          }
          if (u !== null) {
            u.x = r;
            u.y = r;
          }
          if (f !== null) {
            f.x = f.y + Math.PI;
          }
        } else if (m) {
          p = 1;
          if (h !== null) {
            h.x = t;
            h.y = a;
          }
          if (u !== null) {
            u.x = t;
            u.y = a;
          }
          if (f !== null) {
            f.y = f.x + Math.PI;
          }
        } else {
          p = 3;
          if (h !== null) {
            h.x = t;
            h.y = a;
          }
          if (u !== null) {
            u.x = r;
            u.y = i;
          }
        }
      }
      return p;
    };
    e.prototype._onClear = function () {
      t.prototype._onClear.call(this);
      this.type = 0;
    };
    e.prototype.containsPoint = function (t, e) {
      var a = this.width * 0.5;
      if (t >= -a && t <= a) {
        var r = this.height * 0.5;
        if (e >= -r && e <= r) {
          return true;
        }
      }
      return false;
    };
    e.prototype.intersectsSegment = function (t, a, r, i, n, s, o) {
      if (n === void 0) {
        n = null;
      }
      if (s === void 0) {
        s = null;
      }
      if (o === void 0) {
        o = null;
      }
      var l = this.width * 0.5;
      var h = this.height * 0.5;
      var u = e.rectangleIntersectsSegment(t, a, r, i, -l, -h, l, h, n, s, o);
      return u;
    };
    return e;
  }(e);
  t.RectangleBoundingBoxData = a;
  var r = function (t) {
    __extends(e, t);
    function e() {
      return t !== null && t.apply(this, arguments) || this;
    }
    e.toString = function () {
      return "[class dragonBones.EllipseData]";
    };
    e.ellipseIntersectsSegment = function (t, e, a, r, i, n, s, o, l, h, u) {
      if (l === void 0) {
        l = null;
      }
      if (h === void 0) {
        h = null;
      }
      if (u === void 0) {
        u = null;
      }
      var f = s / o;
      var _ = f * f;
      e *= f;
      r *= f;
      var m = a - t;
      var p = r - e;
      var c = Math.sqrt(m * m + p * p);
      var d = m / c;
      var y = p / c;
      var v = (i - t) * d + (n - e) * y;
      var g = v * v;
      var D = t * t + e * e;
      var T = s * s;
      var b = T - D + g;
      var A = 0;
      if (b >= 0) {
        var P = Math.sqrt(b);
        var S = v - P;
        var O = v + P;
        var x = S < 0 ? -1 : S <= c ? 0 : 1;
        var B = O < 0 ? -1 : O <= c ? 0 : 1;
        var E = x * B;
        if (E < 0) {
          return -1;
        } else if (E === 0) {
          if (x === -1) {
            A = 2;
            a = t + O * d;
            r = (e + O * y) / f;
            if (l !== null) {
              l.x = a;
              l.y = r;
            }
            if (h !== null) {
              h.x = a;
              h.y = r;
            }
            if (u !== null) {
              u.x = Math.atan2(r / T * _, a / T);
              u.y = u.x + Math.PI;
            }
          } else if (B === 1) {
            A = 1;
            t = t + S * d;
            e = (e + S * y) / f;
            if (l !== null) {
              l.x = t;
              l.y = e;
            }
            if (h !== null) {
              h.x = t;
              h.y = e;
            }
            if (u !== null) {
              u.x = Math.atan2(e / T * _, t / T);
              u.y = u.x + Math.PI;
            }
          } else {
            A = 3;
            if (l !== null) {
              l.x = t + S * d;
              l.y = (e + S * y) / f;
              if (u !== null) {
                u.x = Math.atan2(l.y / T * _, l.x / T);
              }
            }
            if (h !== null) {
              h.x = t + O * d;
              h.y = (e + O * y) / f;
              if (u !== null) {
                u.y = Math.atan2(h.y / T * _, h.x / T);
              }
            }
          }
        }
      }
      return A;
    };
    e.prototype._onClear = function () {
      t.prototype._onClear.call(this);
      this.type = 1;
    };
    e.prototype.containsPoint = function (t, e) {
      var a = this.width * 0.5;
      if (t >= -a && t <= a) {
        var r = this.height * 0.5;
        if (e >= -r && e <= r) {
          e *= a / r;
          return Math.sqrt(t * t + e * e) <= a;
        }
      }
      return false;
    };
    e.prototype.intersectsSegment = function (t, a, r, i, n, s, o) {
      if (n === void 0) {
        n = null;
      }
      if (s === void 0) {
        s = null;
      }
      if (o === void 0) {
        o = null;
      }
      var l = e.ellipseIntersectsSegment(t, a, r, i, 0, 0, this.width * 0.5, this.height * 0.5, n, s, o);
      return l;
    };
    return e;
  }(e);
  t.EllipseBoundingBoxData = r;
  var i = function (t) {
    __extends(e, t);
    function e() {
      var e = t !== null && t.apply(this, arguments) || this;
      e.vertices = [];
      return e;
    }
    e.toString = function () {
      return "[class dragonBones.PolygonBoundingBoxData]";
    };
    e.polygonIntersectsSegment = function (t, e, a, r, i, n, s, o) {
      if (n === void 0) {
        n = null;
      }
      if (s === void 0) {
        s = null;
      }
      if (o === void 0) {
        o = null;
      }
      if (t === a) {
        t = a + 1e-6;
      }
      if (e === r) {
        e = r + 1e-6;
      }
      var l = i.length;
      var h = t - a;
      var u = e - r;
      var f = t * r - e * a;
      var _ = 0;
      var m = i[l - 2];
      var p = i[l - 1];
      var c = 0;
      var d = 0;
      var y = 0;
      var v = 0;
      var g = 0;
      var D = 0;
      for (var T = 0; T < l; T += 2) {
        var b = i[T];
        var A = i[T + 1];
        if (m === b) {
          m = b + 1e-4;
        }
        if (p === A) {
          p = A + 1e-4;
        }
        var P = m - b;
        var S = p - A;
        var O = m * A - p * b;
        var x = h * S - u * P;
        var B = (f * P - h * O) / x;
        if ((B >= m && B <= b || B >= b && B <= m) && (h === 0 || B >= t && B <= a || B >= a && B <= t)) {
          var E = (f * S - u * O) / x;
          if ((E >= p && E <= A || E >= A && E <= p) && (u === 0 || E >= e && E <= r || E >= r && E <= e)) {
            if (s !== null) {
              var M = B - t;
              if (M < 0) {
                M = -M;
              }
              if (_ === 0) {
                c = M;
                d = M;
                y = B;
                v = E;
                g = B;
                D = E;
                if (o !== null) {
                  o.x = Math.atan2(A - p, b - m) - Math.PI * 0.5;
                  o.y = o.x;
                }
              } else {
                if (M < c) {
                  c = M;
                  y = B;
                  v = E;
                  if (o !== null) {
                    o.x = Math.atan2(A - p, b - m) - Math.PI * 0.5;
                  }
                }
                if (M > d) {
                  d = M;
                  g = B;
                  D = E;
                  if (o !== null) {
                    o.y = Math.atan2(A - p, b - m) - Math.PI * 0.5;
                  }
                }
              }
              _++;
            } else {
              y = B;
              v = E;
              g = B;
              D = E;
              _++;
              if (o !== null) {
                o.x = Math.atan2(A - p, b - m) - Math.PI * 0.5;
                o.y = o.x;
              }
              break;
            }
          }
        }
        m = b;
        p = A;
      }
      if (_ === 1) {
        if (n !== null) {
          n.x = y;
          n.y = v;
        }
        if (s !== null) {
          s.x = y;
          s.y = v;
        }
        if (o !== null) {
          o.y = o.x + Math.PI;
        }
      } else if (_ > 1) {
        _++;
        if (n !== null) {
          n.x = y;
          n.y = v;
        }
        if (s !== null) {
          s.x = g;
          s.y = D;
        }
      }
      return _;
    };
    e.prototype._onClear = function () {
      t.prototype._onClear.call(this);
      this.type = 2;
      this.x = 0;
      this.y = 0;
      this.vertices.length = 0;
    };
    e.prototype.containsPoint = function (t, e) {
      var a = false;
      if (t >= this.x && t <= this.width && e >= this.y && e <= this.height) {
        for (var r = 0, i = this.vertices.length, n = i - 2; r < i; r += 2) {
          var s = this.vertices[n + 1];
          var o = this.vertices[r + 1];
          if (o < e && s >= e || s < e && o >= e) {
            var l = this.vertices[n];
            var h = this.vertices[r];
            if ((e - o) * (l - h) / (s - o) + h < t) {
              a = !a;
            }
          }
          n = r;
        }
      }
      return a;
    };
    e.prototype.intersectsSegment = function (t, r, i, n, s, o, l) {
      if (s === void 0) {
        s = null;
      }
      if (o === void 0) {
        o = null;
      }
      if (l === void 0) {
        l = null;
      }
      var h = 0;
      if (a.rectangleIntersectsSegment(t, r, i, n, this.x, this.y, this.x + this.width, this.y + this.height, null, null, null) !== 0) {
        h = e.polygonIntersectsSegment(t, r, i, n, this.vertices, s, o, l);
      }
      return h;
    };
    return e;
  }(e);
  t.PolygonBoundingBoxData = i;
})(dragonBones || (dragonBones = {}));
var dragonBones;
(function (t) {
  var e = function (t) {
    __extends(e, t);
    function e() {
      var e = t !== null && t.apply(this, arguments) || this;
      e.cachedFrames = [];
      e.boneTimelines = {};
      e.slotTimelines = {};
      e.constraintTimelines = {};
      e.animationTimelines = {};
      e.boneCachedFrameIndices = {};
      e.slotCachedFrameIndices = {};
      e.actionTimeline = null;
      e.zOrderTimeline = null;
      return e;
    }
    e.toString = function () {
      return "[class dragonBones.AnimationData]";
    };
    e.prototype._onClear = function () {
      for (var t in this.boneTimelines) {
        for (var e = 0, a = this.boneTimelines[t]; e < a.length; e++) {
          var r = a[e];
          r.returnToPool();
        }
        delete this.boneTimelines[t];
      }
      for (var t in this.slotTimelines) {
        for (var i = 0, n = this.slotTimelines[t]; i < n.length; i++) {
          var r = n[i];
          r.returnToPool();
        }
        delete this.slotTimelines[t];
      }
      for (var t in this.constraintTimelines) {
        for (var s = 0, o = this.constraintTimelines[t]; s < o.length; s++) {
          var r = o[s];
          r.returnToPool();
        }
        delete this.constraintTimelines[t];
      }
      for (var t in this.animationTimelines) {
        for (var l = 0, h = this.animationTimelines[t]; l < h.length; l++) {
          var r = h[l];
          r.returnToPool();
        }
        delete this.animationTimelines[t];
      }
      for (var t in this.boneCachedFrameIndices) {
        delete this.boneCachedFrameIndices[t];
      }
      for (var t in this.slotCachedFrameIndices) {
        delete this.slotCachedFrameIndices[t];
      }
      if (this.actionTimeline !== null) {
        this.actionTimeline.returnToPool();
      }
      if (this.zOrderTimeline !== null) {
        this.zOrderTimeline.returnToPool();
      }
      this.frameIntOffset = 0;
      this.frameFloatOffset = 0;
      this.frameOffset = 0;
      this.blendType = 0;
      this.frameCount = 0;
      this.playTimes = 0;
      this.duration = 0;
      this.scale = 1;
      this.fadeInTime = 0;
      this.cacheFrameRate = 0;
      this.name = "";
      this.cachedFrames.length = 0;
      this.actionTimeline = null;
      this.zOrderTimeline = null;
      this.parent = null;
    };
    e.prototype.cacheFrames = function (t) {
      if (this.cacheFrameRate > 0) {
        return;
      }
      this.cacheFrameRate = Math.max(Math.ceil(t * this.scale), 1);
      var e = Math.ceil(this.cacheFrameRate * this.duration) + 1;
      this.cachedFrames.length = e;
      for (var a = 0, r = this.cacheFrames.length; a < r; ++a) {
        this.cachedFrames[a] = false;
      }
      for (var i = 0, n = this.parent.sortedBones; i < n.length; i++) {
        var s = n[i];
        var o = new Array(e);
        for (var a = 0, r = o.length; a < r; ++a) {
          o[a] = -1;
        }
        this.boneCachedFrameIndices[s.name] = o;
      }
      for (var l = 0, h = this.parent.sortedSlots; l < h.length; l++) {
        var u = h[l];
        var o = new Array(e);
        for (var a = 0, r = o.length; a < r; ++a) {
          o[a] = -1;
        }
        this.slotCachedFrameIndices[u.name] = o;
      }
    };
    e.prototype.addBoneTimeline = function (t, e) {
      var a = t in this.boneTimelines ? this.boneTimelines[t] : this.boneTimelines[t] = [];
      if (a.indexOf(e) < 0) {
        a.push(e);
      }
    };
    e.prototype.addSlotTimeline = function (t, e) {
      var a = t in this.slotTimelines ? this.slotTimelines[t] : this.slotTimelines[t] = [];
      if (a.indexOf(e) < 0) {
        a.push(e);
      }
    };
    e.prototype.addConstraintTimeline = function (t, e) {
      var a = t in this.constraintTimelines ? this.constraintTimelines[t] : this.constraintTimelines[t] = [];
      if (a.indexOf(e) < 0) {
        a.push(e);
      }
    };
    e.prototype.addAnimationTimeline = function (t, e) {
      var a = t in this.animationTimelines ? this.animationTimelines[t] : this.animationTimelines[t] = [];
      if (a.indexOf(e) < 0) {
        a.push(e);
      }
    };
    e.prototype.getBoneTimelines = function (t) {
      return t in this.boneTimelines ? this.boneTimelines[t] : null;
    };
    e.prototype.getSlotTimelines = function (t) {
      return t in this.slotTimelines ? this.slotTimelines[t] : null;
    };
    e.prototype.getConstraintTimelines = function (t) {
      return t in this.constraintTimelines ? this.constraintTimelines[t] : null;
    };
    e.prototype.getAnimationTimelines = function (t) {
      return t in this.animationTimelines ? this.animationTimelines[t] : null;
    };
    e.prototype.getBoneCachedFrameIndices = function (t) {
      return t in this.boneCachedFrameIndices ? this.boneCachedFrameIndices[t] : null;
    };
    e.prototype.getSlotCachedFrameIndices = function (t) {
      return t in this.slotCachedFrameIndices ? this.slotCachedFrameIndices[t] : null;
    };
    return e;
  }(t.BaseObject);
  t.AnimationData = e;
  var a = function (t) {
    __extends(e, t);
    function e() {
      return t !== null && t.apply(this, arguments) || this;
    }
    e.toString = function () {
      return "[class dragonBones.TimelineData]";
    };
    e.prototype._onClear = function () {
      this.type = 10;
      this.offset = 0;
      this.frameIndicesOffset = -1;
    };
    return e;
  }(t.BaseObject);
  t.TimelineData = a;
  var r = function (t) {
    __extends(e, t);
    function e() {
      return t !== null && t.apply(this, arguments) || this;
    }
    e.toString = function () {
      return "[class dragonBones.AnimationTimelineData]";
    };
    e.prototype._onClear = function () {
      t.prototype._onClear.call(this);
      this.x = 0;
      this.y = 0;
    };
    return e;
  }(a);
  t.AnimationTimelineData = r;
})(dragonBones || (dragonBones = {}));
var dragonBones;
(function (t) {
  var e = function (t) {
    __extends(e, t);
    function e() {
      var e = t !== null && t.apply(this, arguments) || this;
      e.boneMask = [];
      return e;
    }
    e.toString = function () {
      return "[class dragonBones.AnimationConfig]";
    };
    e.prototype._onClear = function () {
      this.pauseFadeOut = true;
      this.fadeOutMode = 4;
      this.fadeOutTweenType = 1;
      this.fadeOutTime = -1;
      this.actionEnabled = true;
      this.additive = false;
      this.displayControl = true;
      this.pauseFadeIn = true;
      this.resetToPose = true;
      this.fadeInTweenType = 1;
      this.playTimes = -1;
      this.layer = 0;
      this.position = 0;
      this.duration = -1;
      this.timeScale = -100;
      this.weight = 1;
      this.fadeInTime = -1;
      this.autoFadeOutTime = -1;
      this.name = "";
      this.animation = "";
      this.group = "";
      this.boneMask.length = 0;
    };
    e.prototype.clear = function () {
      this._onClear();
    };
    e.prototype.copyFrom = function (t) {
      this.pauseFadeOut = t.pauseFadeOut;
      this.fadeOutMode = t.fadeOutMode;
      this.autoFadeOutTime = t.autoFadeOutTime;
      this.fadeOutTweenType = t.fadeOutTweenType;
      this.actionEnabled = t.actionEnabled;
      this.additive = t.additive;
      this.displayControl = t.displayControl;
      this.pauseFadeIn = t.pauseFadeIn;
      this.resetToPose = t.resetToPose;
      this.playTimes = t.playTimes;
      this.layer = t.layer;
      this.position = t.position;
      this.duration = t.duration;
      this.timeScale = t.timeScale;
      this.fadeInTime = t.fadeInTime;
      this.fadeOutTime = t.fadeOutTime;
      this.fadeInTweenType = t.fadeInTweenType;
      this.weight = t.weight;
      this.name = t.name;
      this.animation = t.animation;
      this.group = t.group;
      this.boneMask.length = t.boneMask.length;
      for (var e = 0, a = this.boneMask.length; e < a; ++e) {
        this.boneMask[e] = t.boneMask[e];
      }
    };
    return e;
  }(t.BaseObject);
  t.AnimationConfig = e;
})(dragonBones || (dragonBones = {}));
var dragonBones;
(function (t) {
  var e = function (t) {
    __extends(e, t);
    function e() {
      var e = t !== null && t.apply(this, arguments) || this;
      e.textures = {};
      return e;
    }
    e.prototype._onClear = function () {
      for (var t in this.textures) {
        this.textures[t].returnToPool();
        delete this.textures[t];
      }
      this.autoSearch = false;
      this.width = 0;
      this.height = 0;
      this.scale = 1;
      this.name = "";
      this.imagePath = "";
    };
    e.prototype.copyFrom = function (t) {
      this.autoSearch = t.autoSearch;
      this.scale = t.scale;
      this.width = t.width;
      this.height = t.height;
      this.name = t.name;
      this.imagePath = t.imagePath;
      for (var e in this.textures) {
        this.textures[e].returnToPool();
        delete this.textures[e];
      }
      for (var e in t.textures) {
        var a = this.createTexture();
        a.copyFrom(t.textures[e]);
        this.textures[e] = a;
      }
    };
    e.prototype.addTexture = function (t) {
      if (t.name in this.textures) {
        console.warn("Same texture: " + t.name);
        return;
      }
      t.parent = this;
      this.textures[t.name] = t;
    };
    e.prototype.getTexture = function (t) {
      return t in this.textures ? this.textures[t] : null;
    };
    return e;
  }(t.BaseObject);
  t.TextureAtlasData = e;
  var a = function (e) {
    __extends(a, e);
    function a() {
      var a = e !== null && e.apply(this, arguments) || this;
      a.region = new t.Rectangle();
      a.frame = null;
      return a;
    }
    a.createRectangle = function () {
      return new t.Rectangle();
    };
    a.prototype._onClear = function () {
      this.rotated = false;
      this.name = "";
      this.region.clear();
      this.parent = null;
      this.frame = null;
    };
    a.prototype.copyFrom = function (t) {
      this.rotated = t.rotated;
      this.name = t.name;
      this.region.copyFrom(t.region);
      this.parent = t.parent;
      if (this.frame === null && t.frame !== null) {
        this.frame = a.createRectangle();
      } else if (this.frame !== null && t.frame === null) {
        this.frame = null;
      }
      if (this.frame !== null && t.frame !== null) {
        this.frame.copyFrom(t.frame);
      }
    };
    return a;
  }(t.BaseObject);
  t.TextureData = a;
})(dragonBones || (dragonBones = {}));
var dragonBones;
(function (t) {
  var e = function (e) {
    __extends(a, e);
    function a() {
      var t = e !== null && e.apply(this, arguments) || this;
      t._bones = [];
      t._slots = [];
      t._constraints = [];
      t._actions = [];
      t._animation = null;
      t._proxy = null;
      t._replaceTextureAtlasData = null;
      t._clock = null;
      return t;
    }
    a.toString = function () {
      return "[class dragonBones.Armature]";
    };
    a._onSortSlots = function (t, e) {
      return t._zIndex * 1e3 + t._zOrder > e._zIndex * 1e3 + e._zOrder ? 1 : -1;
    };
    a.prototype._onClear = function () {
      if (this._clock !== null) {
        this._clock.remove(this);
      }
      for (var t = 0, e = this._bones; t < e.length; t++) {
        var a = e[t];
        a.returnToPool();
      }
      for (var r = 0, i = this._slots; r < i.length; r++) {
        var n = i[r];
        n.returnToPool();
      }
      for (var s = 0, o = this._constraints; s < o.length; s++) {
        var l = o[s];
        l.returnToPool();
      }
      for (var h = 0, u = this._actions; h < u.length; h++) {
        var f = u[h];
        f.returnToPool();
      }
      if (this._animation !== null) {
        this._animation.returnToPool();
      }
      if (this._proxy !== null) {
        this._proxy.dbClear();
      }
      if (this._replaceTextureAtlasData !== null) {
        this._replaceTextureAtlasData.returnToPool();
      }
      this.inheritAnimation = true;
      this.userData = null;
      this._lockUpdate = false;
      this._slotsDirty = true;
      this._zOrderDirty = false;
      this._zIndexDirty = false;
      this._alphaDirty = true;
      this._flipX = false;
      this._flipY = false;
      this._cacheFrameIndex = -1;
      this._alpha = 1;
      this._globalAlpha = 1;
      this._bones.length = 0;
      this._slots.length = 0;
      this._constraints.length = 0;
      this._actions.length = 0;
      this._armatureData = null;
      this._animation = null;
      this._proxy = null;
      this._display = null;
      this._replaceTextureAtlasData = null;
      this._replacedTexture = null;
      this._dragonBones = null;
      this._clock = null;
      this._parent = null;
    };
    a.prototype._sortZOrder = function (t, e) {
      var a = this._armatureData.sortedSlots;
      var r = t === null;
      if (this._zOrderDirty || !r) {
        for (var i = 0, n = a.length; i < n; ++i) {
          var s = r ? i : t[e + i];
          if (s < 0 || s >= n) {
            continue;
          }
          var o = a[s];
          var l = this.getSlot(o.name);
          if (l !== null) {
            l._setZOrder(i);
          }
        }
        this._slotsDirty = true;
        this._zOrderDirty = !r;
      }
    };
    a.prototype._addBone = function (t) {
      if (this._bones.indexOf(t) < 0) {
        this._bones.push(t);
      }
    };
    a.prototype._addSlot = function (t) {
      if (this._slots.indexOf(t) < 0) {
        this._slots.push(t);
      }
    };
    a.prototype._addConstraint = function (t) {
      if (this._constraints.indexOf(t) < 0) {
        this._constraints.push(t);
      }
    };
    a.prototype._bufferAction = function (t, e) {
      if (this._actions.indexOf(t) < 0) {
        if (e) {
          this._actions.push(t);
        } else {
          this._actions.unshift(t);
        }
      }
    };
    a.prototype.dispose = function () {
      if (this._armatureData !== null) {
        this._lockUpdate = true;
        this._dragonBones.bufferObject(this);
      }
    };
    a.prototype.init = function (e, a, r, i) {
      if (this._armatureData !== null) {
        return;
      }
      this._armatureData = e;
      this._animation = t.BaseObject.borrowObject(t.Animation);
      this._proxy = a;
      this._display = r;
      this._dragonBones = i;
      this._proxy.dbInit(this);
      this._animation.init(this);
      this._animation.animations = this._armatureData.animations;
    };
    a.prototype.advanceTime = function (t) {
      if (this._lockUpdate) {
        return;
      }
      this._lockUpdate = true;
      if (this._armatureData === null) {
        console.warn("The armature has been disposed.");
        return;
      } else if (this._armatureData.parent === null) {
        console.warn("The armature data has been disposed.\nPlease make sure dispose armature before call factory.clear().");
        return;
      }
      var e = this._cacheFrameIndex;
      this._animation.advanceTime(t);
      if (this._slotsDirty || this._zIndexDirty) {
        this._slots.sort(a._onSortSlots);
        if (this._zIndexDirty) {
          for (var r = 0, i = this._slots.length; r < i; ++r) {
            this._slots[r]._setZOrder(r);
          }
        }
        this._slotsDirty = false;
        this._zIndexDirty = false;
      }
      if (this._alphaDirty) {
        this._alphaDirty = false;
        this._globalAlpha = this._alpha * (this._parent !== null ? this._parent._globalAlpha : 1);
        for (var n = 0, s = this._bones; n < s.length; n++) {
          var o = s[n];
          o._updateAlpha();
        }
        for (var l = 0, h = this._slots; l < h.length; l++) {
          var u = h[l];
          u._updateAlpha();
        }
      }
      if (this._cacheFrameIndex < 0 || this._cacheFrameIndex !== e) {
        var r = 0,
          i = 0;
        for (r = 0, i = this._bones.length; r < i; ++r) {
          this._bones[r].update(this._cacheFrameIndex);
        }
        for (r = 0, i = this._slots.length; r < i; ++r) {
          this._slots[r].update(this._cacheFrameIndex);
        }
      }
      if (this._actions.length > 0) {
        for (var f = 0, _ = this._actions; f < _.length; f++) {
          var m = _[f];
          var p = m.actionData;
          if (p !== null) {
            if (p.type === 0) {
              if (m.slot !== null) {
                var c = m.slot.childArmature;
                if (c !== null) {
                  c.animation.fadeIn(p.name);
                }
              } else if (m.bone !== null) {
                for (var d = 0, y = this.getSlots(); d < y.length; d++) {
                  var u = y[d];
                  if (u.parent === m.bone) {
                    var c = u.childArmature;
                    if (c !== null) {
                      c.animation.fadeIn(p.name);
                    }
                  }
                }
              } else {
                this._animation.fadeIn(p.name);
              }
            }
          }
          m.returnToPool();
        }
        this._actions.length = 0;
      }
      this._lockUpdate = false;
      this._proxy.dbUpdate();
    };
    a.prototype.invalidUpdate = function (t, e) {
      if (t === void 0) {
        t = null;
      }
      if (e === void 0) {
        e = false;
      }
      if (t !== null && t.length > 0) {
        var a = this.getBone(t);
        if (a !== null) {
          a.invalidUpdate();
          if (e) {
            for (var r = 0, i = this._slots; r < i.length; r++) {
              var n = i[r];
              if (n.parent === a) {
                n.invalidUpdate();
              }
            }
          }
        }
      } else {
        for (var s = 0, o = this._bones; s < o.length; s++) {
          var a = o[s];
          a.invalidUpdate();
        }
        if (e) {
          for (var l = 0, h = this._slots; l < h.length; l++) {
            var n = h[l];
            n.invalidUpdate();
          }
        }
      }
    };
    a.prototype.containsPoint = function (t, e) {
      for (var a = 0, r = this._slots; a < r.length; a++) {
        var i = r[a];
        if (i.containsPoint(t, e)) {
          return i;
        }
      }
      return null;
    };
    a.prototype.intersectsSegment = function (t, e, a, r, i, n, s) {
      if (i === void 0) {
        i = null;
      }
      if (n === void 0) {
        n = null;
      }
      if (s === void 0) {
        s = null;
      }
      var o = t === a;
      var l = 0;
      var h = 0;
      var u = 0;
      var f = 0;
      var _ = 0;
      var m = 0;
      var p = 0;
      var c = 0;
      var d = null;
      var y = null;
      for (var v = 0, g = this._slots; v < g.length; v++) {
        var D = g[v];
        var T = D.intersectsSegment(t, e, a, r, i, n, s);
        if (T > 0) {
          if (i !== null || n !== null) {
            if (i !== null) {
              var b = o ? i.y - e : i.x - t;
              if (b < 0) {
                b = -b;
              }
              if (d === null || b < l) {
                l = b;
                u = i.x;
                f = i.y;
                d = D;
                if (s) {
                  p = s.x;
                }
              }
            }
            if (n !== null) {
              var b = n.x - t;
              if (b < 0) {
                b = -b;
              }
              if (y === null || b > h) {
                h = b;
                _ = n.x;
                m = n.y;
                y = D;
                if (s !== null) {
                  c = s.y;
                }
              }
            }
          } else {
            d = D;
            break;
          }
        }
      }
      if (d !== null && i !== null) {
        i.x = u;
        i.y = f;
        if (s !== null) {
          s.x = p;
        }
      }
      if (y !== null && n !== null) {
        n.x = _;
        n.y = m;
        if (s !== null) {
          s.y = c;
        }
      }
      return d;
    };
    a.prototype.getBone = function (t) {
      for (var e = 0, a = this._bones; e < a.length; e++) {
        var r = a[e];
        if (r.name === t) {
          return r;
        }
      }
      return null;
    };
    a.prototype.getBoneByDisplay = function (t) {
      var e = this.getSlotByDisplay(t);
      return e !== null ? e.parent : null;
    };
    a.prototype.getSlot = function (t) {
      for (var e = 0, a = this._slots; e < a.length; e++) {
        var r = a[e];
        if (r.name === t) {
          return r;
        }
      }
      return null;
    };
    a.prototype.getSlotByDisplay = function (t) {
      if (t !== null) {
        for (var e = 0, a = this._slots; e < a.length; e++) {
          var r = a[e];
          if (r.display === t) {
            return r;
          }
        }
      }
      return null;
    };
    a.prototype.getBones = function () {
      return this._bones;
    };
    a.prototype.getSlots = function () {
      return this._slots;
    };
    Object.defineProperty(a.prototype, "flipX", {
      get: function get() {
        return this._flipX;
      },
      set: function set(t) {
        if (this._flipX === t) {
          return;
        }
        this._flipX = t;
        this.invalidUpdate();
      },
      enumerable: true,
      configurable: true
    });
    Object.defineProperty(a.prototype, "flipY", {
      get: function get() {
        return this._flipY;
      },
      set: function set(t) {
        if (this._flipY === t) {
          return;
        }
        this._flipY = t;
        this.invalidUpdate();
      },
      enumerable: true,
      configurable: true
    });
    Object.defineProperty(a.prototype, "cacheFrameRate", {
      get: function get() {
        return this._armatureData.cacheFrameRate;
      },
      set: function set(t) {
        if (this._armatureData.cacheFrameRate !== t) {
          this._armatureData.cacheFrames(t);
          for (var e = 0, a = this._slots; e < a.length; e++) {
            var r = a[e];
            var i = r.childArmature;
            if (i !== null) {
              i.cacheFrameRate = t;
            }
          }
        }
      },
      enumerable: true,
      configurable: true
    });
    Object.defineProperty(a.prototype, "name", {
      get: function get() {
        return this._armatureData.name;
      },
      enumerable: true,
      configurable: true
    });
    Object.defineProperty(a.prototype, "armatureData", {
      get: function get() {
        return this._armatureData;
      },
      enumerable: true,
      configurable: true
    });
    Object.defineProperty(a.prototype, "animation", {
      get: function get() {
        return this._animation;
      },
      enumerable: true,
      configurable: true
    });
    Object.defineProperty(a.prototype, "proxy", {
      get: function get() {
        return this._proxy;
      },
      enumerable: true,
      configurable: true
    });
    Object.defineProperty(a.prototype, "eventDispatcher", {
      get: function get() {
        return this._proxy;
      },
      enumerable: true,
      configurable: true
    });
    Object.defineProperty(a.prototype, "display", {
      get: function get() {
        return this._display;
      },
      enumerable: true,
      configurable: true
    });
    Object.defineProperty(a.prototype, "replacedTexture", {
      get: function get() {
        return this._replacedTexture;
      },
      set: function set(t) {
        if (this._replacedTexture === t) {
          return;
        }
        if (this._replaceTextureAtlasData !== null) {
          this._replaceTextureAtlasData.returnToPool();
          this._replaceTextureAtlasData = null;
        }
        this._replacedTexture = t;
        for (var e = 0, a = this._slots; e < a.length; e++) {
          var r = a[e];
          r.invalidUpdate();
          r.update(-1);
        }
      },
      enumerable: true,
      configurable: true
    });
    Object.defineProperty(a.prototype, "clock", {
      get: function get() {
        return this._clock;
      },
      set: function set(t) {
        if (this._clock === t) {
          return;
        }
        if (this._clock !== null) {
          this._clock.remove(this);
        }
        this._clock = t;
        if (this._clock) {
          this._clock.add(this);
        }
        for (var e = 0, a = this._slots; e < a.length; e++) {
          var r = a[e];
          var i = r.childArmature;
          if (i !== null) {
            i.clock = this._clock;
          }
        }
      },
      enumerable: true,
      configurable: true
    });
    Object.defineProperty(a.prototype, "parent", {
      get: function get() {
        return this._parent;
      },
      enumerable: true,
      configurable: true
    });
    a.prototype.getDisplay = function () {
      return this._display;
    };
    return a;
  }(t.BaseObject);
  t.Armature = e;
})(dragonBones || (dragonBones = {}));
var dragonBones;
(function (t) {
  var e = function (e) {
    __extends(a, e);
    function a() {
      var a = e !== null && e.apply(this, arguments) || this;
      a.globalTransformMatrix = new t.Matrix();
      a.global = new t.Transform();
      a.offset = new t.Transform();
      return a;
    }
    a.prototype._onClear = function () {
      this.globalTransformMatrix.identity();
      this.global.identity();
      this.offset.identity();
      this.origin = null;
      this.userData = null;
      this._globalDirty = false;
      this._alpha = 1;
      this._globalAlpha = 1;
      this._armature = null;
    };
    a.prototype.updateGlobalTransform = function () {
      if (this._globalDirty) {
        this._globalDirty = false;
        this.global.fromMatrix(this.globalTransformMatrix);
      }
    };
    Object.defineProperty(a.prototype, "armature", {
      get: function get() {
        return this._armature;
      },
      enumerable: true,
      configurable: true
    });
    a._helpMatrix = new t.Matrix();
    a._helpTransform = new t.Transform();
    a._helpPoint = new t.Point();
    return a;
  }(t.BaseObject);
  t.TransformObject = e;
})(dragonBones || (dragonBones = {}));
var dragonBones;
(function (t) {
  var e = function (e) {
    __extends(a, e);
    function a() {
      var a = e !== null && e.apply(this, arguments) || this;
      a.animationPose = new t.Transform();
      return a;
    }
    a.toString = function () {
      return "[class dragonBones.Bone]";
    };
    a.prototype._onClear = function () {
      e.prototype._onClear.call(this);
      this.offsetMode = 1;
      this.animationPose.identity();
      this._transformDirty = false;
      this._childrenTransformDirty = false;
      this._localDirty = true;
      this._hasConstraint = false;
      this._visible = true;
      this._cachedFrameIndex = -1;
      this._boneData = null;
      this._parent = null;
      this._cachedFrameIndices = null;
    };
    a.prototype._updateGlobalTransformMatrix = function (e) {
      var a = this._boneData;
      var r = this.global;
      var i = this.globalTransformMatrix;
      var n = this.origin;
      var s = this.offset;
      var o = this.animationPose;
      var l = this._parent;
      var h = this._armature.flipX;
      var u = this._armature.flipY === t.DragonBones.yDown;
      var f = l !== null;
      var _ = 0;
      if (this.offsetMode === 1) {
        if (n !== null) {
          r.x = n.x + s.x + o.x;
          r.y = n.y + s.y + o.y;
          r.skew = n.skew + s.skew + o.skew;
          r.rotation = n.rotation + s.rotation + o.rotation;
          r.scaleX = n.scaleX * s.scaleX * o.scaleX;
          r.scaleY = n.scaleY * s.scaleY * o.scaleY;
        } else {
          r.copyFrom(s).add(o);
        }
      } else if (this.offsetMode === 0) {
        if (n !== null) {
          r.copyFrom(n).add(o);
        } else {
          r.copyFrom(o);
        }
      } else {
        f = false;
        r.copyFrom(s);
      }
      if (f) {
        var m = l._boneData.type === 1;
        var p = m ? l._bone : null;
        var c = m ? l._getGlobalTransformMatrix(r.x, r.y) : l.globalTransformMatrix;
        if (a.inheritScale && (!m || p !== null)) {
          if (m) {
            if (a.inheritRotation) {
              r.rotation += l.global.rotation;
            }
            p.updateGlobalTransform();
            r.scaleX *= p.global.scaleX;
            r.scaleY *= p.global.scaleY;
            c.transformPoint(r.x, r.y, r);
            r.toMatrix(i);
            if (a.inheritTranslation) {
              r.x = i.tx;
              r.y = i.ty;
            } else {
              i.tx = r.x;
              i.ty = r.y;
            }
          } else {
            if (!a.inheritRotation) {
              l.updateGlobalTransform();
              if (h && u) {
                _ = r.rotation - (l.global.rotation + Math.PI);
              } else if (h) {
                _ = r.rotation + l.global.rotation + Math.PI;
              } else if (u) {
                _ = r.rotation + l.global.rotation;
              } else {
                _ = r.rotation - l.global.rotation;
              }
              r.rotation = _;
            }
            r.toMatrix(i);
            i.concat(c);
            if (a.inheritTranslation) {
              r.x = i.tx;
              r.y = i.ty;
            } else {
              i.tx = r.x;
              i.ty = r.y;
            }
            if (e) {
              r.fromMatrix(i);
            } else {
              this._globalDirty = true;
            }
          }
        } else {
          if (a.inheritTranslation) {
            var d = r.x;
            var y = r.y;
            r.x = c.a * d + c.c * y + c.tx;
            r.y = c.b * d + c.d * y + c.ty;
          } else {
            if (h) {
              r.x = -r.x;
            }
            if (u) {
              r.y = -r.y;
            }
          }
          if (a.inheritRotation) {
            l.updateGlobalTransform();
            if (l.global.scaleX < 0) {
              _ = r.rotation + l.global.rotation + Math.PI;
            } else {
              _ = r.rotation + l.global.rotation;
            }
            if (c.a * c.d - c.b * c.c < 0) {
              _ -= r.rotation * 2;
              if (h !== u || a.inheritReflection) {
                r.skew += Math.PI;
              }
            }
            r.rotation = _;
          } else if (h || u) {
            if (h && u) {
              _ = r.rotation + Math.PI;
            } else {
              if (h) {
                _ = Math.PI - r.rotation;
              } else {
                _ = -r.rotation;
              }
              r.skew += Math.PI;
            }
            r.rotation = _;
          }
          r.toMatrix(i);
        }
      } else {
        if (h || u) {
          if (h) {
            r.x = -r.x;
          }
          if (u) {
            r.y = -r.y;
          }
          if (h && u) {
            _ = r.rotation + Math.PI;
          } else {
            if (h) {
              _ = Math.PI - r.rotation;
            } else {
              _ = -r.rotation;
            }
            r.skew += Math.PI;
          }
          r.rotation = _;
        }
        r.toMatrix(i);
      }
    };
    a.prototype._updateAlpha = function () {
      if (this._parent !== null) {
        this._globalAlpha = this._alpha * this._parent._globalAlpha;
      } else {
        this._globalAlpha = this._alpha * this._armature._globalAlpha;
      }
    };
    a.prototype.init = function (t, e) {
      if (this._boneData !== null) {
        return;
      }
      this._boneData = t;
      this._armature = e;
      this._alpha = this._boneData.alpha;
      if (this._boneData.parent !== null) {
        this._parent = this._armature.getBone(this._boneData.parent.name);
      }
      this._armature._addBone(this);
      this.origin = this._boneData.transform;
    };
    a.prototype.update = function (t) {
      if (t >= 0 && this._cachedFrameIndices !== null) {
        var e = this._cachedFrameIndices[t];
        if (e >= 0 && this._cachedFrameIndex === e) {
          this._transformDirty = false;
        } else if (e >= 0) {
          this._transformDirty = true;
          this._cachedFrameIndex = e;
        } else {
          if (this._hasConstraint) {
            for (var a = 0, r = this._armature._constraints; a < r.length; a++) {
              var i = r[a];
              if (i._root === this) {
                i.update();
              }
            }
          }
          if (this._transformDirty || this._parent !== null && this._parent._childrenTransformDirty) {
            this._transformDirty = true;
            this._cachedFrameIndex = -1;
          } else if (this._cachedFrameIndex >= 0) {
            this._transformDirty = false;
            this._cachedFrameIndices[t] = this._cachedFrameIndex;
          } else {
            this._transformDirty = true;
            this._cachedFrameIndex = -1;
          }
        }
      } else {
        if (this._hasConstraint) {
          for (var n = 0, s = this._armature._constraints; n < s.length; n++) {
            var i = s[n];
            if (i._root === this) {
              i.update();
            }
          }
        }
        if (this._transformDirty || this._parent !== null && this._parent._childrenTransformDirty) {
          t = -1;
          this._transformDirty = true;
          this._cachedFrameIndex = -1;
        }
      }
      if (this._transformDirty) {
        this._transformDirty = false;
        this._childrenTransformDirty = true;
        if (this._cachedFrameIndex < 0) {
          var o = t >= 0;
          if (this._localDirty) {
            this._updateGlobalTransformMatrix(o);
          }
          if (o && this._cachedFrameIndices !== null) {
            this._cachedFrameIndex = this._cachedFrameIndices[t] = this._armature._armatureData.setCacheFrame(this.globalTransformMatrix, this.global);
          }
        } else {
          this._armature._armatureData.getCacheFrame(this.globalTransformMatrix, this.global, this._cachedFrameIndex);
        }
      } else if (this._childrenTransformDirty) {
        this._childrenTransformDirty = false;
      }
      this._localDirty = true;
    };
    a.prototype.updateByConstraint = function () {
      if (this._localDirty) {
        this._localDirty = false;
        if (this._transformDirty || this._parent !== null && this._parent._childrenTransformDirty) {
          this._updateGlobalTransformMatrix(true);
        }
        this._transformDirty = true;
      }
    };
    a.prototype.invalidUpdate = function () {
      this._transformDirty = true;
    };
    a.prototype.contains = function (t) {
      if (t === this) {
        return false;
      }
      var e = t;
      while (e !== this && e !== null) {
        e = e.parent;
      }
      return e === this;
    };
    Object.defineProperty(a.prototype, "boneData", {
      get: function get() {
        return this._boneData;
      },
      enumerable: true,
      configurable: true
    });
    Object.defineProperty(a.prototype, "visible", {
      get: function get() {
        return this._visible;
      },
      set: function set(t) {
        if (this._visible === t) {
          return;
        }
        this._visible = t;
        for (var e = 0, a = this._armature.getSlots(); e < a.length; e++) {
          var r = a[e];
          if (r.parent === this) {
            r._updateVisible();
          }
        }
      },
      enumerable: true,
      configurable: true
    });
    Object.defineProperty(a.prototype, "name", {
      get: function get() {
        return this._boneData.name;
      },
      enumerable: true,
      configurable: true
    });
    Object.defineProperty(a.prototype, "parent", {
      get: function get() {
        return this._parent;
      },
      enumerable: true,
      configurable: true
    });
    return a;
  }(t.TransformObject);
  t.Bone = e;
})(dragonBones || (dragonBones = {}));
var dragonBones;
(function (t) {
  var e = function (t) {
    __extends(e, t);
    function e() {
      var e = t !== null && t.apply(this, arguments) || this;
      e._vertices = [];
      e._deformVertices = [];
      e._hullCache = [];
      e._matrixCahce = [];
      return e;
    }
    e.toString = function () {
      return "[class dragonBones.Surface]";
    };
    e.prototype._onClear = function () {
      t.prototype._onClear.call(this);
      this._dX = 0;
      this._dY = 0;
      this._k = 0;
      this._kX = 0;
      this._kY = 0;
      this._vertices.length = 0;
      this._deformVertices.length = 0;
      this._matrixCahce.length = 0;
      this._hullCache.length = 0;
      this._bone = null;
    };
    e.prototype._getAffineTransform = function (t, e, a, r, i, n, s, o, l, h, u, f, _) {
      var m = s - i;
      var p = o - n;
      var c = l - i;
      var d = h - n;
      u.rotation = Math.atan2(p, m);
      u.skew = Math.atan2(d, c) - Math.PI * 0.5 - u.rotation;
      if (_) {
        u.rotation += Math.PI;
      }
      u.scaleX = Math.sqrt(m * m + p * p) / a;
      u.scaleY = Math.sqrt(c * c + d * d) / r;
      u.toMatrix(f);
      u.x = f.tx = i - (f.a * t + f.c * e);
      u.y = f.ty = n - (f.b * t + f.d * e);
    };
    e.prototype._updateVertices = function () {
      var t = this._armature.armatureData.parent;
      var e = this._boneData.geometry;
      var a = t.intArray;
      var r = t.floatArray;
      var i = a[e.offset + 0];
      var n = a[e.offset + 2];
      var s = this._vertices;
      var o = this._deformVertices;
      if (this._parent !== null) {
        if (this._parent._boneData.type === 1) {
          for (var l = 0, h = i; l < h; ++l) {
            var u = l * 2;
            var f = r[n + u] + o[u];
            var _ = r[n + u + 1] + o[u + 1];
            var m = this._parent._getGlobalTransformMatrix(f, _);
            s[u] = m.a * f + m.c * _ + m.tx;
            s[u + 1] = m.b * f + m.d * _ + m.ty;
          }
        } else {
          var p = this._parent.globalTransformMatrix;
          for (var l = 0, h = i; l < h; ++l) {
            var u = l * 2;
            var f = r[n + u] + o[u];
            var _ = r[n + u + 1] + o[u + 1];
            s[u] = p.a * f + p.c * _ + p.tx;
            s[u + 1] = p.b * f + p.d * _ + p.ty;
          }
        }
      } else {
        for (var l = 0, h = i; l < h; ++l) {
          var u = l * 2;
          s[u] = r[n + u] + o[u];
          s[u + 1] = r[n + u + 1] + o[u + 1];
        }
      }
    };
    e.prototype._updateGlobalTransformMatrix = function (t) {
      t;
      var e = this._boneData.segmentX * 2;
      var a = this._vertices.length - 2;
      var r = 200;
      var i = this._vertices[0];
      var n = this._vertices[1];
      var s = this._vertices[e];
      var o = this._vertices[e + 1];
      var l = this._vertices[a];
      var h = this._vertices[a + 1];
      var u = this._vertices[a - e];
      var f = this._vertices[a - e + 1];
      var _ = i + (l - i) * 0.5;
      var m = n + (h - n) * 0.5;
      var p = s + (u - s) * 0.5;
      var c = o + (f - o) * 0.5;
      var d = _ + (p - _) * 0.5;
      var y = m + (c - m) * 0.5;
      var v = s + (l - s) * 0.5;
      var g = o + (h - o) * 0.5;
      var D = u + (l - u) * 0.5;
      var T = f + (h - f) * 0.5;
      this._getAffineTransform(0, 0, r, r, d, y, v, g, D, T, this.global, this.globalTransformMatrix, false);
      this._globalDirty = false;
    };
    e.prototype._getGlobalTransformMatrix = function (t, a) {
      var r = 200;
      var i = 1e3;
      if (t < -i || i < t || a < -i || i < a) {
        return this.globalTransformMatrix;
      }
      var n = false;
      var s = this._boneData;
      var o = s.segmentX;
      var l = s.segmentY;
      var h = s.segmentX * 2;
      var u = this._dX;
      var f = this._dY;
      var _ = Math.floor((t + r) / u);
      var m = Math.floor((a + r) / f);
      var p = 0;
      var c = _ * u - r;
      var d = m * f - r;
      var y = this._matrixCahce;
      var v = e._helpMatrix;
      if (t < -r) {
        if (a < -r || a >= r) {
          return this.globalTransformMatrix;
        }
        n = a > this._kX * (t + r) + d;
        p = ((o * l + o + l + l + m) * 2 + (n ? 1 : 0)) * 7;
        if (y[p] > 0) {
          v.copyFromArray(y, p + 1);
        } else {
          var g = m * (h + 2);
          var D = this._hullCache[4];
          var T = this._hullCache[5];
          var b = this._hullCache[2] - (l - m) * D;
          var A = this._hullCache[3] - (l - m) * T;
          var P = this._vertices;
          if (n) {
            this._getAffineTransform(-r, d + f, i - r, f, P[g + h + 2], P[g + h + 3], b + D, A + T, P[g], P[g + 1], e._helpTransform, v, true);
          } else {
            this._getAffineTransform(-i, d, i - r, f, b, A, P[g], P[g + 1], b + D, A + T, e._helpTransform, v, false);
          }
          y[p] = 1;
          y[p + 1] = v.a;
          y[p + 2] = v.b;
          y[p + 3] = v.c;
          y[p + 4] = v.d;
          y[p + 5] = v.tx;
          y[p + 6] = v.ty;
        }
      } else if (t >= r) {
        if (a < -r || a >= r) {
          return this.globalTransformMatrix;
        }
        n = a > this._kX * (t - i) + d;
        p = ((o * l + o + m) * 2 + (n ? 1 : 0)) * 7;
        if (y[p] > 0) {
          v.copyFromArray(y, p + 1);
        } else {
          var g = (m + 1) * (h + 2) - 2;
          var D = this._hullCache[4];
          var T = this._hullCache[5];
          var b = this._hullCache[0] + m * D;
          var A = this._hullCache[1] + m * T;
          var P = this._vertices;
          if (n) {
            this._getAffineTransform(i, d + f, i - r, f, b + D, A + T, P[g + h + 2], P[g + h + 3], b, A, e._helpTransform, v, true);
          } else {
            this._getAffineTransform(r, d, i - r, f, P[g], P[g + 1], b, A, P[g + h + 2], P[g + h + 3], e._helpTransform, v, false);
          }
          y[p] = 1;
          y[p + 1] = v.a;
          y[p + 2] = v.b;
          y[p + 3] = v.c;
          y[p + 4] = v.d;
          y[p + 5] = v.tx;
          y[p + 6] = v.ty;
        }
      } else if (a < -r) {
        if (t < -r || t >= r) {
          return this.globalTransformMatrix;
        }
        n = a > this._kY * (t - c - u) - i;
        p = ((o * l + _) * 2 + (n ? 1 : 0)) * 7;
        if (y[p] > 0) {
          v.copyFromArray(y, p + 1);
        } else {
          var g = _ * 2;
          var D = this._hullCache[10];
          var T = this._hullCache[11];
          var b = this._hullCache[8] + _ * D;
          var A = this._hullCache[9] + _ * T;
          var P = this._vertices;
          if (n) {
            this._getAffineTransform(c + u, -r, u, i - r, P[g + 2], P[g + 3], P[g], P[g + 1], b + D, A + T, e._helpTransform, v, true);
          } else {
            this._getAffineTransform(c, -i, u, i - r, b, A, b + D, A + T, P[g], P[g + 1], e._helpTransform, v, false);
          }
          y[p] = 1;
          y[p + 1] = v.a;
          y[p + 2] = v.b;
          y[p + 3] = v.c;
          y[p + 4] = v.d;
          y[p + 5] = v.tx;
          y[p + 6] = v.ty;
        }
      } else if (a >= r) {
        if (t < -r || t >= r) {
          return this.globalTransformMatrix;
        }
        n = a > this._kY * (t - c - u) + r;
        p = ((o * l + o + l + _) * 2 + (n ? 1 : 0)) * 7;
        if (y[p] > 0) {
          v.copyFromArray(y, p + 1);
        } else {
          var g = l * (h + 2) + _ * 2;
          var D = this._hullCache[10];
          var T = this._hullCache[11];
          var b = this._hullCache[6] - (o - _) * D;
          var A = this._hullCache[7] - (o - _) * T;
          var P = this._vertices;
          if (n) {
            this._getAffineTransform(c + u, i, u, i - r, b + D, A + T, b, A, P[g + 2], P[g + 3], e._helpTransform, v, true);
          } else {
            this._getAffineTransform(c, r, u, i - r, P[g], P[g + 1], P[g + 2], P[g + 3], b, A, e._helpTransform, v, false);
          }
          y[p] = 1;
          y[p + 1] = v.a;
          y[p + 2] = v.b;
          y[p + 3] = v.c;
          y[p + 4] = v.d;
          y[p + 5] = v.tx;
          y[p + 6] = v.ty;
        }
      } else {
        n = a > this._k * (t - c - u) + d;
        p = ((o * m + _) * 2 + (n ? 1 : 0)) * 7;
        if (y[p] > 0) {
          v.copyFromArray(y, p + 1);
        } else {
          var g = _ * 2 + m * (h + 2);
          var P = this._vertices;
          if (n) {
            this._getAffineTransform(c + u, d + f, u, f, P[g + h + 4], P[g + h + 5], P[g + h + 2], P[g + h + 3], P[g + 2], P[g + 3], e._helpTransform, v, true);
          } else {
            this._getAffineTransform(c, d, u, f, P[g], P[g + 1], P[g + 2], P[g + 3], P[g + h + 2], P[g + h + 3], e._helpTransform, v, false);
          }
          y[p] = 1;
          y[p + 1] = v.a;
          y[p + 2] = v.b;
          y[p + 3] = v.c;
          y[p + 4] = v.d;
          y[p + 5] = v.tx;
          y[p + 6] = v.ty;
        }
      }
      return v;
    };
    e.prototype.init = function (e, a) {
      if (this._boneData !== null) {
        return;
      }
      t.prototype.init.call(this, e, a);
      var r = e.segmentX;
      var i = e.segmentY;
      var n = this._armature.armatureData.parent.intArray[e.geometry.offset + 0];
      var s = 1e3;
      var o = 200;
      this._dX = o * 2 / r;
      this._dY = o * 2 / i;
      this._k = -this._dY / this._dX;
      this._kX = -this._dY / (s - o);
      this._kY = -(s - o) / this._dX;
      this._vertices.length = n * 2;
      this._deformVertices.length = n * 2;
      this._matrixCahce.length = (r * i + r * 2 + i * 2) * 2 * 7;
      this._hullCache.length = 10;
      for (var l = 0; l < n * 2; ++l) {
        this._deformVertices[l] = 0;
      }
      if (this._parent !== null) {
        if (this._parent.boneData.type === 0) {
          this._bone = this._parent;
        } else {
          this._bone = this._parent._bone;
        }
      }
    };
    e.prototype.update = function (t) {
      if (t >= 0 && this._cachedFrameIndices !== null) {
        var a = this._cachedFrameIndices[t];
        if (a >= 0 && this._cachedFrameIndex === a) {
          this._transformDirty = false;
        } else if (a >= 0) {
          this._transformDirty = true;
          this._cachedFrameIndex = a;
        } else {
          if (this._hasConstraint) {
            for (var r = 0, i = this._armature._constraints; r < i.length; r++) {
              var n = i[r];
              if (n._root === this) {
                n.update();
              }
            }
          }
          if (this._transformDirty || this._parent !== null && this._parent._childrenTransformDirty) {
            this._transformDirty = true;
            this._cachedFrameIndex = -1;
          } else if (this._cachedFrameIndex >= 0) {
            this._transformDirty = false;
            this._cachedFrameIndices[t] = this._cachedFrameIndex;
          } else {
            this._transformDirty = true;
            this._cachedFrameIndex = -1;
          }
        }
      } else {
        if (this._hasConstraint) {
          for (var s = 0, o = this._armature._constraints; s < o.length; s++) {
            var n = o[s];
            if (n._root === this) {
              n.update();
            }
          }
        }
        if (this._transformDirty || this._parent !== null && this._parent._childrenTransformDirty) {
          t = -1;
          this._transformDirty = true;
          this._cachedFrameIndex = -1;
        }
      }
      if (this._transformDirty) {
        this._transformDirty = false;
        this._childrenTransformDirty = true;
        for (var l = 0, h = this._matrixCahce.length; l < h; l += 7) {
          this._matrixCahce[l] = -1;
        }
        this._updateVertices();
        if (this._cachedFrameIndex < 0) {
          var u = t >= 0;
          if (this._localDirty) {
            this._updateGlobalTransformMatrix(u);
          }
          if (u && this._cachedFrameIndices !== null) {
            this._cachedFrameIndex = this._cachedFrameIndices[t] = this._armature._armatureData.setCacheFrame(this.globalTransformMatrix, this.global);
          }
        } else {
          this._armature._armatureData.getCacheFrame(this.globalTransformMatrix, this.global, this._cachedFrameIndex);
        }
        var f = 1e3;
        var _ = 200;
        var m = 2 * this.global.x;
        var p = 2 * this.global.y;
        var c = e._helpPoint;
        this.globalTransformMatrix.transformPoint(f, -_, c);
        this._hullCache[0] = c.x;
        this._hullCache[1] = c.y;
        this._hullCache[2] = m - c.x;
        this._hullCache[3] = p - c.y;
        this.globalTransformMatrix.transformPoint(0, this._dY, c, true);
        this._hullCache[4] = c.x;
        this._hullCache[5] = c.y;
        this.globalTransformMatrix.transformPoint(_, f, c);
        this._hullCache[6] = c.x;
        this._hullCache[7] = c.y;
        this._hullCache[8] = m - c.x;
        this._hullCache[9] = p - c.y;
        this.globalTransformMatrix.transformPoint(this._dX, 0, c, true);
        this._hullCache[10] = c.x;
        this._hullCache[11] = c.y;
      } else if (this._childrenTransformDirty) {
        this._childrenTransformDirty = false;
      }
      this._localDirty = true;
    };
    return e;
  }(t.Bone);
  t.Surface = e;
})(dragonBones || (dragonBones = {}));
var dragonBones;
(function (t) {
  var e = function (t) {
    __extends(e, t);
    function e() {
      var e = t !== null && t.apply(this, arguments) || this;
      e.deformVertices = [];
      return e;
    }
    e.toString = function () {
      return "[class dragonBones.DisplayFrame]";
    };
    e.prototype._onClear = function () {
      this.rawDisplayData = null;
      this.displayData = null;
      this.textureData = null;
      this.display = null;
      this.deformVertices.length = 0;
    };
    e.prototype.updateDeformVertices = function () {
      if (this.rawDisplayData === null || this.deformVertices.length !== 0) {
        return;
      }
      var t;
      if (this.rawDisplayData.type === 2) {
        t = this.rawDisplayData.geometry;
      } else if (this.rawDisplayData.type === 4) {
        t = this.rawDisplayData.geometry;
      } else {
        return;
      }
      var e = 0;
      if (t.weight !== null) {
        e = t.weight.count * 2;
      } else {
        e = t.data.intArray[t.offset + 0] * 2;
      }
      this.deformVertices.length = e;
      for (var a = 0, r = this.deformVertices.length; a < r; ++a) {
        this.deformVertices[a] = 0;
      }
    };
    e.prototype.getGeometryData = function () {
      if (this.displayData !== null) {
        if (this.displayData.type === 2) {
          return this.displayData.geometry;
        }
        if (this.displayData.type === 4) {
          return this.displayData.geometry;
        }
      }
      if (this.rawDisplayData !== null) {
        if (this.rawDisplayData.type === 2) {
          return this.rawDisplayData.geometry;
        }
        if (this.rawDisplayData.type === 4) {
          return this.rawDisplayData.geometry;
        }
      }
      return null;
    };
    e.prototype.getBoundingBox = function () {
      if (this.displayData !== null && this.displayData.type === 3) {
        return this.displayData.boundingBox;
      }
      if (this.rawDisplayData !== null && this.rawDisplayData.type === 3) {
        return this.rawDisplayData.boundingBox;
      }
      return null;
    };
    e.prototype.getTextureData = function () {
      if (this.displayData !== null) {
        if (this.displayData.type === 0) {
          return this.displayData.texture;
        }
        if (this.displayData.type === 2) {
          return this.displayData.texture;
        }
      }
      if (this.textureData !== null) {
        return this.textureData;
      }
      if (this.rawDisplayData !== null) {
        if (this.rawDisplayData.type === 0) {
          return this.rawDisplayData.texture;
        }
        if (this.rawDisplayData.type === 2) {
          return this.rawDisplayData.texture;
        }
      }
      return null;
    };
    return e;
  }(t.BaseObject);
  t.DisplayFrame = e;
  var a = function (a) {
    __extends(r, a);
    function r() {
      var e = a !== null && a.apply(this, arguments) || this;
      e._localMatrix = new t.Matrix();
      e._colorTransform = new t.ColorTransform();
      e._displayFrames = [];
      e._geometryBones = [];
      e._rawDisplay = null;
      e._meshDisplay = null;
      e._display = null;
      return e;
    }
    r.prototype._onClear = function () {
      a.prototype._onClear.call(this);
      var e = [];
      for (var r = 0, i = this._displayFrames; r < i.length; r++) {
        var n = i[r];
        var s = n.display;
        if (s !== this._rawDisplay && s !== this._meshDisplay && e.indexOf(s) < 0) {
          e.push(s);
        }
        n.returnToPool();
      }
      for (var o = 0, l = e; o < l.length; o++) {
        var h = l[o];
        if (h instanceof t.Armature) {
          h.dispose();
        } else {
          this._disposeDisplay(h, true);
        }
      }
      if (this._meshDisplay !== null && this._meshDisplay !== this._rawDisplay) {
        this._disposeDisplay(this._meshDisplay, false);
      }
      if (this._rawDisplay !== null) {
        this._disposeDisplay(this._rawDisplay, false);
      }
      this.displayController = null;
      this._displayDataDirty = false;
      this._displayDirty = false;
      this._geometryDirty = false;
      this._textureDirty = false;
      this._visibleDirty = false;
      this._blendModeDirty = false;
      this._zOrderDirty = false;
      this._colorDirty = false;
      this._verticesDirty = false;
      this._transformDirty = false;
      this._visible = true;
      this._blendMode = 0;
      this._displayIndex = -1;
      this._animationDisplayIndex = -1;
      this._zOrder = 0;
      this._zIndex = 0;
      this._cachedFrameIndex = -1;
      this._pivotX = 0;
      this._pivotY = 0;
      this._localMatrix.identity();
      this._colorTransform.identity();
      this._displayFrames.length = 0;
      this._geometryBones.length = 0;
      this._slotData = null;
      this._displayFrame = null;
      this._geometryData = null;
      this._boundingBoxData = null;
      this._textureData = null;
      this._rawDisplay = null;
      this._meshDisplay = null;
      this._display = null;
      this._childArmature = null;
      this._parent = null;
      this._cachedFrameIndices = null;
    };
    r.prototype._hasDisplay = function (t) {
      for (var e = 0, a = this._displayFrames; e < a.length; e++) {
        var r = a[e];
        if (r.display === t) {
          return true;
        }
      }
      return false;
    };
    r.prototype._isBonesUpdate = function () {
      for (var t = 0, e = this._geometryBones; t < e.length; t++) {
        var a = e[t];
        if (a !== null && a._childrenTransformDirty) {
          return true;
        }
      }
      return false;
    };
    r.prototype._updateAlpha = function () {
      var t = this._alpha * this._parent._globalAlpha;
      if (this._globalAlpha !== t) {
        this._globalAlpha = t;
        this._colorDirty = true;
      }
    };
    r.prototype._updateDisplayData = function () {
      var e = this._displayFrame;
      var a = this._geometryData;
      var i = this._textureData;
      var n = null;
      var s = null;
      this._displayFrame = null;
      this._geometryData = null;
      this._boundingBoxData = null;
      this._textureData = null;
      if (this._displayIndex >= 0 && this._displayIndex < this._displayFrames.length) {
        this._displayFrame = this._displayFrames[this._displayIndex];
        n = this._displayFrame.rawDisplayData;
        s = this._displayFrame.displayData;
        this._geometryData = this._displayFrame.getGeometryData();
        this._boundingBoxData = this._displayFrame.getBoundingBox();
        this._textureData = this._displayFrame.getTextureData();
      }
      if (this._displayFrame !== e || this._geometryData !== a || this._textureData !== i) {
        if (this._geometryData === null && this._textureData !== null) {
          var o = s !== null && s.type === 0 ? s : n;
          var l = this._textureData.parent.scale * this._armature._armatureData.scale;
          var h = this._textureData.frame;
          this._pivotX = o.pivot.x;
          this._pivotY = o.pivot.y;
          var u = h !== null ? h : this._textureData.region;
          var f = u.width;
          var _ = u.height;
          if (this._textureData.rotated && h === null) {
            f = u.height;
            _ = u.width;
          }
          this._pivotX *= f * l;
          this._pivotY *= _ * l;
          if (h !== null) {
            this._pivotX += h.x * l;
            this._pivotY += h.y * l;
          }
          if (n !== null && o !== n) {
            n.transform.toMatrix(r._helpMatrix);
            r._helpMatrix.invert();
            r._helpMatrix.transformPoint(0, 0, r._helpPoint);
            this._pivotX -= r._helpPoint.x;
            this._pivotY -= r._helpPoint.y;
            o.transform.toMatrix(r._helpMatrix);
            r._helpMatrix.invert();
            r._helpMatrix.transformPoint(0, 0, r._helpPoint);
            this._pivotX += r._helpPoint.x;
            this._pivotY += r._helpPoint.y;
          }
          if (!t.DragonBones.yDown) {
            this._pivotY = (this._textureData.rotated ? this._textureData.region.width : this._textureData.region.height) * l - this._pivotY;
          }
        } else {
          this._pivotX = 0;
          this._pivotY = 0;
        }
        if (n !== null) {
          this.origin = n.transform;
        } else if (s !== null) {
          this.origin = s.transform;
        } else {
          this.origin = null;
        }
        if (this.origin !== null) {
          this.global.copyFrom(this.origin).add(this.offset).toMatrix(this._localMatrix);
        } else {
          this.global.copyFrom(this.offset).toMatrix(this._localMatrix);
        }
        if (this._geometryData !== a) {
          this._geometryDirty = true;
          this._verticesDirty = true;
          if (this._geometryData !== null) {
            this._geometryBones.length = 0;
            if (this._geometryData.weight !== null) {
              for (var m = 0, p = this._geometryData.weight.bones.length; m < p; ++m) {
                var c = this._armature.getBone(this._geometryData.weight.bones[m].name);
                this._geometryBones.push(c);
              }
            }
          } else {
            this._geometryBones.length = 0;
            this._geometryData = null;
          }
        }
        this._textureDirty = this._textureData !== i;
        this._transformDirty = true;
      }
    };
    r.prototype._updateDisplay = function () {
      var e = this._display !== null ? this._display : this._rawDisplay;
      var a = this._childArmature;
      if (this._displayFrame !== null) {
        this._display = this._displayFrame.display;
        if (this._display !== null && this._display instanceof t.Armature) {
          this._childArmature = this._display;
          this._display = this._childArmature.display;
        } else {
          this._childArmature = null;
        }
      } else {
        this._display = null;
        this._childArmature = null;
      }
      var r = this._display !== null ? this._display : this._rawDisplay;
      if (r !== e) {
        this._textureDirty = true;
        this._visibleDirty = true;
        this._blendModeDirty = true;
        this._colorDirty = true;
        this._transformDirty = true;
        this._onUpdateDisplay();
        this._replaceDisplay(e);
      }
      if (this._childArmature !== a) {
        if (a !== null) {
          a._parent = null;
          a.clock = null;
          if (a.inheritAnimation) {
            a.animation.reset();
          }
        }
        if (this._childArmature !== null) {
          this._childArmature._parent = this;
          this._childArmature.clock = this._armature.clock;
          if (this._childArmature.inheritAnimation) {
            if (this._childArmature.cacheFrameRate === 0) {
              var i = this._armature.cacheFrameRate;
              if (i !== 0) {
                this._childArmature.cacheFrameRate = i;
              }
            }
            if (this._displayFrame !== null) {
              var n = null;
              var s = this._displayFrame.displayData !== null ? this._displayFrame.displayData : this._displayFrame.rawDisplayData;
              if (s !== null && s.type === 1) {
                n = s.actions;
              }
              if (n !== null && n.length > 0) {
                for (var o = 0, l = n; o < l.length; o++) {
                  var h = l[o];
                  var u = t.BaseObject.borrowObject(t.EventObject);
                  t.EventObject.actionDataToInstance(h, u, this._armature);
                  u.slot = this;
                  this._armature._bufferAction(u, false);
                }
              } else {
                this._childArmature.animation.play();
              }
            }
          }
        }
      }
    };
    r.prototype._updateGlobalTransformMatrix = function (t) {
      var e = this._parent._boneData.type === 0 ? this._parent.globalTransformMatrix : this._parent._getGlobalTransformMatrix(this.global.x, this.global.y);
      this.globalTransformMatrix.copyFrom(this._localMatrix);
      this.globalTransformMatrix.concat(e);
      if (t) {
        this.global.fromMatrix(this.globalTransformMatrix);
      } else {
        this._globalDirty = true;
      }
    };
    r.prototype._setDisplayIndex = function (t, e) {
      if (e === void 0) {
        e = false;
      }
      if (e) {
        if (this._animationDisplayIndex === t) {
          return;
        }
        this._animationDisplayIndex = t;
      }
      if (this._displayIndex === t) {
        return;
      }
      this._displayIndex = t < this._displayFrames.length ? t : this._displayFrames.length - 1;
      this._displayDataDirty = true;
      this._displayDirty = this._displayIndex < 0 || this._display !== this._displayFrames[this._displayIndex].display;
    };
    r.prototype._setZOrder = function (t) {
      if (this._zOrder === t) {}
      this._zOrder = t;
      this._zOrderDirty = true;
      return this._zOrderDirty;
    };
    r.prototype._setColor = function (t) {
      this._colorTransform.copyFrom(t);
      return this._colorDirty = true;
    };
    r.prototype.init = function (t, e, a, r) {
      if (this._slotData !== null) {
        return;
      }
      this._slotData = t;
      this._colorDirty = true;
      this._blendModeDirty = true;
      this._blendMode = this._slotData.blendMode;
      this._zOrder = this._slotData.zOrder;
      this._zIndex = this._slotData.zIndex;
      this._alpha = this._slotData.alpha;
      this._colorTransform.copyFrom(this._slotData.color);
      this._rawDisplay = a;
      this._meshDisplay = r;
      this._armature = e;
      var i = this._armature.getBone(this._slotData.parent.name);
      if (i !== null) {
        this._parent = i;
      } else {}
      this._armature._addSlot(this);
      this._initDisplay(this._rawDisplay, false);
      if (this._rawDisplay !== this._meshDisplay) {
        this._initDisplay(this._meshDisplay, false);
      }
      this._onUpdateDisplay();
      this._addDisplay();
    };
    r.prototype.update = function (t) {
      if (this._displayDataDirty) {
        this._updateDisplayData();
        this._displayDataDirty = false;
      }
      if (this._displayDirty) {
        this._updateDisplay();
        this._displayDirty = false;
      }
      if (this._geometryDirty || this._textureDirty) {
        if (this._display === null || this._display === this._rawDisplay || this._display === this._meshDisplay) {
          this._updateFrame();
        }
        this._geometryDirty = false;
        this._textureDirty = false;
      }
      if (this._display === null) {
        return;
      }
      if (this._visibleDirty) {
        this._updateVisible();
        this._visibleDirty = false;
      }
      if (this._blendModeDirty) {
        this._updateBlendMode();
        this._blendModeDirty = false;
      }
      if (this._colorDirty) {
        this._updateColor();
        this._colorDirty = false;
      }
      if (this._zOrderDirty) {
        this._updateZOrder();
        this._zOrderDirty = false;
      }
      if (this._geometryData !== null && this._display === this._meshDisplay) {
        var e = this._geometryData.weight !== null;
        var a = this._parent._boneData.type !== 0;
        if (this._verticesDirty || e && this._isBonesUpdate() || a && this._parent._childrenTransformDirty) {
          this._updateMesh();
          this._verticesDirty = false;
        }
        if (e || a) {
          return;
        }
      }
      if (t >= 0 && this._cachedFrameIndices !== null) {
        var r = this._cachedFrameIndices[t];
        if (r >= 0 && this._cachedFrameIndex === r) {
          this._transformDirty = false;
        } else if (r >= 0) {
          this._transformDirty = true;
          this._cachedFrameIndex = r;
        } else if (this._transformDirty || this._parent._childrenTransformDirty) {
          this._transformDirty = true;
          this._cachedFrameIndex = -1;
        } else if (this._cachedFrameIndex >= 0) {
          this._transformDirty = false;
          this._cachedFrameIndices[t] = this._cachedFrameIndex;
        } else {
          this._transformDirty = true;
          this._cachedFrameIndex = -1;
        }
      } else if (this._transformDirty || this._parent._childrenTransformDirty) {
        t = -1;
        this._transformDirty = true;
        this._cachedFrameIndex = -1;
      }
      if (this._transformDirty) {
        if (this._cachedFrameIndex < 0) {
          var i = t >= 0;
          this._updateGlobalTransformMatrix(i);
          if (i && this._cachedFrameIndices !== null) {
            this._cachedFrameIndex = this._cachedFrameIndices[t] = this._armature._armatureData.setCacheFrame(this.globalTransformMatrix, this.global);
          }
        } else {
          this._armature._armatureData.getCacheFrame(this.globalTransformMatrix, this.global, this._cachedFrameIndex);
        }
        this._updateTransform();
        this._transformDirty = false;
      }
    };
    r.prototype.invalidUpdate = function () {
      this._displayDataDirty = true;
      this._displayDirty = true;
      this._transformDirty = true;
    };
    r.prototype.updateTransformAndMatrix = function () {
      if (this._transformDirty) {
        this._updateGlobalTransformMatrix(false);
        this._transformDirty = false;
      }
    };
    r.prototype.replaceRawDisplayData = function (t, e) {
      if (e === void 0) {
        e = -1;
      }
      if (e < 0) {
        e = this._displayIndex < 0 ? 0 : this._displayIndex;
      } else if (e >= this._displayFrames.length) {
        return;
      }
      var a = this._displayFrames[e];
      if (a.rawDisplayData !== t) {
        a.deformVertices.length = 0;
        a.rawDisplayData = t;
        if (a.rawDisplayData === null) {
          var r = this._armature._armatureData.defaultSkin;
          if (r !== null) {
            var i = r.getDisplays(this._slotData.name);
            if (i !== null && e < i.length) {
              a.rawDisplayData = i[e];
            }
          }
        }
        if (e === this._displayIndex) {
          this._displayDataDirty = true;
        }
      }
    };
    r.prototype.replaceDisplayData = function (t, e) {
      if (e === void 0) {
        e = -1;
      }
      if (e < 0) {
        e = this._displayIndex < 0 ? 0 : this._displayIndex;
      } else if (e >= this._displayFrames.length) {
        return;
      }
      var a = this._displayFrames[e];
      if (a.displayData !== t && a.rawDisplayData !== t) {
        a.displayData = t;
        if (e === this._displayIndex) {
          this._displayDataDirty = true;
        }
      }
    };
    r.prototype.replaceTextureData = function (t, e) {
      if (e === void 0) {
        e = -1;
      }
      if (e < 0) {
        e = this._displayIndex < 0 ? 0 : this._displayIndex;
      } else if (e >= this._displayFrames.length) {
        return;
      }
      var a = this._displayFrames[e];
      if (a.textureData !== t) {
        a.textureData = t;
        if (e === this._displayIndex) {
          this._displayDataDirty = true;
        }
      }
    };
    r.prototype.replaceDisplay = function (e, a) {
      if (a === void 0) {
        a = -1;
      }
      if (a < 0) {
        a = this._displayIndex < 0 ? 0 : this._displayIndex;
      } else if (a >= this._displayFrames.length) {
        return;
      }
      var r = this._displayFrames[a];
      if (r.display !== e) {
        var i = r.display;
        r.display = e;
        if (i !== null && i !== this._rawDisplay && i !== this._meshDisplay && !this._hasDisplay(i)) {
          if (i instanceof t.Armature) {} else {
            this._disposeDisplay(i, true);
          }
        }
        if (e !== null && e !== this._rawDisplay && e !== this._meshDisplay && !this._hasDisplay(i) && !(e instanceof t.Armature)) {
          this._initDisplay(e, true);
        }
        if (a === this._displayIndex) {
          this._displayDirty = true;
        }
      }
    };
    r.prototype.containsPoint = function (t, e) {
      if (this._boundingBoxData === null) {
        return false;
      }
      this.updateTransformAndMatrix();
      r._helpMatrix.copyFrom(this.globalTransformMatrix);
      r._helpMatrix.invert();
      r._helpMatrix.transformPoint(t, e, r._helpPoint);
      return this._boundingBoxData.containsPoint(r._helpPoint.x, r._helpPoint.y);
    };
    r.prototype.intersectsSegment = function (t, e, a, i, n, s, o) {
      if (n === void 0) {
        n = null;
      }
      if (s === void 0) {
        s = null;
      }
      if (o === void 0) {
        o = null;
      }
      if (this._boundingBoxData === null) {
        return 0;
      }
      this.updateTransformAndMatrix();
      r._helpMatrix.copyFrom(this.globalTransformMatrix);
      r._helpMatrix.invert();
      r._helpMatrix.transformPoint(t, e, r._helpPoint);
      t = r._helpPoint.x;
      e = r._helpPoint.y;
      r._helpMatrix.transformPoint(a, i, r._helpPoint);
      a = r._helpPoint.x;
      i = r._helpPoint.y;
      var l = this._boundingBoxData.intersectsSegment(t, e, a, i, n, s, o);
      if (l > 0) {
        if (l === 1 || l === 2) {
          if (n !== null) {
            this.globalTransformMatrix.transformPoint(n.x, n.y, n);
            if (s !== null) {
              s.x = n.x;
              s.y = n.y;
            }
          } else if (s !== null) {
            this.globalTransformMatrix.transformPoint(s.x, s.y, s);
          }
        } else {
          if (n !== null) {
            this.globalTransformMatrix.transformPoint(n.x, n.y, n);
          }
          if (s !== null) {
            this.globalTransformMatrix.transformPoint(s.x, s.y, s);
          }
        }
        if (o !== null) {
          this.globalTransformMatrix.transformPoint(Math.cos(o.x), Math.sin(o.x), r._helpPoint, true);
          o.x = Math.atan2(r._helpPoint.y, r._helpPoint.x);
          this.globalTransformMatrix.transformPoint(Math.cos(o.y), Math.sin(o.y), r._helpPoint, true);
          o.y = Math.atan2(r._helpPoint.y, r._helpPoint.x);
        }
      }
      return l;
    };
    r.prototype.getDisplayFrameAt = function (t) {
      return this._displayFrames[t];
    };
    Object.defineProperty(r.prototype, "visible", {
      get: function get() {
        return this._visible;
      },
      set: function set(t) {
        if (this._visible === t) {
          return;
        }
        this._visible = t;
        this._updateVisible();
      },
      enumerable: true,
      configurable: true
    });
    Object.defineProperty(r.prototype, "displayFrameCount", {
      get: function get() {
        return this._displayFrames.length;
      },
      set: function set(a) {
        var r = this._displayFrames.length;
        if (r < a) {
          this._displayFrames.length = a;
          for (var i = r; i < a; ++i) {
            this._displayFrames[i] = t.BaseObject.borrowObject(e);
          }
        } else if (r > a) {
          for (var i = r - 1; i < a; --i) {
            this.replaceDisplay(null, i);
            this._displayFrames[i].returnToPool();
          }
          this._displayFrames.length = a;
        }
      },
      enumerable: true,
      configurable: true
    });
    Object.defineProperty(r.prototype, "displayIndex", {
      get: function get() {
        return this._displayIndex;
      },
      set: function set(t) {
        this._setDisplayIndex(t);
        this.update(-1);
      },
      enumerable: true,
      configurable: true
    });
    Object.defineProperty(r.prototype, "name", {
      get: function get() {
        return this._slotData.name;
      },
      enumerable: true,
      configurable: true
    });
    Object.defineProperty(r.prototype, "displayList", {
      get: function get() {
        var t = new Array();
        for (var e = 0, a = this._displayFrames; e < a.length; e++) {
          var r = a[e];
          t.push(r.display);
        }
        return t;
      },
      set: function set(t) {
        this.displayFrameCount = t.length;
        var e = 0;
        for (var a = 0, r = t; a < r.length; a++) {
          var i = r[a];
          this.replaceDisplay(i, e++);
        }
      },
      enumerable: true,
      configurable: true
    });
    Object.defineProperty(r.prototype, "slotData", {
      get: function get() {
        return this._slotData;
      },
      enumerable: true,
      configurable: true
    });
    Object.defineProperty(r.prototype, "boundingBoxData", {
      get: function get() {
        return this._boundingBoxData;
      },
      enumerable: true,
      configurable: true
    });
    Object.defineProperty(r.prototype, "rawDisplay", {
      get: function get() {
        return this._rawDisplay;
      },
      enumerable: true,
      configurable: true
    });
    Object.defineProperty(r.prototype, "meshDisplay", {
      get: function get() {
        return this._meshDisplay;
      },
      enumerable: true,
      configurable: true
    });
    Object.defineProperty(r.prototype, "display", {
      get: function get() {
        return this._display;
      },
      set: function set(t) {
        if (this._display === t) {
          return;
        }
        if (this._displayFrames.length === 0) {
          this.displayFrameCount = 1;
          this._displayIndex = 0;
        }
        this.replaceDisplay(t, this._displayIndex);
      },
      enumerable: true,
      configurable: true
    });
    Object.defineProperty(r.prototype, "childArmature", {
      get: function get() {
        return this._childArmature;
      },
      set: function set(t) {
        if (this._childArmature === t) {
          return;
        }
        this.display = t;
      },
      enumerable: true,
      configurable: true
    });
    Object.defineProperty(r.prototype, "parent", {
      get: function get() {
        return this._parent;
      },
      enumerable: true,
      configurable: true
    });
    r.prototype.getDisplay = function () {
      return this._display;
    };
    r.prototype.setDisplay = function (t) {
      this.display = t;
    };
    return r;
  }(t.TransformObject);
  t.Slot = a;
})(dragonBones || (dragonBones = {}));
var dragonBones;
(function (t) {
  var e = function (e) {
    __extends(a, e);
    function a() {
      return e !== null && e.apply(this, arguments) || this;
    }
    a.prototype._onClear = function () {
      this._armature = null;
      this._target = null;
      this._root = null;
      this._bone = null;
    };
    Object.defineProperty(a.prototype, "name", {
      get: function get() {
        return this._constraintData.name;
      },
      enumerable: true,
      configurable: true
    });
    a._helpMatrix = new t.Matrix();
    a._helpTransform = new t.Transform();
    a._helpPoint = new t.Point();
    return a;
  }(t.BaseObject);
  t.Constraint = e;
  var a = function (e) {
    __extends(a, e);
    function a() {
      return e !== null && e.apply(this, arguments) || this;
    }
    a.toString = function () {
      return "[class dragonBones.IKConstraint]";
    };
    a.prototype._onClear = function () {
      e.prototype._onClear.call(this);
      this._scaleEnabled = false;
      this._bendPositive = false;
      this._weight = 1;
      this._constraintData = null;
    };
    a.prototype._computeA = function () {
      var e = this._target.global;
      var a = this._root.global;
      var r = this._root.globalTransformMatrix;
      var i = Math.atan2(e.y - a.y, e.x - a.x);
      if (a.scaleX < 0) {
        i += Math.PI;
      }
      a.rotation += t.Transform.normalizeRadian(i - a.rotation) * this._weight;
      a.toMatrix(r);
    };
    a.prototype._computeB = function () {
      var e = this._bone._boneData.length;
      var a = this._root;
      var r = this._target.global;
      var i = a.global;
      var n = this._bone.global;
      var s = this._bone.globalTransformMatrix;
      var o = s.a * e;
      var l = s.b * e;
      var h = o * o + l * l;
      var u = Math.sqrt(h);
      var f = n.x - i.x;
      var _ = n.y - i.y;
      var m = f * f + _ * _;
      var p = Math.sqrt(m);
      var c = n.rotation;
      var d = i.rotation;
      var y = Math.atan2(_, f);
      f = r.x - i.x;
      _ = r.y - i.y;
      var v = f * f + _ * _;
      var g = Math.sqrt(v);
      var D = 0;
      if (u + p <= g || g + u <= p || g + p <= u) {
        D = Math.atan2(r.y - i.y, r.x - i.x);
        if (u + p <= g) {} else if (p < u) {
          D += Math.PI;
        }
      } else {
        var T = (m - h + v) / (2 * v);
        var b = Math.sqrt(m - T * T * v) / g;
        var A = i.x + f * T;
        var P = i.y + _ * T;
        var S = -_ * b;
        var O = f * b;
        var x = false;
        var B = a.parent;
        if (B !== null) {
          var E = B.globalTransformMatrix;
          x = E.a * E.d - E.b * E.c < 0;
        }
        if (x !== this._bendPositive) {
          n.x = A - S;
          n.y = P - O;
        } else {
          n.x = A + S;
          n.y = P + O;
        }
        D = Math.atan2(n.y - i.y, n.x - i.x);
      }
      var M = t.Transform.normalizeRadian(D - y);
      i.rotation = d + M * this._weight;
      i.toMatrix(a.globalTransformMatrix);
      var I = y + M * this._weight;
      n.x = i.x + Math.cos(I) * p;
      n.y = i.y + Math.sin(I) * p;
      var F = Math.atan2(r.y - n.y, r.x - n.x);
      if (n.scaleX < 0) {
        F += Math.PI;
      }
      n.rotation = i.rotation + c - d + t.Transform.normalizeRadian(F - M - c) * this._weight;
      n.toMatrix(s);
    };
    a.prototype.init = function (t, e) {
      if (this._constraintData !== null) {
        return;
      }
      this._constraintData = t;
      this._armature = e;
      this._target = this._armature.getBone(this._constraintData.target.name);
      this._root = this._armature.getBone(this._constraintData.root.name);
      this._bone = this._constraintData.bone !== null ? this._armature.getBone(this._constraintData.bone.name) : null;
      {
        var a = this._constraintData;
        this._scaleEnabled = a.scaleEnabled;
        this._bendPositive = a.bendPositive;
        this._weight = a.weight;
      }
      this._root._hasConstraint = true;
    };
    a.prototype.update = function () {
      this._root.updateByConstraint();
      if (this._bone !== null) {
        this._bone.updateByConstraint();
        this._computeB();
      } else {
        this._computeA();
      }
    };
    a.prototype.invalidUpdate = function () {
      this._root.invalidUpdate();
      if (this._bone !== null) {
        this._bone.invalidUpdate();
      }
    };
    return a;
  }(e);
  t.IKConstraint = a;
  var r = function (e) {
    __extends(a, e);
    function a() {
      var t = e !== null && e.apply(this, arguments) || this;
      t._bones = [];
      t._spaces = [];
      t._positions = [];
      t._curves = [];
      t._boneLengths = [];
      t._pathGlobalVertices = [];
      t._segments = [10];
      return t;
    }
    a.toString = function () {
      return "[class dragonBones.PathConstraint]";
    };
    a.prototype._onClear = function () {
      e.prototype._onClear.call(this);
      this.dirty = false;
      this.pathOffset = 0;
      this.position = 0;
      this.spacing = 0;
      this.rotateOffset = 0;
      this.rotateMix = 1;
      this.translateMix = 1;
      this._pathSlot = null;
      this._bones.length = 0;
      this._spaces.length = 0;
      this._positions.length = 0;
      this._curves.length = 0;
      this._boneLengths.length = 0;
      this._pathGlobalVertices.length = 0;
    };
    a.prototype._updatePathVertices = function (t) {
      var e = this._armature;
      var a = e.armatureData.parent;
      var r = e.armatureData.scale;
      var i = a.intArray;
      var n = a.floatArray;
      var s = t.offset;
      var o = i[s + 0];
      var l = i[s + 2];
      this._pathGlobalVertices.length = o * 2;
      var h = t.weight;
      if (h === null) {
        var u = this._pathSlot.parent;
        u.updateByConstraint();
        var f = u.globalTransformMatrix;
        for (var _ = 0, m = l; _ < o; _ += 2) {
          var p = n[m++] * r;
          var c = n[m++] * r;
          var d = f.a * p + f.c * c + f.tx;
          var y = f.b * p + f.d * c + f.ty;
          this._pathGlobalVertices[_] = d;
          this._pathGlobalVertices[_ + 1] = y;
        }
        return;
      }
      var v = this._pathSlot._geometryBones;
      var g = h.bones.length;
      var D = h.offset;
      var T = i[D + 1];
      var b = T;
      var A = D + 2 + g;
      for (var _ = 0, P = 0; _ < o; _++) {
        var S = i[A++];
        var O = 0,
          x = 0;
        for (var B = 0, E = S; B < E; B++) {
          var M = i[A++];
          var I = v[M];
          if (I === null) {
            continue;
          }
          I.updateByConstraint();
          var f = I.globalTransformMatrix;
          var F = n[b++];
          var p = n[b++] * r;
          var c = n[b++] * r;
          O += (f.a * p + f.c * c + f.tx) * F;
          x += (f.b * p + f.d * c + f.ty) * F;
        }
        this._pathGlobalVertices[P++] = O;
        this._pathGlobalVertices[P++] = x;
      }
    };
    a.prototype._computeVertices = function (t, e, a, r) {
      for (var i = a, n = t; i < e; i += 2) {
        r[i] = this._pathGlobalVertices[n++];
        r[i + 1] = this._pathGlobalVertices[n++];
      }
    };
    a.prototype._computeBezierCurve = function (t, e, a, r, i) {
      var n = this._armature;
      var s = n.armatureData.parent.intArray;
      var o = s[t.geometry.offset + 0];
      var l = this._positions;
      var h = this._spaces;
      var u = t.closed;
      var f = Array();
      var _ = o * 2;
      var m = _ / 6;
      var p = -1;
      var c = this.position;
      l.length = e * 3 + 2;
      var d = 0;
      if (!t.constantSpeed) {
        var y = t.curveLengths;
        m -= u ? 1 : 2;
        d = y[m];
        if (r) {
          c *= d;
        }
        if (i) {
          for (var v = 0; v < e; v++) {
            h[v] *= d;
          }
        }
        f.length = 8;
        for (var v = 0, g = 0, D = 0; v < e; v++, g += 3) {
          var T = h[v];
          c += T;
          if (u) {
            c %= d;
            if (c < 0) {
              c += d;
            }
            D = 0;
          } else if (c < 0) {
            continue;
          } else if (c > d) {
            continue;
          }
          var b = 0;
          for (;; D++) {
            var A = y[D];
            if (c > A) {
              continue;
            }
            if (D === 0) {
              b = c / A;
            } else {
              var P = y[D - 1];
              b = (c - P) / (A - P);
            }
            break;
          }
          if (D !== p) {
            p = D;
            if (u && D === m) {
              this._computeVertices(_ - 4, 4, 0, f);
              this._computeVertices(0, 4, 4, f);
            } else {
              this._computeVertices(D * 6 + 2, 8, 0, f);
            }
          }
          this.addCurvePosition(b, f[0], f[1], f[2], f[3], f[4], f[5], f[6], f[7], l, g, a);
        }
        return;
      }
      if (u) {
        _ += 2;
        f.length = o;
        this._computeVertices(2, _ - 4, 0, f);
        this._computeVertices(0, 2, _ - 4, f);
        f[_ - 2] = f[0];
        f[_ - 1] = f[1];
      } else {
        m--;
        _ -= 4;
        f.length = _;
        this._computeVertices(2, _, 0, f);
      }
      var S = new Array(m);
      d = 0;
      var O = f[0],
        x = f[1],
        B = 0,
        E = 0,
        M = 0,
        I = 0,
        F = 0,
        C = 0;
      var w, N, R, k, j, L, V, Y;
      for (var v = 0, X = 2; v < m; v++, X += 6) {
        B = f[X];
        E = f[X + 1];
        M = f[X + 2];
        I = f[X + 3];
        F = f[X + 4];
        C = f[X + 5];
        w = (O - B * 2 + M) * 0.1875;
        N = (x - E * 2 + I) * 0.1875;
        R = ((B - M) * 3 - O + F) * 0.09375;
        k = ((E - I) * 3 - x + C) * 0.09375;
        j = w * 2 + R;
        L = N * 2 + k;
        V = (B - O) * 0.75 + w + R * 0.16666667;
        Y = (E - x) * 0.75 + N + k * 0.16666667;
        d += Math.sqrt(V * V + Y * Y);
        V += j;
        Y += L;
        j += R;
        L += k;
        d += Math.sqrt(V * V + Y * Y);
        V += j;
        Y += L;
        d += Math.sqrt(V * V + Y * Y);
        V += j + R;
        Y += L + k;
        d += Math.sqrt(V * V + Y * Y);
        S[v] = d;
        O = F;
        x = C;
      }
      if (r) {
        c *= d;
      }
      if (i) {
        for (var v = 0; v < e; v++) {
          h[v] *= d;
        }
      }
      var U = this._segments;
      var G = 0;
      for (var v = 0, g = 0, D = 0, H = 0; v < e; v++, g += 3) {
        var T = h[v];
        c += T;
        var z = c;
        if (u) {
          z %= d;
          if (z < 0) z += d;
          D = 0;
        } else if (z < 0) {
          continue;
        } else if (z > d) {
          continue;
        }
        for (;; D++) {
          var W = S[D];
          if (z > W) continue;
          if (D === 0) z /= W;else {
            var K = S[D - 1];
            z = (z - K) / (W - K);
          }
          break;
        }
        if (D !== p) {
          p = D;
          var Z = D * 6;
          O = f[Z];
          x = f[Z + 1];
          B = f[Z + 2];
          E = f[Z + 3];
          M = f[Z + 4];
          I = f[Z + 5];
          F = f[Z + 6];
          C = f[Z + 7];
          w = (O - B * 2 + M) * 0.03;
          N = (x - E * 2 + I) * 0.03;
          R = ((B - M) * 3 - O + F) * 0.006;
          k = ((E - I) * 3 - x + C) * 0.006;
          j = w * 2 + R;
          L = N * 2 + k;
          V = (B - O) * 0.3 + w + R * 0.16666667;
          Y = (E - x) * 0.3 + N + k * 0.16666667;
          G = Math.sqrt(V * V + Y * Y);
          U[0] = G;
          for (Z = 1; Z < 8; Z++) {
            V += j;
            Y += L;
            j += R;
            L += k;
            G += Math.sqrt(V * V + Y * Y);
            U[Z] = G;
          }
          V += j;
          Y += L;
          G += Math.sqrt(V * V + Y * Y);
          U[8] = G;
          V += j + R;
          Y += L + k;
          G += Math.sqrt(V * V + Y * Y);
          U[9] = G;
          H = 0;
        }
        z *= G;
        for (;; H++) {
          var q = U[H];
          if (z > q) continue;
          if (H === 0) z /= q;else {
            var K = U[H - 1];
            z = H + (z - K) / (q - K);
          }
          break;
        }
        this.addCurvePosition(z * 0.1, O, x, B, E, M, I, F, C, l, g, a);
      }
    };
    a.prototype.addCurvePosition = function (t, e, a, r, i, n, s, o, l, h, u, f) {
      if (t === 0) {
        h[u] = e;
        h[u + 1] = a;
        h[u + 2] = 0;
        return;
      }
      if (t === 1) {
        h[u] = o;
        h[u + 1] = l;
        h[u + 2] = 0;
        return;
      }
      var _ = 1 - t;
      var m = _ * _;
      var p = t * t;
      var c = m * _;
      var d = m * t * 3;
      var y = _ * p * 3;
      var v = t * p;
      var g = c * e + d * r + y * n + v * o;
      var D = c * a + d * i + y * s + v * l;
      h[u] = g;
      h[u + 1] = D;
      if (f) {
        h[u + 2] = Math.atan2(D - (c * a + d * i + y * s), g - (c * e + d * r + y * n));
      } else {
        h[u + 2] = 0;
      }
    };
    a.prototype.init = function (t, e) {
      this._constraintData = t;
      this._armature = e;
      var a = t;
      this.pathOffset = a.pathDisplayData.geometry.offset;
      this.position = a.position;
      this.spacing = a.spacing;
      this.rotateOffset = a.rotateOffset;
      this.rotateMix = a.rotateMix;
      this.translateMix = a.translateMix;
      this._root = this._armature.getBone(a.root.name);
      this._target = this._armature.getBone(a.target.name);
      this._pathSlot = this._armature.getSlot(a.pathSlot.name);
      for (var r = 0, i = a.bones.length; r < i; r++) {
        var n = this._armature.getBone(a.bones[r].name);
        if (n !== null) {
          this._bones.push(n);
        }
      }
      if (a.rotateMode === 2) {
        this._boneLengths.length = this._bones.length;
      }
      this._root._hasConstraint = true;
    };
    a.prototype.update = function () {
      var e = this._pathSlot;
      if (e._geometryData === null || e._geometryData.offset !== this.pathOffset) {
        return;
      }
      var a = this._constraintData;
      var r = false;
      if (this._root._childrenTransformDirty) {
        this._updatePathVertices(e._geometryData);
        r = true;
      } else if (e._verticesDirty || e._isBonesUpdate()) {
        this._updatePathVertices(e._geometryData);
        e._verticesDirty = false;
        r = true;
      }
      if (!r && !this.dirty) {
        return;
      }
      var i = a.positionMode;
      var n = a.spacingMode;
      var s = a.rotateMode;
      var o = this._bones;
      var l = n === 0;
      var h = s === 2;
      var u = s === 0;
      var f = o.length;
      var _ = u ? f : f + 1;
      var m = this.spacing;
      var p = this._spaces;
      p.length = _;
      if (h || l) {
        p[0] = 0;
        for (var c = 0, d = _ - 1; c < d; c++) {
          var y = o[c];
          y.updateByConstraint();
          var v = y._boneData.length;
          var g = y.globalTransformMatrix;
          var D = v * g.a;
          var T = v * g.b;
          var b = Math.sqrt(D * D + T * T);
          if (h) {
            this._boneLengths[c] = b;
          }
          p[c + 1] = (v + m) * b / v;
        }
      } else {
        for (var c = 0; c < _; c++) {
          p[c] = m;
        }
      }
      this._computeBezierCurve(e._displayFrame.rawDisplayData, _, u, i === 1, n === 2);
      var A = this._positions;
      var P = this.rotateOffset;
      var S = A[0],
        O = A[1];
      var x;
      if (P === 0) {
        x = s === 1;
      } else {
        x = false;
        var y = e.parent;
        if (y !== null) {
          var g = y.globalTransformMatrix;
          P *= g.a * g.d - g.b * g.c > 0 ? t.Transform.DEG_RAD : -t.Transform.DEG_RAD;
        }
      }
      var B = this.rotateMix;
      var E = this.translateMix;
      for (var c = 0, M = 3; c < f; c++, M += 3) {
        var y = o[c];
        y.updateByConstraint();
        var g = y.globalTransformMatrix;
        g.tx += (S - g.tx) * E;
        g.ty += (O - g.ty) * E;
        var D = A[M],
          T = A[M + 1];
        var I = D - S,
          F = T - O;
        if (h) {
          var C = this._boneLengths[c];
          var w = (Math.sqrt(I * I + F * F) / C - 1) * B + 1;
          g.a *= w;
          g.b *= w;
        }
        S = D;
        O = T;
        if (B > 0) {
          var N = g.a,
            R = g.b,
            k = g.c,
            j = g.d,
            L = void 0,
            V = void 0,
            Y = void 0;
          if (u) {
            L = A[M - 1];
          } else {
            L = Math.atan2(F, I);
          }
          L -= Math.atan2(R, N);
          if (x) {
            V = Math.cos(L);
            Y = Math.sin(L);
            var X = y._boneData.length;
            S += (X * (V * N - Y * R) - I) * B;
            O += (X * (Y * N + V * R) - F) * B;
          } else {
            L += P;
          }
          if (L > t.Transform.PI) {
            L -= t.Transform.PI_D;
          } else if (L < -t.Transform.PI) {
            L += t.Transform.PI_D;
          }
          L *= B;
          V = Math.cos(L);
          Y = Math.sin(L);
          g.a = V * N - Y * R;
          g.b = Y * N + V * R;
          g.c = V * k - Y * j;
          g.d = Y * k + V * j;
        }
        y.global.fromMatrix(g);
      }
      this.dirty = false;
    };
    a.prototype.invalidUpdate = function () {};
    return a;
  }(e);
  t.PathConstraint = r;
})(dragonBones || (dragonBones = {}));
var dragonBones;
(function (t) {
  var e = function () {
    function t(t) {
      if (t === void 0) {
        t = 0;
      }
      this.time = 0;
      this.timeScale = 1;
      this._systemTime = 0;
      this._animatebles = [];
      this._clock = null;
      this.time = t;
      this._systemTime = new Date().getTime() * 0.001;
    }
    t.prototype.advanceTime = function (t) {
      if (t !== t) {
        t = 0;
      }
      var e = Date.now() * 0.001;
      if (t < 0) {
        t = e - this._systemTime;
      }
      this._systemTime = e;
      if (this.timeScale !== 1) {
        t *= this.timeScale;
      }
      if (t === 0) {
        return;
      }
      if (t < 0) {
        this.time -= t;
      } else {
        this.time += t;
      }
      var a = 0,
        r = 0,
        i = this._animatebles.length;
      for (; a < i; ++a) {
        var n = this._animatebles[a];
        if (n !== null) {
          if (r > 0) {
            this._animatebles[a - r] = n;
            this._animatebles[a] = null;
          }
          n.advanceTime(t);
        } else {
          r++;
        }
      }
      if (r > 0) {
        i = this._animatebles.length;
        for (; a < i; ++a) {
          var s = this._animatebles[a];
          if (s !== null) {
            this._animatebles[a - r] = s;
          } else {
            r++;
          }
        }
        this._animatebles.length -= r;
      }
    };
    t.prototype.contains = function (t) {
      if (t === this) {
        return false;
      }
      var e = t;
      while (e !== this && e !== null) {
        e = e.clock;
      }
      return e === this;
    };
    t.prototype.add = function (t) {
      if (this._animatebles.indexOf(t) < 0) {
        this._animatebles.push(t);
        t.clock = this;
      }
    };
    t.prototype.remove = function (t) {
      var e = this._animatebles.indexOf(t);
      if (e >= 0) {
        this._animatebles[e] = null;
        t.clock = null;
      }
    };
    t.prototype.clear = function () {
      for (var t = 0, e = this._animatebles; t < e.length; t++) {
        var a = e[t];
        if (a !== null) {
          a.clock = null;
        }
      }
    };
    Object.defineProperty(t.prototype, "clock", {
      get: function get() {
        return this._clock;
      },
      set: function set(t) {
        if (this._clock === t) {
          return;
        }
        if (this._clock !== null) {
          this._clock.remove(this);
        }
        this._clock = t;
        if (this._clock !== null) {
          this._clock.add(this);
        }
      },
      enumerable: true,
      configurable: true
    });
    return t;
  }();
  t.WorldClock = e;
})(dragonBones || (dragonBones = {}));
var dragonBones;
(function (t) {
  var e = function (e) {
    __extends(a, e);
    function a() {
      var t = e !== null && e.apply(this, arguments) || this;
      t._animationNames = [];
      t._animationStates = [];
      t._animations = {};
      t._blendStates = {};
      t._animationConfig = null;
      return t;
    }
    a.toString = function () {
      return "[class dragonBones.Animation]";
    };
    a.prototype._onClear = function () {
      for (var t = 0, e = this._animationStates; t < e.length; t++) {
        var a = e[t];
        a.returnToPool();
      }
      for (var r in this._animations) {
        delete this._animations[r];
      }
      for (var r in this._blendStates) {
        var i = this._blendStates[r];
        for (var n in i) {
          i[n].returnToPool();
        }
        delete this._blendStates[r];
      }
      if (this._animationConfig !== null) {
        this._animationConfig.returnToPool();
      }
      this.timeScale = 1;
      this._animationDirty = false;
      this._inheritTimeScale = 1;
      this._animationNames.length = 0;
      this._animationStates.length = 0;
      this._armature = null;
      this._animationConfig = null;
      this._lastAnimationState = null;
    };
    a.prototype._fadeOut = function (t) {
      switch (t.fadeOutMode) {
        case 1:
          for (var e = 0, a = this._animationStates; e < a.length; e++) {
            var r = a[e];
            if (r._parent !== null) {
              continue;
            }
            if (r.layer === t.layer) {
              r.fadeOut(t.fadeOutTime, t.pauseFadeOut);
            }
          }
          break;
        case 2:
          for (var i = 0, n = this._animationStates; i < n.length; i++) {
            var r = n[i];
            if (r._parent !== null) {
              continue;
            }
            if (r.group === t.group) {
              r.fadeOut(t.fadeOutTime, t.pauseFadeOut);
            }
          }
          break;
        case 3:
          for (var s = 0, o = this._animationStates; s < o.length; s++) {
            var r = o[s];
            if (r._parent !== null) {
              continue;
            }
            if (r.layer === t.layer && r.group === t.group) {
              r.fadeOut(t.fadeOutTime, t.pauseFadeOut);
            }
          }
          break;
        case 4:
          for (var l = 0, h = this._animationStates; l < h.length; l++) {
            var r = h[l];
            if (r._parent !== null) {
              continue;
            }
            r.fadeOut(t.fadeOutTime, t.pauseFadeOut);
          }
          break;
        case 5:
        default:
          break;
      }
    };
    a.prototype.init = function (e) {
      if (this._armature !== null) {
        return;
      }
      this._armature = e;
      this._animationConfig = t.BaseObject.borrowObject(t.AnimationConfig);
    };
    a.prototype.advanceTime = function (t) {
      if (t < 0) {
        t = -t;
      }
      if (this._armature.inheritAnimation && this._armature._parent !== null) {
        this._inheritTimeScale = this._armature._parent._armature.animation._inheritTimeScale * this.timeScale;
      } else {
        this._inheritTimeScale = this.timeScale;
      }
      if (this._inheritTimeScale !== 1) {
        t *= this._inheritTimeScale;
      }
      for (var e in this._blendStates) {
        var a = this._blendStates[e];
        for (var r in a) {
          a[r].reset();
        }
      }
      var i = this._animationStates.length;
      if (i === 1) {
        var n = this._animationStates[0];
        if (n._fadeState > 0 && n._subFadeState > 0) {
          this._armature._dragonBones.bufferObject(n);
          this._animationStates.length = 0;
          this._lastAnimationState = null;
        } else {
          var s = n.animationData;
          var o = s.cacheFrameRate;
          if (this._animationDirty && o > 0) {
            this._animationDirty = false;
            for (var l = 0, h = this._armature.getBones(); l < h.length; l++) {
              var u = h[l];
              u._cachedFrameIndices = s.getBoneCachedFrameIndices(u.name);
            }
            for (var f = 0, _ = this._armature.getSlots(); f < _.length; f++) {
              var m = _[f];
              if (m.displayFrameCount > 0) {
                var p = m.getDisplayFrameAt(0).rawDisplayData;
                if (p !== null && p.parent === this._armature.armatureData.defaultSkin) {
                  m._cachedFrameIndices = s.getSlotCachedFrameIndices(m.name);
                  continue;
                }
              }
              m._cachedFrameIndices = null;
            }
          }
          n.advanceTime(t, o);
        }
      } else if (i > 1) {
        for (var c = 0, d = 0; c < i; ++c) {
          var n = this._animationStates[c];
          if (n._fadeState > 0 && n._subFadeState > 0) {
            d++;
            this._armature._dragonBones.bufferObject(n);
            this._animationDirty = true;
            if (this._lastAnimationState === n) {
              this._lastAnimationState = null;
            }
          } else {
            if (d > 0) {
              this._animationStates[c - d] = n;
            }
            n.advanceTime(t, 0);
          }
          if (c === i - 1 && d > 0) {
            this._animationStates.length -= d;
            if (this._lastAnimationState === null && this._animationStates.length > 0) {
              this._lastAnimationState = this._animationStates[this._animationStates.length - 1];
            }
          }
        }
        this._armature._cacheFrameIndex = -1;
      } else {
        this._armature._cacheFrameIndex = -1;
      }
    };
    a.prototype.reset = function () {
      for (var t = 0, e = this._animationStates; t < e.length; t++) {
        var a = e[t];
        a.returnToPool();
      }
      this._animationDirty = false;
      this._animationConfig.clear();
      this._animationStates.length = 0;
      this._lastAnimationState = null;
    };
    a.prototype.stop = function (t) {
      if (t === void 0) {
        t = null;
      }
      if (t !== null) {
        var e = this.getState(t);
        if (e !== null) {
          e.stop();
        }
      } else {
        for (var a = 0, r = this._animationStates; a < r.length; a++) {
          var e = r[a];
          e.stop();
        }
      }
    };
    a.prototype.playConfig = function (e) {
      var a = e.animation;
      if (!(a in this._animations)) {
        console.warn("Non-existent animation.\n", "DragonBones name: " + this._armature.armatureData.parent.name, "Armature name: " + this._armature.name, "Animation name: " + a);
        return null;
      }
      var r = this._animations[a];
      if (e.fadeOutMode === 5) {
        for (var i = 0, n = this._animationStates; i < n.length; i++) {
          var s = n[i];
          if (s._fadeState < 1 && s.layer === e.layer && s.animationData === r) {
            return s;
          }
        }
      }
      if (this._animationStates.length === 0) {
        e.fadeInTime = 0;
      } else if (e.fadeInTime < 0) {
        e.fadeInTime = r.fadeInTime;
      }
      if (e.fadeOutTime < 0) {
        e.fadeOutTime = e.fadeInTime;
      }
      if (e.timeScale <= -100) {
        e.timeScale = 1 / r.scale;
      }
      if (r.frameCount > 0) {
        if (e.position < 0) {
          e.position %= r.duration;
          e.position = r.duration - e.position;
        } else if (e.position === r.duration) {
          e.position -= 1e-6;
        } else if (e.position > r.duration) {
          e.position %= r.duration;
        }
        if (e.duration > 0 && e.position + e.duration > r.duration) {
          e.duration = r.duration - e.position;
        }
        if (e.playTimes < 0) {
          e.playTimes = r.playTimes;
        }
      } else {
        e.playTimes = 1;
        e.position = 0;
        if (e.duration > 0) {
          e.duration = 0;
        }
      }
      if (e.duration === 0) {
        e.duration = -1;
      }
      this._fadeOut(e);
      var o = t.BaseObject.borrowObject(t.AnimationState);
      o.init(this._armature, r, e);
      this._animationDirty = true;
      this._armature._cacheFrameIndex = -1;
      if (this._animationStates.length > 0) {
        var l = false;
        for (var h = 0, u = this._animationStates.length; h < u; ++h) {
          if (o.layer > this._animationStates[h].layer) {
            l = true;
            this._animationStates.splice(h, 0, o);
            break;
          } else if (h !== u - 1 && o.layer > this._animationStates[h + 1].layer) {
            l = true;
            this._animationStates.splice(h + 1, 0, o);
            break;
          }
        }
        if (!l) {
          this._animationStates.push(o);
        }
      } else {
        this._animationStates.push(o);
      }
      for (var f = 0, _ = this._armature.getSlots(); f < _.length; f++) {
        var m = _[f];
        var p = m.childArmature;
        if (p !== null && p.inheritAnimation && p.animation.hasAnimation(a) && p.animation.getState(a) === null) {
          p.animation.fadeIn(a);
        }
      }
      for (var c in r.animationTimelines) {
        var d = this.fadeIn(c, 0, 1, o.layer, "", 5);
        if (d === null) {
          continue;
        }
        var y = r.animationTimelines[c];
        d.actionEnabled = false;
        d.resetToPose = false;
        d.stop();
        o.addState(d, y);
        var v = this._animationStates.indexOf(o);
        var g = this._animationStates.indexOf(d);
        if (g < v) {
          this._animationStates.splice(v, 1);
          this._animationStates.splice(g, 0, o);
        }
      }
      this._lastAnimationState = o;
      return o;
    };
    a.prototype.play = function (t, e) {
      if (t === void 0) {
        t = null;
      }
      if (e === void 0) {
        e = -1;
      }
      this._animationConfig.clear();
      this._animationConfig.resetToPose = true;
      this._animationConfig.playTimes = e;
      this._animationConfig.fadeInTime = 0;
      this._animationConfig.animation = t !== null ? t : "";
      if (t !== null && t.length > 0) {
        this.playConfig(this._animationConfig);
      } else if (this._lastAnimationState === null) {
        var a = this._armature.armatureData.defaultAnimation;
        if (a !== null) {
          this._animationConfig.animation = a.name;
          this.playConfig(this._animationConfig);
        }
      } else if (!this._lastAnimationState.isPlaying && !this._lastAnimationState.isCompleted) {
        this._lastAnimationState.play();
      } else {
        this._animationConfig.animation = this._lastAnimationState.name;
        this.playConfig(this._animationConfig);
      }
      return this._lastAnimationState;
    };
    a.prototype.fadeIn = function (t, e, a, r, i, n) {
      if (e === void 0) {
        e = -1;
      }
      if (a === void 0) {
        a = -1;
      }
      if (r === void 0) {
        r = 0;
      }
      if (i === void 0) {
        i = null;
      }
      if (n === void 0) {
        n = 3;
      }
      this._animationConfig.clear();
      this._animationConfig.fadeOutMode = n;
      this._animationConfig.playTimes = a;
      this._animationConfig.layer = r;
      this._animationConfig.fadeInTime = e;
      this._animationConfig.animation = t;
      this._animationConfig.group = i !== null ? i : "";
      return this.playConfig(this._animationConfig);
    };
    a.prototype.gotoAndPlayByTime = function (t, e, a) {
      if (e === void 0) {
        e = 0;
      }
      if (a === void 0) {
        a = -1;
      }
      this._animationConfig.clear();
      this._animationConfig.resetToPose = true;
      this._animationConfig.playTimes = a;
      this._animationConfig.position = e;
      this._animationConfig.fadeInTime = 0;
      this._animationConfig.animation = t;
      return this.playConfig(this._animationConfig);
    };
    a.prototype.gotoAndPlayByFrame = function (t, e, a) {
      if (e === void 0) {
        e = 0;
      }
      if (a === void 0) {
        a = -1;
      }
      this._animationConfig.clear();
      this._animationConfig.resetToPose = true;
      this._animationConfig.playTimes = a;
      this._animationConfig.fadeInTime = 0;
      this._animationConfig.animation = t;
      var r = t in this._animations ? this._animations[t] : null;
      if (r !== null) {
        this._animationConfig.position = r.frameCount > 0 ? r.duration * e / r.frameCount : 0;
      }
      return this.playConfig(this._animationConfig);
    };
    a.prototype.gotoAndPlayByProgress = function (t, e, a) {
      if (e === void 0) {
        e = 0;
      }
      if (a === void 0) {
        a = -1;
      }
      this._animationConfig.clear();
      this._animationConfig.resetToPose = true;
      this._animationConfig.playTimes = a;
      this._animationConfig.fadeInTime = 0;
      this._animationConfig.animation = t;
      var r = t in this._animations ? this._animations[t] : null;
      if (r !== null) {
        this._animationConfig.position = r.duration * (e > 0 ? e : 0);
      }
      return this.playConfig(this._animationConfig);
    };
    a.prototype.gotoAndStopByTime = function (t, e) {
      if (e === void 0) {
        e = 0;
      }
      var a = this.gotoAndPlayByTime(t, e, 1);
      if (a !== null) {
        a.stop();
      }
      return a;
    };
    a.prototype.gotoAndStopByFrame = function (t, e) {
      if (e === void 0) {
        e = 0;
      }
      var a = this.gotoAndPlayByFrame(t, e, 1);
      if (a !== null) {
        a.stop();
      }
      return a;
    };
    a.prototype.gotoAndStopByProgress = function (t, e) {
      if (e === void 0) {
        e = 0;
      }
      var a = this.gotoAndPlayByProgress(t, e, 1);
      if (a !== null) {
        a.stop();
      }
      return a;
    };
    a.prototype.getBlendState = function (e, a, r) {
      if (!(e in this._blendStates)) {
        this._blendStates[e] = {};
      }
      var i = this._blendStates[e];
      if (!(a in i)) {
        var n = i[a] = t.BaseObject.borrowObject(t.BlendState);
        n.target = r;
      }
      return i[a];
    };
    a.prototype.getState = function (t, e) {
      if (e === void 0) {
        e = -1;
      }
      var a = this._animationStates.length;
      while (a--) {
        var r = this._animationStates[a];
        if (r.name === t && (e < 0 || r.layer === e)) {
          return r;
        }
      }
      return null;
    };
    a.prototype.hasAnimation = function (t) {
      return t in this._animations;
    };
    a.prototype.getStates = function () {
      return this._animationStates;
    };
    Object.defineProperty(a.prototype, "isPlaying", {
      get: function get() {
        for (var t = 0, e = this._animationStates; t < e.length; t++) {
          var a = e[t];
          if (a.isPlaying) {
            return true;
          }
        }
        return false;
      },
      enumerable: true,
      configurable: true
    });
    Object.defineProperty(a.prototype, "isCompleted", {
      get: function get() {
        for (var t = 0, e = this._animationStates; t < e.length; t++) {
          var a = e[t];
          if (!a.isCompleted) {
            return false;
          }
        }
        return this._animationStates.length > 0;
      },
      enumerable: true,
      configurable: true
    });
    Object.defineProperty(a.prototype, "lastAnimationName", {
      get: function get() {
        return this._lastAnimationState !== null ? this._lastAnimationState.name : "";
      },
      enumerable: true,
      configurable: true
    });
    Object.defineProperty(a.prototype, "animationNames", {
      get: function get() {
        return this._animationNames;
      },
      enumerable: true,
      configurable: true
    });
    Object.defineProperty(a.prototype, "animations", {
      get: function get() {
        return this._animations;
      },
      set: function set(t) {
        if (this._animations === t) {
          return;
        }
        this._animationNames.length = 0;
        for (var e in this._animations) {
          delete this._animations[e];
        }
        for (var e in t) {
          this._animationNames.push(e);
          this._animations[e] = t[e];
        }
      },
      enumerable: true,
      configurable: true
    });
    Object.defineProperty(a.prototype, "animationConfig", {
      get: function get() {
        this._animationConfig.clear();
        return this._animationConfig;
      },
      enumerable: true,
      configurable: true
    });
    Object.defineProperty(a.prototype, "lastAnimationState", {
      get: function get() {
        return this._lastAnimationState;
      },
      enumerable: true,
      configurable: true
    });
    return a;
  }(t.BaseObject);
  t.Animation = e;
})(dragonBones || (dragonBones = {}));
var dragonBones;
(function (t) {
  var e = function (e) {
    __extends(r, e);
    function r() {
      var t = e !== null && e.apply(this, arguments) || this;
      t._boneMask = [];
      t._boneTimelines = [];
      t._boneBlendTimelines = [];
      t._slotTimelines = [];
      t._slotBlendTimelines = [];
      t._constraintTimelines = [];
      t._animationTimelines = [];
      t._poseTimelines = [];
      t._actionTimeline = null;
      t._zOrderTimeline = null;
      return t;
    }
    r.toString = function () {
      return "[class dragonBones.AnimationState]";
    };
    r.prototype._onClear = function () {
      for (var t = 0, e = this._boneTimelines; t < e.length; t++) {
        var a = e[t];
        a.returnToPool();
      }
      for (var r = 0, i = this._boneBlendTimelines; r < i.length; r++) {
        var a = i[r];
        a.returnToPool();
      }
      for (var n = 0, s = this._slotTimelines; n < s.length; n++) {
        var a = s[n];
        a.returnToPool();
      }
      for (var o = 0, l = this._slotBlendTimelines; o < l.length; o++) {
        var a = l[o];
        a.returnToPool();
      }
      for (var h = 0, u = this._constraintTimelines; h < u.length; h++) {
        var a = u[h];
        a.returnToPool();
      }
      for (var f = 0, _ = this._animationTimelines; f < _.length; f++) {
        var a = _[f];
        var m = a.target;
        if (m._parent === this) {
          m._fadeState = 1;
          m._subFadeState = 1;
          m._parent = null;
        }
        a.returnToPool();
      }
      if (this._actionTimeline !== null) {
        this._actionTimeline.returnToPool();
      }
      if (this._zOrderTimeline !== null) {
        this._zOrderTimeline.returnToPool();
      }
      this.actionEnabled = false;
      this.additive = false;
      this.displayControl = false;
      this.resetToPose = false;
      this.blendType = 0;
      this.playTimes = 1;
      this.layer = 0;
      this.timeScale = 1;
      this._weight = 1;
      this.parameterX = 0;
      this.parameterY = 0;
      this.positionX = 0;
      this.positionY = 0;
      this.autoFadeOutTime = 0;
      this.fadeTotalTime = 0;
      this.name = "";
      this.group = "";
      this._timelineDirty = 2;
      this._playheadState = 0;
      this._fadeState = -1;
      this._subFadeState = -1;
      this._position = 0;
      this._duration = 0;
      this._fadeTime = 0;
      this._time = 0;
      this._fadeProgress = 0;
      this._weightResult = 0;
      this._boneMask.length = 0;
      this._boneTimelines.length = 0;
      this._boneBlendTimelines.length = 0;
      this._slotTimelines.length = 0;
      this._slotBlendTimelines.length = 0;
      this._constraintTimelines.length = 0;
      this._animationTimelines.length = 0;
      this._poseTimelines.length = 0;
      this._animationData = null;
      this._armature = null;
      this._actionTimeline = null;
      this._zOrderTimeline = null;
      this._activeChildA = null;
      this._activeChildB = null;
      this._parent = null;
    };
    r.prototype._updateTimelines = function () {
      {
        for (var e = 0, a = this._armature._constraints; e < a.length; e++) {
          var r = a[e];
          var i = this._animationData.getConstraintTimelines(r.name);
          if (i !== null) {
            for (var n = 0, s = i; n < s.length; n++) {
              var o = s[n];
              switch (o.type) {
                case 30:
                  {
                    var l = t.BaseObject.borrowObject(t.IKConstraintTimelineState);
                    l.target = r;
                    l.init(this._armature, this, o);
                    this._constraintTimelines.push(l);
                    break;
                  }
                default:
                  break;
              }
            }
          } else if (this.resetToPose) {
            var l = t.BaseObject.borrowObject(t.IKConstraintTimelineState);
            l.target = r;
            l.init(this._armature, this, null);
            this._constraintTimelines.push(l);
            this._poseTimelines.push(l);
          }
        }
      }
    };
    r.prototype._updateBoneAndSlotTimelines = function () {
      {
        var e = {};
        for (var r = 0, i = this._boneTimelines; r < i.length; r++) {
          var n = i[r];
          var s = n.target.target.name;
          if (!(s in e)) {
            e[s] = [];
          }
          e[s].push(n);
        }
        for (var o = 0, l = this._boneBlendTimelines; o < l.length; o++) {
          var n = l[o];
          var s = n.target.target.name;
          if (!(s in e)) {
            e[s] = [];
          }
          e[s].push(n);
        }
        for (var h = 0, u = this._armature.getBones(); h < u.length; h++) {
          var f = u[h];
          var s = f.name;
          if (!this.containsBoneMask(s)) {
            continue;
          }
          if (s in e) {
            delete e[s];
          } else {
            var _ = this._animationData.getBoneTimelines(s);
            var m = this._armature.animation.getBlendState(a.BONE_TRANSFORM, f.name, f);
            if (_ !== null) {
              for (var p = 0, c = _; p < c.length; p++) {
                var d = c[p];
                switch (d.type) {
                  case 10:
                    {
                      var n = t.BaseObject.borrowObject(t.BoneAllTimelineState);
                      n.target = m;
                      n.init(this._armature, this, d);
                      this._boneTimelines.push(n);
                      break;
                    }
                  case 11:
                    {
                      var n = t.BaseObject.borrowObject(t.BoneTranslateTimelineState);
                      n.target = m;
                      n.init(this._armature, this, d);
                      this._boneTimelines.push(n);
                      break;
                    }
                  case 12:
                    {
                      var n = t.BaseObject.borrowObject(t.BoneRotateTimelineState);
                      n.target = m;
                      n.init(this._armature, this, d);
                      this._boneTimelines.push(n);
                      break;
                    }
                  case 13:
                    {
                      var n = t.BaseObject.borrowObject(t.BoneScaleTimelineState);
                      n.target = m;
                      n.init(this._armature, this, d);
                      this._boneTimelines.push(n);
                      break;
                    }
                  case 60:
                    {
                      var n = t.BaseObject.borrowObject(t.AlphaTimelineState);
                      n.target = this._armature.animation.getBlendState(a.BONE_ALPHA, f.name, f);
                      n.init(this._armature, this, d);
                      this._boneBlendTimelines.push(n);
                      break;
                    }
                  case 50:
                    {
                      var n = t.BaseObject.borrowObject(t.SurfaceTimelineState);
                      n.target = this._armature.animation.getBlendState(a.SURFACE, f.name, f);
                      n.init(this._armature, this, d);
                      this._boneBlendTimelines.push(n);
                      break;
                    }
                  default:
                    break;
                }
              }
            } else if (this.resetToPose) {
              if (f._boneData.type === 0) {
                var n = t.BaseObject.borrowObject(t.BoneAllTimelineState);
                n.target = m;
                n.init(this._armature, this, null);
                this._boneTimelines.push(n);
                this._poseTimelines.push(n);
              } else {
                var n = t.BaseObject.borrowObject(t.SurfaceTimelineState);
                n.target = this._armature.animation.getBlendState(a.SURFACE, f.name, f);
                n.init(this._armature, this, null);
                this._boneBlendTimelines.push(n);
                this._poseTimelines.push(n);
              }
            }
          }
        }
        for (var y in e) {
          for (var v = 0, g = e[y]; v < g.length; v++) {
            var n = g[v];
            var D = this._boneTimelines.indexOf(n);
            if (D >= 0) {
              this._boneTimelines.splice(D, 1);
              n.returnToPool();
            }
            D = this._boneBlendTimelines.indexOf(n);
            if (D >= 0) {
              this._boneBlendTimelines.splice(D, 1);
              n.returnToPool();
            }
          }
        }
      }
      {
        var T = {};
        var b = [];
        for (var A = 0, P = this._slotTimelines; A < P.length; A++) {
          var n = P[A];
          var s = n.target.name;
          if (!(s in T)) {
            T[s] = [];
          }
          T[s].push(n);
        }
        for (var S = 0, O = this._slotBlendTimelines; S < O.length; S++) {
          var n = O[S];
          var s = n.target.target.name;
          if (!(s in T)) {
            T[s] = [];
          }
          T[s].push(n);
        }
        for (var x = 0, B = this._armature.getSlots(); x < B.length; x++) {
          var E = B[x];
          var M = E.parent.name;
          if (!this.containsBoneMask(M)) {
            continue;
          }
          var s = E.name;
          if (s in T) {
            delete T[s];
          } else {
            var I = false;
            var F = false;
            b.length = 0;
            var _ = this._animationData.getSlotTimelines(s);
            if (_ !== null) {
              for (var C = 0, w = _; C < w.length; C++) {
                var d = w[C];
                switch (d.type) {
                  case 20:
                    {
                      var n = t.BaseObject.borrowObject(t.SlotDislayTimelineState);
                      n.target = E;
                      n.init(this._armature, this, d);
                      this._slotTimelines.push(n);
                      I = true;
                      break;
                    }
                  case 23:
                    {
                      var n = t.BaseObject.borrowObject(t.SlotZIndexTimelineState);
                      n.target = this._armature.animation.getBlendState(a.SLOT_Z_INDEX, E.name, E);
                      n.init(this._armature, this, d);
                      this._slotBlendTimelines.push(n);
                      break;
                    }
                  case 21:
                    {
                      var n = t.BaseObject.borrowObject(t.SlotColorTimelineState);
                      n.target = E;
                      n.init(this._armature, this, d);
                      this._slotTimelines.push(n);
                      F = true;
                      break;
                    }
                  case 22:
                    {
                      var n = t.BaseObject.borrowObject(t.DeformTimelineState);
                      n.target = this._armature.animation.getBlendState(a.SLOT_DEFORM, E.name, E);
                      n.init(this._armature, this, d);
                      if (n.target !== null) {
                        this._slotBlendTimelines.push(n);
                        b.push(n.geometryOffset);
                      } else {
                        n.returnToPool();
                      }
                      break;
                    }
                  case 24:
                    {
                      var n = t.BaseObject.borrowObject(t.AlphaTimelineState);
                      n.target = this._armature.animation.getBlendState(a.SLOT_ALPHA, E.name, E);
                      n.init(this._armature, this, d);
                      this._slotBlendTimelines.push(n);
                      break;
                    }
                  default:
                    break;
                }
              }
            }
            if (this.resetToPose) {
              if (!I) {
                var n = t.BaseObject.borrowObject(t.SlotDislayTimelineState);
                n.target = E;
                n.init(this._armature, this, null);
                this._slotTimelines.push(n);
                this._poseTimelines.push(n);
              }
              if (!F) {
                var n = t.BaseObject.borrowObject(t.SlotColorTimelineState);
                n.target = E;
                n.init(this._armature, this, null);
                this._slotTimelines.push(n);
                this._poseTimelines.push(n);
              }
              for (var N = 0, R = E.displayFrameCount; N < R; ++N) {
                var k = E.getDisplayFrameAt(N);
                if (k.deformVertices.length === 0) {
                  continue;
                }
                var j = k.getGeometryData();
                if (j !== null && b.indexOf(j.offset) < 0) {
                  var n = t.BaseObject.borrowObject(t.DeformTimelineState);
                  n.geometryOffset = j.offset;
                  n.displayFrame = k;
                  n.target = this._armature.animation.getBlendState(a.SLOT_DEFORM, E.name, E);
                  n.init(this._armature, this, null);
                  this._slotBlendTimelines.push(n);
                  this._poseTimelines.push(n);
                }
              }
            }
          }
        }
        for (var y in T) {
          for (var L = 0, V = T[y]; L < V.length; L++) {
            var n = V[L];
            var D = this._slotTimelines.indexOf(n);
            if (D >= 0) {
              this._slotTimelines.splice(D, 1);
              n.returnToPool();
            }
            D = this._slotBlendTimelines.indexOf(n);
            if (D >= 0) {
              this._slotBlendTimelines.splice(D, 1);
              n.returnToPool();
            }
          }
        }
      }
    };
    r.prototype._advanceFadeTime = function (e) {
      var a = this._fadeState > 0;
      if (this._subFadeState < 0) {
        this._subFadeState = 0;
        var r = this._parent === null && this.actionEnabled;
        if (r) {
          var i = a ? t.EventObject.FADE_OUT : t.EventObject.FADE_IN;
          if (this._armature.eventDispatcher.hasDBEventListener(i)) {
            var n = t.BaseObject.borrowObject(t.EventObject);
            n.type = i;
            n.armature = this._armature;
            n.animationState = this;
            this._armature._dragonBones.bufferEvent(n);
          }
        }
      }
      if (e < 0) {
        e = -e;
      }
      this._fadeTime += e;
      if (this._fadeTime >= this.fadeTotalTime) {
        this._subFadeState = 1;
        this._fadeProgress = a ? 0 : 1;
      } else if (this._fadeTime > 0) {
        this._fadeProgress = a ? 1 - this._fadeTime / this.fadeTotalTime : this._fadeTime / this.fadeTotalTime;
      } else {
        this._fadeProgress = a ? 1 : 0;
      }
      if (this._subFadeState > 0) {
        if (!a) {
          this._playheadState |= 1;
          this._fadeState = 0;
        }
        var r = this._parent === null && this.actionEnabled;
        if (r) {
          var i = a ? t.EventObject.FADE_OUT_COMPLETE : t.EventObject.FADE_IN_COMPLETE;
          if (this._armature.eventDispatcher.hasDBEventListener(i)) {
            var n = t.BaseObject.borrowObject(t.EventObject);
            n.type = i;
            n.armature = this._armature;
            n.animationState = this;
            this._armature._dragonBones.bufferEvent(n);
          }
        }
      }
    };
    r.prototype.init = function (e, a, r) {
      if (this._armature !== null) {
        return;
      }
      this._armature = e;
      this._animationData = a;
      this.resetToPose = r.resetToPose;
      this.additive = r.additive;
      this.displayControl = r.displayControl;
      this.actionEnabled = r.actionEnabled;
      this.blendType = a.blendType;
      this.layer = r.layer;
      this.playTimes = r.playTimes;
      this.timeScale = r.timeScale;
      this.fadeTotalTime = r.fadeInTime;
      this.autoFadeOutTime = r.autoFadeOutTime;
      this.name = r.name.length > 0 ? r.name : r.animation;
      this.group = r.group;
      this._weight = r.weight;
      if (r.pauseFadeIn) {
        this._playheadState = 2;
      } else {
        this._playheadState = 3;
      }
      if (r.duration < 0) {
        this._position = 0;
        this._duration = this._animationData.duration;
        if (r.position !== 0) {
          if (this.timeScale >= 0) {
            this._time = r.position;
          } else {
            this._time = r.position - this._duration;
          }
        } else {
          this._time = 0;
        }
      } else {
        this._position = r.position;
        this._duration = r.duration;
        this._time = 0;
      }
      if (this.timeScale < 0 && this._time === 0) {
        this._time = -1e-6;
      }
      if (this.fadeTotalTime <= 0) {
        this._fadeProgress = 0.999999;
      }
      if (r.boneMask.length > 0) {
        this._boneMask.length = r.boneMask.length;
        for (var i = 0, n = this._boneMask.length; i < n; ++i) {
          this._boneMask[i] = r.boneMask[i];
        }
      }
      this._actionTimeline = t.BaseObject.borrowObject(t.ActionTimelineState);
      this._actionTimeline.init(this._armature, this, this._animationData.actionTimeline);
      this._actionTimeline.currentTime = this._time;
      if (this._actionTimeline.currentTime < 0) {
        this._actionTimeline.currentTime = this._duration - this._actionTimeline.currentTime;
      }
      if (this._animationData.zOrderTimeline !== null) {
        this._zOrderTimeline = t.BaseObject.borrowObject(t.ZOrderTimelineState);
        this._zOrderTimeline.init(this._armature, this, this._animationData.zOrderTimeline);
      }
    };
    r.prototype.advanceTime = function (t, e) {
      if (this._fadeState !== 0 || this._subFadeState !== 0) {
        this._advanceFadeTime(t);
      }
      if (this._playheadState === 3) {
        if (this.timeScale !== 1) {
          t *= this.timeScale;
        }
        this._time += t;
      }
      if (this._timelineDirty !== 0) {
        if (this._timelineDirty === 2) {
          this._updateTimelines();
        }
        this._timelineDirty = 0;
        this._updateBoneAndSlotTimelines();
      }
      var a = this._fadeState !== 0 || this._subFadeState === 0;
      var r = this._fadeState === 0 && e > 0;
      var i = true;
      var n = true;
      var s = this._time;
      this._weightResult = this._weight * this._fadeProgress;
      if (this._parent !== null) {
        this._weightResult *= this._parent._weightResult;
      }
      if (this._actionTimeline.playState <= 0) {
        this._actionTimeline.update(s);
      }
      if (this._weight === 0) {
        return;
      }
      if (r) {
        var o = e * 2;
        this._actionTimeline.currentTime = Math.floor(this._actionTimeline.currentTime * o) / o;
      }
      if (this._zOrderTimeline !== null && this._zOrderTimeline.playState <= 0) {
        this._zOrderTimeline.update(s);
      }
      if (r) {
        var l = Math.floor(this._actionTimeline.currentTime * e);
        if (this._armature._cacheFrameIndex === l) {
          i = false;
          n = false;
        } else {
          this._armature._cacheFrameIndex = l;
          if (this._animationData.cachedFrames[l]) {
            n = false;
          } else {
            this._animationData.cachedFrames[l] = true;
          }
        }
      }
      if (i) {
        var h = false;
        var u = null;
        if (n) {
          for (var f = 0, _ = this._boneTimelines.length; f < _; ++f) {
            var m = this._boneTimelines[f];
            if (m.playState <= 0) {
              m.update(s);
            }
            if (m.target !== u) {
              var p = m.target;
              h = p.update(this);
              u = p;
              if (p.dirty === 1) {
                var c = p.target.animationPose;
                c.x = 0;
                c.y = 0;
                c.rotation = 0;
                c.skew = 0;
                c.scaleX = 1;
                c.scaleY = 1;
              }
            }
            if (h) {
              m.blend(a);
            }
          }
        }
        for (var f = 0, _ = this._boneBlendTimelines.length; f < _; ++f) {
          var m = this._boneBlendTimelines[f];
          if (m.playState <= 0) {
            m.update(s);
          }
          if (m.target.update(this)) {
            m.blend(a);
          }
        }
        if (this.displayControl) {
          for (var f = 0, _ = this._slotTimelines.length; f < _; ++f) {
            var m = this._slotTimelines[f];
            if (m.playState <= 0) {
              var d = m.target;
              var y = d.displayController;
              if (y === null || y === this.name || y === this.group) {
                m.update(s);
              }
            }
          }
        }
        for (var f = 0, _ = this._slotBlendTimelines.length; f < _; ++f) {
          var m = this._slotBlendTimelines[f];
          if (m.playState <= 0) {
            var p = m.target;
            m.update(s);
            if (p.update(this)) {
              m.blend(a);
            }
          }
        }
        for (var f = 0, _ = this._constraintTimelines.length; f < _; ++f) {
          var m = this._constraintTimelines[f];
          if (m.playState <= 0) {
            m.update(s);
          }
        }
        if (this._animationTimelines.length > 0) {
          var v = 100;
          var g = 100;
          var D = null;
          var T = null;
          for (var f = 0, _ = this._animationTimelines.length; f < _; ++f) {
            var m = this._animationTimelines[f];
            if (m.playState <= 0) {
              m.update(s);
            }
            if (this.blendType === 1) {
              var b = m.target;
              var A = this.parameterX - b.positionX;
              if (A >= 0) {
                if (A < v) {
                  v = A;
                  D = b;
                }
              } else {
                if (-A < g) {
                  g = -A;
                  T = b;
                }
              }
            }
          }
          if (D !== null) {
            if (this._activeChildA !== D) {
              if (this._activeChildA !== null) {
                this._activeChildA.weight = 0;
              }
              this._activeChildA = D;
              this._activeChildA.activeTimeline();
            }
            if (this._activeChildB !== T) {
              if (this._activeChildB !== null) {
                this._activeChildB.weight = 0;
              }
              this._activeChildB = T;
            }
            D.weight = g / (v + g);
            if (T) {
              T.weight = 1 - D.weight;
            }
          }
        }
      }
      if (this._fadeState === 0) {
        if (this._subFadeState > 0) {
          this._subFadeState = 0;
          if (this._poseTimelines.length > 0) {
            for (var P = 0, S = this._poseTimelines; P < S.length; P++) {
              var m = S[P];
              var O = this._boneTimelines.indexOf(m);
              if (O >= 0) {
                this._boneTimelines.splice(O, 1);
                m.returnToPool();
                continue;
              }
              O = this._boneBlendTimelines.indexOf(m);
              if (O >= 0) {
                this._boneBlendTimelines.splice(O, 1);
                m.returnToPool();
                continue;
              }
              O = this._slotTimelines.indexOf(m);
              if (O >= 0) {
                this._slotTimelines.splice(O, 1);
                m.returnToPool();
                continue;
              }
              O = this._slotBlendTimelines.indexOf(m);
              if (O >= 0) {
                this._slotBlendTimelines.splice(O, 1);
                m.returnToPool();
                continue;
              }
              O = this._constraintTimelines.indexOf(m);
              if (O >= 0) {
                this._constraintTimelines.splice(O, 1);
                m.returnToPool();
                continue;
              }
            }
            this._poseTimelines.length = 0;
          }
        }
        if (this._actionTimeline.playState > 0) {
          if (this.autoFadeOutTime >= 0) {
            this.fadeOut(this.autoFadeOutTime);
          }
        }
      }
    };
    r.prototype.play = function () {
      this._playheadState = 3;
    };
    r.prototype.stop = function () {
      this._playheadState &= 1;
    };
    r.prototype.fadeOut = function (t, e) {
      if (e === void 0) {
        e = true;
      }
      if (t < 0) {
        t = 0;
      }
      if (e) {
        this._playheadState &= 2;
      }
      if (this._fadeState > 0) {
        if (t > this.fadeTotalTime - this._fadeTime) {
          return;
        }
      } else {
        this._fadeState = 1;
        this._subFadeState = -1;
        if (t <= 0 || this._fadeProgress <= 0) {
          this._fadeProgress = 1e-6;
        }
        for (var a = 0, r = this._boneTimelines; a < r.length; a++) {
          var i = r[a];
          i.fadeOut();
        }
        for (var n = 0, s = this._boneBlendTimelines; n < s.length; n++) {
          var i = s[n];
          i.fadeOut();
        }
        for (var o = 0, l = this._slotTimelines; o < l.length; o++) {
          var i = l[o];
          i.fadeOut();
        }
        for (var h = 0, u = this._slotBlendTimelines; h < u.length; h++) {
          var i = u[h];
          i.fadeOut();
        }
        for (var f = 0, _ = this._constraintTimelines; f < _.length; f++) {
          var i = _[f];
          i.fadeOut();
        }
        for (var m = 0, p = this._animationTimelines; m < p.length; m++) {
          var i = p[m];
          i.fadeOut();
          var c = i.target;
          c.fadeOut(999999, true);
        }
      }
      this.displayControl = false;
      this.fadeTotalTime = this._fadeProgress > 1e-6 ? t / this._fadeProgress : 0;
      this._fadeTime = this.fadeTotalTime * (1 - this._fadeProgress);
    };
    r.prototype.containsBoneMask = function (t) {
      return this._boneMask.length === 0 || this._boneMask.indexOf(t) >= 0;
    };
    r.prototype.addBoneMask = function (t, e) {
      if (e === void 0) {
        e = true;
      }
      var a = this._armature.getBone(t);
      if (a === null) {
        return;
      }
      if (this._boneMask.indexOf(t) < 0) {
        this._boneMask.push(t);
      }
      if (e) {
        for (var r = 0, i = this._armature.getBones(); r < i.length; r++) {
          var n = i[r];
          if (this._boneMask.indexOf(n.name) < 0 && a.contains(n)) {
            this._boneMask.push(n.name);
          }
        }
      }
      this._timelineDirty = 1;
    };
    r.prototype.removeBoneMask = function (t, e) {
      if (e === void 0) {
        e = true;
      }
      var a = this._boneMask.indexOf(t);
      if (a >= 0) {
        this._boneMask.splice(a, 1);
      }
      if (e) {
        var r = this._armature.getBone(t);
        if (r !== null) {
          var i = this._armature.getBones();
          if (this._boneMask.length > 0) {
            for (var n = 0, s = i; n < s.length; n++) {
              var o = s[n];
              var l = this._boneMask.indexOf(o.name);
              if (l >= 0 && r.contains(o)) {
                this._boneMask.splice(l, 1);
              }
            }
          } else {
            for (var h = 0, u = i; h < u.length; h++) {
              var o = u[h];
              if (o === r) {
                continue;
              }
              if (!r.contains(o)) {
                this._boneMask.push(o.name);
              }
            }
          }
        }
      }
      this._timelineDirty = 1;
    };
    r.prototype.removeAllBoneMask = function () {
      this._boneMask.length = 0;
      this._timelineDirty = 1;
    };
    r.prototype.addState = function (e, a) {
      if (a === void 0) {
        a = null;
      }
      if (a !== null) {
        for (var r = 0, i = a; r < i.length; r++) {
          var n = i[r];
          switch (n.type) {
            case 40:
              {
                var s = t.BaseObject.borrowObject(t.AnimationProgressTimelineState);
                s.target = e;
                s.init(this._armature, this, n);
                this._animationTimelines.push(s);
                if (this.blendType !== 0) {
                  var o = n;
                  e.positionX = o.x;
                  e.positionY = o.y;
                  e.weight = 0;
                }
                e._parent = this;
                this.resetToPose = false;
                break;
              }
            case 41:
              {
                var s = t.BaseObject.borrowObject(t.AnimationWeightTimelineState);
                s.target = e;
                s.init(this._armature, this, n);
                this._animationTimelines.push(s);
                break;
              }
            case 42:
              {
                var s = t.BaseObject.borrowObject(t.AnimationParametersTimelineState);
                s.target = e;
                s.init(this._armature, this, n);
                this._animationTimelines.push(s);
                break;
              }
            default:
              break;
          }
        }
      }
      if (e._parent === null) {
        e._parent = this;
      }
    };
    r.prototype.activeTimeline = function () {
      for (var t = 0, e = this._slotTimelines; t < e.length; t++) {
        var a = e[t];
        a.dirty = true;
        a.currentTime = -1;
      }
    };
    Object.defineProperty(r.prototype, "isFadeIn", {
      get: function get() {
        return this._fadeState < 0;
      },
      enumerable: true,
      configurable: true
    });
    Object.defineProperty(r.prototype, "isFadeOut", {
      get: function get() {
        return this._fadeState > 0;
      },
      enumerable: true,
      configurable: true
    });
    Object.defineProperty(r.prototype, "isFadeComplete", {
      get: function get() {
        return this._fadeState === 0;
      },
      enumerable: true,
      configurable: true
    });
    Object.defineProperty(r.prototype, "isPlaying", {
      get: function get() {
        return (this._playheadState & 2) !== 0 && this._actionTimeline.playState <= 0;
      },
      enumerable: true,
      configurable: true
    });
    Object.defineProperty(r.prototype, "isCompleted", {
      get: function get() {
        return this._actionTimeline.playState > 0;
      },
      enumerable: true,
      configurable: true
    });
    Object.defineProperty(r.prototype, "currentPlayTimes", {
      get: function get() {
        return this._actionTimeline.currentPlayTimes;
      },
      enumerable: true,
      configurable: true
    });
    Object.defineProperty(r.prototype, "totalTime", {
      get: function get() {
        return this._duration;
      },
      enumerable: true,
      configurable: true
    });
    Object.defineProperty(r.prototype, "currentTime", {
      get: function get() {
        return this._actionTimeline.currentTime;
      },
      set: function set(t) {
        var e = this._actionTimeline.currentPlayTimes - (this._actionTimeline.playState > 0 ? 1 : 0);
        if (t < 0 || this._duration < t) {
          t = t % this._duration + e * this._duration;
          if (t < 0) {
            t += this._duration;
          }
        }
        if (this.playTimes > 0 && e === this.playTimes - 1 && t === this._duration && this._parent === null) {
          t = this._duration - 1e-6;
        }
        if (this._time === t) {
          return;
        }
        this._time = t;
        this._actionTimeline.setCurrentTime(this._time);
        if (this._zOrderTimeline !== null) {
          this._zOrderTimeline.playState = -1;
        }
        for (var a = 0, r = this._boneTimelines; a < r.length; a++) {
          var i = r[a];
          i.playState = -1;
        }
        for (var n = 0, s = this._slotTimelines; n < s.length; n++) {
          var i = s[n];
          i.playState = -1;
        }
      },
      enumerable: true,
      configurable: true
    });
    Object.defineProperty(r.prototype, "weight", {
      get: function get() {
        return this._weight;
      },
      set: function set(t) {
        if (this._weight === t) {
          return;
        }
        this._weight = t;
        for (var e = 0, a = this._boneTimelines; e < a.length; e++) {
          var r = a[e];
          r.dirty = true;
        }
        for (var i = 0, n = this._boneBlendTimelines; i < n.length; i++) {
          var r = n[i];
          r.dirty = true;
        }
        for (var s = 0, o = this._slotBlendTimelines; s < o.length; s++) {
          var r = o[s];
          r.dirty = true;
        }
      },
      enumerable: true,
      configurable: true
    });
    Object.defineProperty(r.prototype, "animationData", {
      get: function get() {
        return this._animationData;
      },
      enumerable: true,
      configurable: true
    });
    return r;
  }(t.BaseObject);
  t.AnimationState = e;
  var a = function (t) {
    __extends(e, t);
    function e() {
      return t !== null && t.apply(this, arguments) || this;
    }
    e.toString = function () {
      return "[class dragonBones.BlendState]";
    };
    e.prototype._onClear = function () {
      this.reset();
      this.target = null;
    };
    e.prototype.update = function (t) {
      var e = t.layer;
      var a = t._weightResult;
      if (this.dirty > 0) {
        if (this.leftWeight > 0) {
          if (this.layer !== e) {
            if (this.layerWeight >= this.leftWeight) {
              this.dirty++;
              this.layer = e;
              this.leftWeight = 0;
              this.blendWeight = 0;
              return false;
            }
            this.layer = e;
            this.leftWeight -= this.layerWeight;
            this.layerWeight = 0;
          }
          a *= this.leftWeight;
          this.dirty++;
          this.blendWeight = a;
          this.layerWeight += this.blendWeight;
          return true;
        }
        return false;
      }
      this.dirty++;
      this.layer = e;
      this.leftWeight = 1;
      this.blendWeight = a;
      this.layerWeight = a;
      return true;
    };
    e.prototype.reset = function () {
      this.dirty = 0;
      this.layer = 0;
      this.leftWeight = 0;
      this.layerWeight = 0;
      this.blendWeight = 0;
    };
    e.BONE_TRANSFORM = "boneTransform";
    e.BONE_ALPHA = "boneAlpha";
    e.SURFACE = "surface";
    e.SLOT_DEFORM = "slotDeform";
    e.SLOT_ALPHA = "slotAlpha";
    e.SLOT_Z_INDEX = "slotZIndex";
    return e;
  }(t.BaseObject);
  t.BlendState = a;
})(dragonBones || (dragonBones = {}));
var dragonBones;
(function (t) {
  var e = function (t) {
    __extends(e, t);
    function e() {
      return t !== null && t.apply(this, arguments) || this;
    }
    e.prototype._onClear = function () {
      this.dirty = false;
      this.playState = -1;
      this.currentPlayTimes = -1;
      this.currentTime = -1;
      this.target = null;
      this._isTween = false;
      this._valueOffset = 0;
      this._frameValueOffset = 0;
      this._frameOffset = 0;
      this._frameRate = 0;
      this._frameCount = 0;
      this._frameIndex = -1;
      this._frameRateR = 0;
      this._position = 0;
      this._duration = 0;
      this._timeScale = 1;
      this._timeOffset = 0;
      this._animationData = null;
      this._timelineData = null;
      this._armature = null;
      this._animationState = null;
      this._actionTimeline = null;
      this._frameArray = null;
      this._valueArray = null;
      this._timelineArray = null;
      this._frameIndices = null;
    };
    e.prototype._setCurrentTime = function (t) {
      var e = this.playState;
      var a = this.currentPlayTimes;
      var r = this.currentTime;
      if (this._actionTimeline !== null && this._frameCount <= 1) {
        this.playState = this._actionTimeline.playState >= 0 ? 1 : -1;
        this.currentPlayTimes = 1;
        this.currentTime = this._actionTimeline.currentTime;
      } else if (this._actionTimeline === null || this._timeScale !== 1 || this._timeOffset !== 0) {
        var i = this._animationState.playTimes;
        var n = i * this._duration;
        t *= this._timeScale;
        if (this._timeOffset !== 0) {
          t += this._timeOffset * this._animationData.duration;
        }
        if (i > 0 && (t >= n || t <= -n)) {
          if (this.playState <= 0 && this._animationState._playheadState === 3) {
            this.playState = 1;
          }
          this.currentPlayTimes = i;
          if (t < 0) {
            this.currentTime = 0;
          } else {
            this.currentTime = this._duration + 1e-6;
          }
        } else {
          if (this.playState !== 0 && this._animationState._playheadState === 3) {
            this.playState = 0;
          }
          if (t < 0) {
            t = -t;
            this.currentPlayTimes = Math.floor(t / this._duration);
            this.currentTime = this._duration - t % this._duration;
          } else {
            this.currentPlayTimes = Math.floor(t / this._duration);
            this.currentTime = t % this._duration;
          }
        }
        this.currentTime += this._position;
      } else {
        this.playState = this._actionTimeline.playState;
        this.currentPlayTimes = this._actionTimeline.currentPlayTimes;
        this.currentTime = this._actionTimeline.currentTime;
      }
      if (this.currentPlayTimes === a && this.currentTime === r) {
        return false;
      }
      if (e < 0 && this.playState !== e || this.playState <= 0 && this.currentPlayTimes !== a) {
        this._frameIndex = -1;
      }
      return true;
    };
    e.prototype.init = function (t, e, a) {
      this._armature = t;
      this._animationState = e;
      this._timelineData = a;
      this._actionTimeline = this._animationState._actionTimeline;
      if (this === this._actionTimeline) {
        this._actionTimeline = null;
      }
      this._animationData = this._animationState.animationData;
      this._frameRate = this._animationData.parent.frameRate;
      this._frameRateR = 1 / this._frameRate;
      this._position = this._animationState._position;
      this._duration = this._animationState._duration;
      if (this._timelineData !== null) {
        var r = this._animationData.parent.parent;
        this._frameArray = r.frameArray;
        this._timelineArray = r.timelineArray;
        this._frameIndices = r.frameIndices;
        this._frameCount = this._timelineArray[this._timelineData.offset + 2];
        this._frameValueOffset = this._timelineArray[this._timelineData.offset + 4];
        this._timeScale = 100 / this._timelineArray[this._timelineData.offset + 0];
        this._timeOffset = this._timelineArray[this._timelineData.offset + 1] * 0.01;
      }
    };
    e.prototype.fadeOut = function () {
      this.dirty = false;
    };
    e.prototype.update = function (t) {
      if (this._setCurrentTime(t)) {
        if (this._frameCount > 1) {
          var e = Math.floor(this.currentTime * this._frameRate);
          var a = this._frameIndices[this._timelineData.frameIndicesOffset + e];
          if (this._frameIndex !== a) {
            this._frameIndex = a;
            this._frameOffset = this._animationData.frameOffset + this._timelineArray[this._timelineData.offset + 5 + this._frameIndex];
            this._onArriveAtFrame();
          }
        } else if (this._frameIndex < 0) {
          this._frameIndex = 0;
          if (this._timelineData !== null) {
            this._frameOffset = this._animationData.frameOffset + this._timelineArray[this._timelineData.offset + 5];
          }
          this._onArriveAtFrame();
        }
        if (this._isTween || this.dirty) {
          this._onUpdateFrame();
        }
      }
    };
    e.prototype.blend = function (t) {};
    return e;
  }(t.BaseObject);
  t.TimelineState = e;
  var a = function (t) {
    __extends(e, t);
    function e() {
      return t !== null && t.apply(this, arguments) || this;
    }
    e._getEasingValue = function (t, e, a) {
      var r = e;
      switch (t) {
        case 3:
          r = Math.pow(e, 2);
          break;
        case 4:
          r = 1 - Math.pow(1 - e, 2);
          break;
        case 5:
          r = 0.5 * (1 - Math.cos(e * Math.PI));
          break;
      }
      return (r - e) * a + e;
    };
    e._getEasingCurveValue = function (t, e, a, r) {
      if (t <= 0) {
        return 0;
      } else if (t >= 1) {
        return 1;
      }
      var i = a > 0;
      var n = a + 1;
      var s = Math.floor(t * n);
      var o = 0;
      var l = 0;
      if (i) {
        o = s === 0 ? 0 : e[r + s - 1];
        l = s === n - 1 ? 1e4 : e[r + s];
      } else {
        o = e[r + s - 1];
        l = e[r + s];
      }
      return (o + (l - o) * (t * n - s)) * 1e-4;
    };
    e.prototype._onClear = function () {
      t.prototype._onClear.call(this);
      this._tweenType = 0;
      this._curveCount = 0;
      this._framePosition = 0;
      this._frameDurationR = 0;
      this._tweenEasing = 0;
      this._tweenProgress = 0;
      this._valueScale = 1;
    };
    e.prototype._onArriveAtFrame = function () {
      if (this._frameCount > 1 && (this._frameIndex !== this._frameCount - 1 || this._animationState.playTimes === 0 || this._animationState.currentPlayTimes < this._animationState.playTimes - 1)) {
        this._tweenType = this._frameArray[this._frameOffset + 1];
        this._isTween = this._tweenType !== 0;
        if (this._isTween) {
          if (this._tweenType === 2) {
            this._curveCount = this._frameArray[this._frameOffset + 2];
          } else if (this._tweenType !== 0 && this._tweenType !== 1) {
            this._tweenEasing = this._frameArray[this._frameOffset + 2] * 0.01;
          }
        } else {
          this.dirty = true;
        }
        this._framePosition = this._frameArray[this._frameOffset] * this._frameRateR;
        if (this._frameIndex === this._frameCount - 1) {
          this._frameDurationR = 1 / (this._animationData.duration - this._framePosition);
        } else {
          var t = this._animationData.frameOffset + this._timelineArray[this._timelineData.offset + 5 + this._frameIndex + 1];
          var e = this._frameArray[t] * this._frameRateR - this._framePosition;
          if (e > 0) {
            this._frameDurationR = 1 / e;
          } else {
            this._frameDurationR = 0;
          }
        }
      } else {
        this.dirty = true;
        this._isTween = false;
      }
    };
    e.prototype._onUpdateFrame = function () {
      if (this._isTween) {
        this.dirty = true;
        this._tweenProgress = (this.currentTime - this._framePosition) * this._frameDurationR;
        if (this._tweenType === 2) {
          this._tweenProgress = e._getEasingCurveValue(this._tweenProgress, this._frameArray, this._curveCount, this._frameOffset + 3);
        } else if (this._tweenType !== 1) {
          this._tweenProgress = e._getEasingValue(this._tweenType, this._tweenProgress, this._tweenEasing);
        }
      }
    };
    return e;
  }(e);
  t.TweenTimelineState = a;
  var r = function (t) {
    __extends(e, t);
    function e() {
      return t !== null && t.apply(this, arguments) || this;
    }
    e.prototype._onClear = function () {
      t.prototype._onClear.call(this);
      this._current = 0;
      this._difference = 0;
      this._result = 0;
    };
    e.prototype._onArriveAtFrame = function () {
      t.prototype._onArriveAtFrame.call(this);
      if (this._timelineData !== null) {
        var e = this._valueScale;
        var a = this._valueArray;
        var r = this._valueOffset + this._frameValueOffset + this._frameIndex;
        if (this._isTween) {
          var i = this._frameIndex === this._frameCount - 1 ? this._valueOffset + this._frameValueOffset : r + 1;
          if (e === 1) {
            this._current = a[r];
            this._difference = a[i] - this._current;
          } else {
            this._current = a[r] * e;
            this._difference = a[i] * e - this._current;
          }
        } else {
          this._result = a[r] * e;
        }
      } else {
        this._result = 0;
      }
    };
    e.prototype._onUpdateFrame = function () {
      t.prototype._onUpdateFrame.call(this);
      if (this._isTween) {
        this._result = this._current + this._difference * this._tweenProgress;
      }
    };
    return e;
  }(a);
  t.SingleValueTimelineState = r;
  var i = function (t) {
    __extends(e, t);
    function e() {
      return t !== null && t.apply(this, arguments) || this;
    }
    e.prototype._onClear = function () {
      t.prototype._onClear.call(this);
      this._currentA = 0;
      this._currentB = 0;
      this._differenceA = 0;
      this._differenceB = 0;
      this._resultA = 0;
      this._resultB = 0;
    };
    e.prototype._onArriveAtFrame = function () {
      t.prototype._onArriveAtFrame.call(this);
      if (this._timelineData !== null) {
        var e = this._valueScale;
        var a = this._valueArray;
        var r = this._valueOffset + this._frameValueOffset + this._frameIndex * 2;
        if (this._isTween) {
          var i = this._frameIndex === this._frameCount - 1 ? this._valueOffset + this._frameValueOffset : r + 2;
          if (e === 1) {
            this._currentA = a[r];
            this._currentB = a[r + 1];
            this._differenceA = a[i] - this._currentA;
            this._differenceB = a[i + 1] - this._currentB;
          } else {
            this._currentA = a[r] * e;
            this._currentB = a[r + 1] * e;
            this._differenceA = a[i] * e - this._currentA;
            this._differenceB = a[i + 1] * e - this._currentB;
          }
        } else {
          this._resultA = a[r] * e;
          this._resultB = a[r + 1] * e;
        }
      } else {
        this._resultA = 0;
        this._resultB = 0;
      }
    };
    e.prototype._onUpdateFrame = function () {
      t.prototype._onUpdateFrame.call(this);
      if (this._isTween) {
        this._resultA = this._currentA + this._differenceA * this._tweenProgress;
        this._resultB = this._currentB + this._differenceB * this._tweenProgress;
      }
    };
    return e;
  }(a);
  t.DoubleValueTimelineState = i;
  var n = function (t) {
    __extends(e, t);
    function e() {
      var e = t !== null && t.apply(this, arguments) || this;
      e._rd = [];
      return e;
    }
    e.prototype._onClear = function () {
      t.prototype._onClear.call(this);
      this._valueCount = 0;
      this._rd.length = 0;
    };
    e.prototype._onArriveAtFrame = function () {
      t.prototype._onArriveAtFrame.call(this);
      var e = this._valueCount;
      var a = this._rd;
      if (this._timelineData !== null) {
        var r = this._valueScale;
        var i = this._valueArray;
        var n = this._valueOffset + this._frameValueOffset + this._frameIndex * e;
        if (this._isTween) {
          var s = this._frameIndex === this._frameCount - 1 ? this._valueOffset + this._frameValueOffset : n + e;
          if (r === 1) {
            for (var o = 0; o < e; ++o) {
              a[e + o] = i[s + o] - i[n + o];
            }
          } else {
            for (var o = 0; o < e; ++o) {
              a[e + o] = (i[s + o] - i[n + o]) * r;
            }
          }
        } else if (r === 1) {
          for (var o = 0; o < e; ++o) {
            a[o] = i[n + o];
          }
        } else {
          for (var o = 0; o < e; ++o) {
            a[o] = i[n + o] * r;
          }
        }
      } else {
        for (var o = 0; o < e; ++o) {
          a[o] = 0;
        }
      }
    };
    e.prototype._onUpdateFrame = function () {
      t.prototype._onUpdateFrame.call(this);
      if (this._isTween) {
        var e = this._valueCount;
        var a = this._valueScale;
        var r = this._tweenProgress;
        var i = this._valueArray;
        var n = this._rd;
        var s = this._valueOffset + this._frameValueOffset + this._frameIndex * e;
        if (a === 1) {
          for (var o = 0; o < e; ++o) {
            n[o] = i[s + o] + n[e + o] * r;
          }
        } else {
          for (var o = 0; o < e; ++o) {
            n[o] = i[s + o] * a + n[e + o] * r;
          }
        }
      }
    };
    return e;
  }(a);
  t.MutilpleValueTimelineState = n;
})(dragonBones || (dragonBones = {}));
var dragonBones;
(function (t) {
  var e = function (e) {
    __extends(a, e);
    function a() {
      return e !== null && e.apply(this, arguments) || this;
    }
    a.toString = function () {
      return "[class dragonBones.ActionTimelineState]";
    };
    a.prototype._onCrossFrame = function (e) {
      var a = this._armature.eventDispatcher;
      if (this._animationState.actionEnabled) {
        var r = this._animationData.frameOffset + this._timelineArray[this._timelineData.offset + 5 + e];
        var i = this._frameArray[r + 1];
        var n = this._animationData.parent.actions;
        for (var s = 0; s < i; ++s) {
          var o = this._frameArray[r + 2 + s];
          var l = n[o];
          if (l.type === 0) {
            var h = t.BaseObject.borrowObject(t.EventObject);
            h.time = this._frameArray[r] / this._frameRate;
            h.animationState = this._animationState;
            t.EventObject.actionDataToInstance(l, h, this._armature);
            this._armature._bufferAction(h, true);
          } else {
            var u = l.type === 10 ? t.EventObject.FRAME_EVENT : t.EventObject.SOUND_EVENT;
            if (l.type === 11 || a.hasDBEventListener(u)) {
              var h = t.BaseObject.borrowObject(t.EventObject);
              h.time = this._frameArray[r] / this._frameRate;
              h.animationState = this._animationState;
              t.EventObject.actionDataToInstance(l, h, this._armature);
              this._armature._dragonBones.bufferEvent(h);
            }
          }
        }
      }
    };
    a.prototype._onArriveAtFrame = function () {};
    a.prototype._onUpdateFrame = function () {};
    a.prototype.update = function (e) {
      var a = this.playState;
      var r = this.currentPlayTimes;
      var i = this.currentTime;
      if (this._setCurrentTime(e)) {
        var n = this._animationState._parent === null && this._animationState.actionEnabled;
        var s = this._armature.eventDispatcher;
        if (a < 0) {
          if (this.playState !== a) {
            if (this._animationState.displayControl && this._animationState.resetToPose) {
              this._armature._sortZOrder(null, 0);
            }
            r = this.currentPlayTimes;
            if (n && s.hasDBEventListener(t.EventObject.START)) {
              var o = t.BaseObject.borrowObject(t.EventObject);
              o.type = t.EventObject.START;
              o.armature = this._armature;
              o.animationState = this._animationState;
              this._armature._dragonBones.bufferEvent(o);
            }
          } else {
            return;
          }
        }
        var l = this._animationState.timeScale < 0;
        var h = null;
        var u = null;
        if (n && this.currentPlayTimes !== r) {
          if (s.hasDBEventListener(t.EventObject.LOOP_COMPLETE)) {
            h = t.BaseObject.borrowObject(t.EventObject);
            h.type = t.EventObject.LOOP_COMPLETE;
            h.armature = this._armature;
            h.animationState = this._animationState;
          }
          if (this.playState > 0) {
            if (s.hasDBEventListener(t.EventObject.COMPLETE)) {
              u = t.BaseObject.borrowObject(t.EventObject);
              u.type = t.EventObject.COMPLETE;
              u.armature = this._armature;
              u.animationState = this._animationState;
            }
          }
        }
        if (this._frameCount > 1) {
          var f = this._timelineData;
          var _ = Math.floor(this.currentTime * this._frameRate);
          var m = this._frameIndices[f.frameIndicesOffset + _];
          if (this._frameIndex !== m) {
            var p = this._frameIndex;
            this._frameIndex = m;
            if (this._timelineArray !== null) {
              this._frameOffset = this._animationData.frameOffset + this._timelineArray[f.offset + 5 + this._frameIndex];
              if (l) {
                if (p < 0) {
                  var c = Math.floor(i * this._frameRate);
                  p = this._frameIndices[f.frameIndicesOffset + c];
                  if (this.currentPlayTimes === r) {
                    if (p === m) {
                      p = -1;
                    }
                  }
                }
                while (p >= 0) {
                  var d = this._animationData.frameOffset + this._timelineArray[f.offset + 5 + p];
                  var y = this._frameArray[d] / this._frameRate;
                  if (this._position <= y && y <= this._position + this._duration) {
                    this._onCrossFrame(p);
                  }
                  if (h !== null && p === 0) {
                    this._armature._dragonBones.bufferEvent(h);
                    h = null;
                  }
                  if (p > 0) {
                    p--;
                  } else {
                    p = this._frameCount - 1;
                  }
                  if (p === m) {
                    break;
                  }
                }
              } else {
                if (p < 0) {
                  var c = Math.floor(i * this._frameRate);
                  p = this._frameIndices[f.frameIndicesOffset + c];
                  var d = this._animationData.frameOffset + this._timelineArray[f.offset + 5 + p];
                  var y = this._frameArray[d] / this._frameRate;
                  if (this.currentPlayTimes === r) {
                    if (i <= y) {
                      if (p > 0) {
                        p--;
                      } else {
                        p = this._frameCount - 1;
                      }
                    } else if (p === m) {
                      p = -1;
                    }
                  }
                }
                while (p >= 0) {
                  if (p < this._frameCount - 1) {
                    p++;
                  } else {
                    p = 0;
                  }
                  var d = this._animationData.frameOffset + this._timelineArray[f.offset + 5 + p];
                  var y = this._frameArray[d] / this._frameRate;
                  if (this._position <= y && y <= this._position + this._duration) {
                    this._onCrossFrame(p);
                  }
                  if (h !== null && p === 0) {
                    this._armature._dragonBones.bufferEvent(h);
                    h = null;
                  }
                  if (p === m) {
                    break;
                  }
                }
              }
            }
          }
        } else if (this._frameIndex < 0) {
          this._frameIndex = 0;
          if (this._timelineData !== null) {
            this._frameOffset = this._animationData.frameOffset + this._timelineArray[this._timelineData.offset + 5];
            var y = this._frameArray[this._frameOffset] / this._frameRate;
            if (this.currentPlayTimes === r) {
              if (i <= y) {
                this._onCrossFrame(this._frameIndex);
              }
            } else if (this._position <= y) {
              if (!l && h !== null) {
                this._armature._dragonBones.bufferEvent(h);
                h = null;
              }
              this._onCrossFrame(this._frameIndex);
            }
          }
        }
        if (h !== null) {
          this._armature._dragonBones.bufferEvent(h);
        }
        if (u !== null) {
          this._armature._dragonBones.bufferEvent(u);
        }
      }
    };
    a.prototype.setCurrentTime = function (t) {
      this._setCurrentTime(t);
      this._frameIndex = -1;
    };
    return a;
  }(t.TimelineState);
  t.ActionTimelineState = e;
  var a = function (t) {
    __extends(e, t);
    function e() {
      return t !== null && t.apply(this, arguments) || this;
    }
    e.toString = function () {
      return "[class dragonBones.ZOrderTimelineState]";
    };
    e.prototype._onArriveAtFrame = function () {
      if (this.playState >= 0) {
        var t = this._frameArray[this._frameOffset + 1];
        if (t > 0) {
          this._armature._sortZOrder(this._frameArray, this._frameOffset + 2);
        } else {
          this._armature._sortZOrder(null, 0);
        }
      }
    };
    e.prototype._onUpdateFrame = function () {};
    return e;
  }(t.TimelineState);
  t.ZOrderTimelineState = a;
  var r = function (e) {
    __extends(a, e);
    function a() {
      return e !== null && e.apply(this, arguments) || this;
    }
    a.toString = function () {
      return "[class dragonBones.BoneAllTimelineState]";
    };
    a.prototype._onArriveAtFrame = function () {
      e.prototype._onArriveAtFrame.call(this);
      if (this._isTween && this._frameIndex === this._frameCount - 1) {
        this._rd[2] = t.Transform.normalizeRadian(this._rd[2]);
        this._rd[3] = t.Transform.normalizeRadian(this._rd[3]);
      }
      if (this._timelineData === null) {
        this._rd[4] = 1;
        this._rd[5] = 1;
      }
    };
    a.prototype.init = function (t, a, r) {
      e.prototype.init.call(this, t, a, r);
      this._valueOffset = this._animationData.frameFloatOffset;
      this._valueCount = 6;
      this._valueArray = this._animationData.parent.parent.frameFloatArray;
    };
    a.prototype.fadeOut = function () {
      this.dirty = false;
      this._rd[2] = t.Transform.normalizeRadian(this._rd[2]);
      this._rd[3] = t.Transform.normalizeRadian(this._rd[3]);
    };
    a.prototype.blend = function (t) {
      var e = this._armature.armatureData.scale;
      var a = this._rd;
      var r = this.target;
      var i = r.target;
      var n = r.blendWeight;
      var s = i.animationPose;
      if (r.dirty > 1) {
        s.x += a[0] * n * e;
        s.y += a[1] * n * e;
        s.rotation += a[2] * n;
        s.skew += a[3] * n;
        s.scaleX += (a[4] - 1) * n;
        s.scaleY += (a[5] - 1) * n;
      } else {
        s.x = a[0] * n * e;
        s.y = a[1] * n * e;
        s.rotation = a[2] * n;
        s.skew = a[3] * n;
        s.scaleX = (a[4] - 1) * n + 1;
        s.scaleY = (a[5] - 1) * n + 1;
      }
      if (t || this.dirty) {
        this.dirty = false;
        i._transformDirty = true;
      }
    };
    return a;
  }(t.MutilpleValueTimelineState);
  t.BoneAllTimelineState = r;
  var i = function (t) {
    __extends(e, t);
    function e() {
      return t !== null && t.apply(this, arguments) || this;
    }
    e.toString = function () {
      return "[class dragonBones.BoneTranslateTimelineState]";
    };
    e.prototype.init = function (e, a, r) {
      t.prototype.init.call(this, e, a, r);
      this._valueOffset = this._animationData.frameFloatOffset;
      this._valueScale = this._armature.armatureData.scale;
      this._valueArray = this._animationData.parent.parent.frameFloatArray;
    };
    e.prototype.blend = function (t) {
      var e = this.target;
      var a = e.target;
      var r = e.blendWeight;
      var i = a.animationPose;
      if (e.dirty > 1) {
        i.x += this._resultA * r;
        i.y += this._resultB * r;
      } else if (r !== 1) {
        i.x = this._resultA * r;
        i.y = this._resultB * r;
      } else {
        i.x = this._resultA;
        i.y = this._resultB;
      }
      if (t || this.dirty) {
        this.dirty = false;
        a._transformDirty = true;
      }
    };
    return e;
  }(t.DoubleValueTimelineState);
  t.BoneTranslateTimelineState = i;
  var n = function (e) {
    __extends(a, e);
    function a() {
      return e !== null && e.apply(this, arguments) || this;
    }
    a.toString = function () {
      return "[class dragonBones.BoneRotateTimelineState]";
    };
    a.prototype._onArriveAtFrame = function () {
      e.prototype._onArriveAtFrame.call(this);
      if (this._isTween && this._frameIndex === this._frameCount - 1) {
        this._differenceA = t.Transform.normalizeRadian(this._differenceA);
        this._differenceB = t.Transform.normalizeRadian(this._differenceB);
      }
    };
    a.prototype.init = function (t, a, r) {
      e.prototype.init.call(this, t, a, r);
      this._valueOffset = this._animationData.frameFloatOffset;
      this._valueArray = this._animationData.parent.parent.frameFloatArray;
    };
    a.prototype.fadeOut = function () {
      this.dirty = false;
      this._resultA = t.Transform.normalizeRadian(this._resultA);
      this._resultB = t.Transform.normalizeRadian(this._resultB);
    };
    a.prototype.blend = function (t) {
      var e = this.target;
      var a = e.target;
      var r = e.blendWeight;
      var i = a.animationPose;
      if (e.dirty > 1) {
        i.rotation += this._resultA * r;
        i.skew += this._resultB * r;
      } else if (r !== 1) {
        i.rotation = this._resultA * r;
        i.skew = this._resultB * r;
      } else {
        i.rotation = this._resultA;
        i.skew = this._resultB;
      }
      if (t || this.dirty) {
        this.dirty = false;
        a._transformDirty = true;
      }
    };
    return a;
  }(t.DoubleValueTimelineState);
  t.BoneRotateTimelineState = n;
  var s = function (t) {
    __extends(e, t);
    function e() {
      return t !== null && t.apply(this, arguments) || this;
    }
    e.toString = function () {
      return "[class dragonBones.BoneScaleTimelineState]";
    };
    e.prototype._onArriveAtFrame = function () {
      t.prototype._onArriveAtFrame.call(this);
      if (this._timelineData === null) {
        this._resultA = 1;
        this._resultB = 1;
      }
    };
    e.prototype.init = function (e, a, r) {
      t.prototype.init.call(this, e, a, r);
      this._valueOffset = this._animationData.frameFloatOffset;
      this._valueArray = this._animationData.parent.parent.frameFloatArray;
    };
    e.prototype.blend = function (t) {
      var e = this.target;
      var a = e.target;
      var r = e.blendWeight;
      var i = a.animationPose;
      if (e.dirty > 1) {
        i.scaleX += (this._resultA - 1) * r;
        i.scaleY += (this._resultB - 1) * r;
      } else if (r !== 1) {
        i.scaleX = (this._resultA - 1) * r + 1;
        i.scaleY = (this._resultB - 1) * r + 1;
      } else {
        i.scaleX = this._resultA;
        i.scaleY = this._resultB;
      }
      if (t || this.dirty) {
        this.dirty = false;
        a._transformDirty = true;
      }
    };
    return e;
  }(t.DoubleValueTimelineState);
  t.BoneScaleTimelineState = s;
  var o = function (t) {
    __extends(e, t);
    function e() {
      return t !== null && t.apply(this, arguments) || this;
    }
    e.toString = function () {
      return "[class dragonBones.SurfaceTimelineState]";
    };
    e.prototype._onClear = function () {
      t.prototype._onClear.call(this);
      this._deformCount = 0;
      this._deformOffset = 0;
      this._sameValueOffset = 0;
    };
    e.prototype.init = function (e, a, r) {
      t.prototype.init.call(this, e, a, r);
      if (this._timelineData !== null) {
        var i = this._animationData.parent.parent;
        var n = i.frameIntArray;
        var s = this._animationData.frameIntOffset + this._timelineArray[this._timelineData.offset + 3];
        this._valueOffset = this._animationData.frameFloatOffset;
        this._valueCount = n[s + 2];
        this._deformCount = n[s + 1];
        this._deformOffset = n[s + 3];
        this._sameValueOffset = n[s + 4] + this._animationData.frameFloatOffset;
        this._valueScale = this._armature.armatureData.scale;
        this._valueArray = i.frameFloatArray;
        this._rd.length = this._valueCount * 2;
      } else {
        this._deformCount = this.target.target._deformVertices.length;
      }
    };
    e.prototype.blend = function (t) {
      var e = this.target;
      var a = e.target;
      var r = e.blendWeight;
      var i = a._deformVertices;
      var n = this._valueArray;
      if (n !== null) {
        var s = this._valueCount;
        var o = this._deformOffset;
        var l = this._sameValueOffset;
        var h = this._rd;
        for (var u = 0; u < this._deformCount; ++u) {
          var f = 0;
          if (u < o) {
            f = n[l + u];
          } else if (u < o + s) {
            f = h[u - o];
          } else {
            f = n[l + u - s];
          }
          if (e.dirty > 1) {
            i[u] += f * r;
          } else {
            i[u] = f * r;
          }
        }
      } else if (e.dirty === 1) {
        for (var u = 0; u < this._deformCount; ++u) {
          i[u] = 0;
        }
      }
      if (t || this.dirty) {
        this.dirty = false;
        a._transformDirty = true;
      }
    };
    return e;
  }(t.MutilpleValueTimelineState);
  t.SurfaceTimelineState = o;
  var l = function (t) {
    __extends(e, t);
    function e() {
      return t !== null && t.apply(this, arguments) || this;
    }
    e.toString = function () {
      return "[class dragonBones.AlphaTimelineState]";
    };
    e.prototype._onArriveAtFrame = function () {
      t.prototype._onArriveAtFrame.call(this);
      if (this._timelineData === null) {
        this._result = 1;
      }
    };
    e.prototype.init = function (e, a, r) {
      t.prototype.init.call(this, e, a, r);
      this._valueOffset = this._animationData.frameIntOffset;
      this._valueScale = 0.01;
      this._valueArray = this._animationData.parent.parent.frameIntArray;
    };
    e.prototype.blend = function (t) {
      var e = this.target;
      var a = e.target;
      var r = e.blendWeight;
      if (e.dirty > 1) {
        a._alpha += this._result * r;
        if (a._alpha > 1) {
          a._alpha = 1;
        }
      } else {
        a._alpha = this._result * r;
      }
      if (t || this.dirty) {
        this.dirty = false;
        this._armature._alphaDirty = true;
      }
    };
    return e;
  }(t.SingleValueTimelineState);
  t.AlphaTimelineState = l;
  var h = function (t) {
    __extends(e, t);
    function e() {
      return t !== null && t.apply(this, arguments) || this;
    }
    e.toString = function () {
      return "[class dragonBones.SlotDislayTimelineState]";
    };
    e.prototype._onArriveAtFrame = function () {
      if (this.playState >= 0) {
        var t = this.target;
        var e = this._timelineData !== null ? this._frameArray[this._frameOffset + 1] : t._slotData.displayIndex;
        if (t.displayIndex !== e) {
          t._setDisplayIndex(e, true);
        }
      }
    };
    e.prototype._onUpdateFrame = function () {};
    return e;
  }(t.TimelineState);
  t.SlotDislayTimelineState = h;
  var u = function (t) {
    __extends(e, t);
    function e() {
      var e = t !== null && t.apply(this, arguments) || this;
      e._current = [0, 0, 0, 0, 0, 0, 0, 0];
      e._difference = [0, 0, 0, 0, 0, 0, 0, 0];
      e._result = [0, 0, 0, 0, 0, 0, 0, 0];
      return e;
    }
    e.toString = function () {
      return "[class dragonBones.SlotColorTimelineState]";
    };
    e.prototype._onArriveAtFrame = function () {
      t.prototype._onArriveAtFrame.call(this);
      if (this._timelineData !== null) {
        var e = this._animationData.parent.parent;
        var a = e.colorArray;
        var r = e.frameIntArray;
        var i = this._animationData.frameIntOffset + this._frameValueOffset + this._frameIndex;
        var n = r[i];
        if (n < 0) {
          n += 65536;
        }
        if (this._isTween) {
          this._current[0] = a[n++];
          this._current[1] = a[n++];
          this._current[2] = a[n++];
          this._current[3] = a[n++];
          this._current[4] = a[n++];
          this._current[5] = a[n++];
          this._current[6] = a[n++];
          this._current[7] = a[n++];
          if (this._frameIndex === this._frameCount - 1) {
            n = r[this._animationData.frameIntOffset + this._frameValueOffset];
          } else {
            n = r[i + 1];
          }
          if (n < 0) {
            n += 65536;
          }
          this._difference[0] = a[n++] - this._current[0];
          this._difference[1] = a[n++] - this._current[1];
          this._difference[2] = a[n++] - this._current[2];
          this._difference[3] = a[n++] - this._current[3];
          this._difference[4] = a[n++] - this._current[4];
          this._difference[5] = a[n++] - this._current[5];
          this._difference[6] = a[n++] - this._current[6];
          this._difference[7] = a[n++] - this._current[7];
        } else {
          this._result[0] = a[n++] * 0.01;
          this._result[1] = a[n++] * 0.01;
          this._result[2] = a[n++] * 0.01;
          this._result[3] = a[n++] * 0.01;
          this._result[4] = a[n++];
          this._result[5] = a[n++];
          this._result[6] = a[n++];
          this._result[7] = a[n++];
        }
      } else {
        var s = this.target;
        var o = s.slotData.color;
        this._result[0] = o.alphaMultiplier;
        this._result[1] = o.redMultiplier;
        this._result[2] = o.greenMultiplier;
        this._result[3] = o.blueMultiplier;
        this._result[4] = o.alphaOffset;
        this._result[5] = o.redOffset;
        this._result[6] = o.greenOffset;
        this._result[7] = o.blueOffset;
      }
    };
    e.prototype._onUpdateFrame = function () {
      t.prototype._onUpdateFrame.call(this);
      if (this._isTween) {
        this._result[0] = (this._current[0] + this._difference[0] * this._tweenProgress) * 0.01;
        this._result[1] = (this._current[1] + this._difference[1] * this._tweenProgress) * 0.01;
        this._result[2] = (this._current[2] + this._difference[2] * this._tweenProgress) * 0.01;
        this._result[3] = (this._current[3] + this._difference[3] * this._tweenProgress) * 0.01;
        this._result[4] = this._current[4] + this._difference[4] * this._tweenProgress;
        this._result[5] = this._current[5] + this._difference[5] * this._tweenProgress;
        this._result[6] = this._current[6] + this._difference[6] * this._tweenProgress;
        this._result[7] = this._current[7] + this._difference[7] * this._tweenProgress;
      }
    };
    e.prototype.fadeOut = function () {
      this._isTween = false;
    };
    e.prototype.update = function (e) {
      t.prototype.update.call(this, e);
      if (this._isTween || this.dirty) {
        var a = this.target;
        var r = a._colorTransform;
        if (this._animationState._fadeState !== 0 || this._animationState._subFadeState !== 0) {
          if (r.alphaMultiplier !== this._result[0] || r.redMultiplier !== this._result[1] || r.greenMultiplier !== this._result[2] || r.blueMultiplier !== this._result[3] || r.alphaOffset !== this._result[4] || r.redOffset !== this._result[5] || r.greenOffset !== this._result[6] || r.blueOffset !== this._result[7]) {
            var i = Math.pow(this._animationState._fadeProgress, 4);
            r.alphaMultiplier += (this._result[0] - r.alphaMultiplier) * i;
            r.redMultiplier += (this._result[1] - r.redMultiplier) * i;
            r.greenMultiplier += (this._result[2] - r.greenMultiplier) * i;
            r.blueMultiplier += (this._result[3] - r.blueMultiplier) * i;
            r.alphaOffset += (this._result[4] - r.alphaOffset) * i;
            r.redOffset += (this._result[5] - r.redOffset) * i;
            r.greenOffset += (this._result[6] - r.greenOffset) * i;
            r.blueOffset += (this._result[7] - r.blueOffset) * i;
            a._colorDirty = true;
          }
        } else if (this.dirty) {
          this.dirty = false;
          if (r.alphaMultiplier !== this._result[0] || r.redMultiplier !== this._result[1] || r.greenMultiplier !== this._result[2] || r.blueMultiplier !== this._result[3] || r.alphaOffset !== this._result[4] || r.redOffset !== this._result[5] || r.greenOffset !== this._result[6] || r.blueOffset !== this._result[7]) {
            r.alphaMultiplier = this._result[0];
            r.redMultiplier = this._result[1];
            r.greenMultiplier = this._result[2];
            r.blueMultiplier = this._result[3];
            r.alphaOffset = this._result[4];
            r.redOffset = this._result[5];
            r.greenOffset = this._result[6];
            r.blueOffset = this._result[7];
            a._colorDirty = true;
          }
        }
      }
    };
    return e;
  }(t.TweenTimelineState);
  t.SlotColorTimelineState = u;
  var f = function (t) {
    __extends(e, t);
    function e() {
      return t !== null && t.apply(this, arguments) || this;
    }
    e.toString = function () {
      return "[class dragonBones.SlotZIndexTimelineState]";
    };
    e.prototype._onArriveAtFrame = function () {
      t.prototype._onArriveAtFrame.call(this);
      if (this._timelineData === null) {
        var e = this.target;
        var a = e.target;
        this._result = a.slotData.zIndex;
      }
    };
    e.prototype.init = function (e, a, r) {
      t.prototype.init.call(this, e, a, r);
      this._valueOffset = this._animationData.frameIntOffset;
      this._valueArray = this._animationData.parent.parent.frameIntArray;
    };
    e.prototype.blend = function (t) {
      var e = this.target;
      var a = e.target;
      var r = e.blendWeight;
      if (e.dirty > 1) {
        a._zIndex += this._result * r;
      } else {
        a._zIndex = this._result * r;
      }
      if (t || this.dirty) {
        this.dirty = false;
        this._armature._zIndexDirty = true;
      }
    };
    return e;
  }(t.SingleValueTimelineState);
  t.SlotZIndexTimelineState = f;
  var _ = function (t) {
    __extends(e, t);
    function e() {
      return t !== null && t.apply(this, arguments) || this;
    }
    e.toString = function () {
      return "[class dragonBones.DeformTimelineState]";
    };
    e.prototype._onClear = function () {
      t.prototype._onClear.call(this);
      this.geometryOffset = 0;
      this.displayFrame = null;
      this._deformCount = 0;
      this._deformOffset = 0;
      this._sameValueOffset = 0;
    };
    e.prototype.init = function (e, a, r) {
      t.prototype.init.call(this, e, a, r);
      if (this._timelineData !== null) {
        var i = this._animationData.frameIntOffset + this._timelineArray[this._timelineData.offset + 3];
        var n = this._animationData.parent.parent;
        var s = n.frameIntArray;
        var o = this.target.target;
        this.geometryOffset = s[i + 0];
        if (this.geometryOffset < 0) {
          this.geometryOffset += 65536;
        }
        for (var l = 0, h = o.displayFrameCount; l < h; ++l) {
          var u = o.getDisplayFrameAt(l);
          var f = u.getGeometryData();
          if (f === null) {
            continue;
          }
          if (f.offset === this.geometryOffset) {
            this.displayFrame = u;
            this.displayFrame.updateDeformVertices();
            break;
          }
        }
        if (this.displayFrame === null) {
          this.returnToPool();
          return;
        }
        this._valueOffset = this._animationData.frameFloatOffset;
        this._valueCount = s[i + 2];
        this._deformCount = s[i + 1];
        this._deformOffset = s[i + 3];
        this._sameValueOffset = s[i + 4] + this._animationData.frameFloatOffset;
        this._valueScale = this._armature.armatureData.scale;
        this._valueArray = n.frameFloatArray;
        this._rd.length = this._valueCount * 2;
      } else {
        this._deformCount = this.displayFrame.deformVertices.length;
      }
    };
    e.prototype.blend = function (t) {
      var e = this.target;
      var a = e.target;
      var r = e.blendWeight;
      var i = this.displayFrame.deformVertices;
      var n = this._valueArray;
      if (n !== null) {
        var s = this._valueCount;
        var o = this._deformOffset;
        var l = this._sameValueOffset;
        var h = this._rd;
        for (var u = 0; u < this._deformCount; ++u) {
          var f = 0;
          if (u < o) {
            f = n[l + u];
          } else if (u < o + s) {
            f = h[u - o];
          } else {
            f = n[l + u - s];
          }
          if (e.dirty > 1) {
            i[u] += f * r;
          } else {
            i[u] = f * r;
          }
        }
      } else if (e.dirty === 1) {
        for (var u = 0; u < this._deformCount; ++u) {
          i[u] = 0;
        }
      }
      if (t || this.dirty) {
        this.dirty = false;
        if (a._geometryData === this.displayFrame.getGeometryData()) {
          a._verticesDirty = true;
        }
      }
    };
    return e;
  }(t.MutilpleValueTimelineState);
  t.DeformTimelineState = _;
  var m = function (t) {
    __extends(e, t);
    function e() {
      return t !== null && t.apply(this, arguments) || this;
    }
    e.toString = function () {
      return "[class dragonBones.IKConstraintTimelineState]";
    };
    e.prototype._onUpdateFrame = function () {
      t.prototype._onUpdateFrame.call(this);
      var e = this.target;
      if (this._timelineData !== null) {
        e._bendPositive = this._currentA > 0;
        e._weight = this._currentB;
      } else {
        var a = e._constraintData;
        e._bendPositive = a.bendPositive;
        e._weight = a.weight;
      }
      e.invalidUpdate();
      this.dirty = false;
    };
    e.prototype.init = function (e, a, r) {
      t.prototype.init.call(this, e, a, r);
      this._valueOffset = this._animationData.frameIntOffset;
      this._valueScale = 0.01;
      this._valueArray = this._animationData.parent.parent.frameIntArray;
    };
    return e;
  }(t.DoubleValueTimelineState);
  t.IKConstraintTimelineState = m;
  var p = function (t) {
    __extends(e, t);
    function e() {
      return t !== null && t.apply(this, arguments) || this;
    }
    e.toString = function () {
      return "[class dragonBones.AnimationProgressTimelineState]";
    };
    e.prototype._onUpdateFrame = function () {
      t.prototype._onUpdateFrame.call(this);
      var e = this.target;
      if (e._parent !== null) {
        e.currentTime = this._result * e.totalTime;
      }
      this.dirty = false;
    };
    e.prototype.init = function (e, a, r) {
      t.prototype.init.call(this, e, a, r);
      this._valueOffset = this._animationData.frameIntOffset;
      this._valueScale = 1e-4;
      this._valueArray = this._animationData.parent.parent.frameIntArray;
    };
    return e;
  }(t.SingleValueTimelineState);
  t.AnimationProgressTimelineState = p;
  var c = function (t) {
    __extends(e, t);
    function e() {
      return t !== null && t.apply(this, arguments) || this;
    }
    e.toString = function () {
      return "[class dragonBones.AnimationWeightTimelineState]";
    };
    e.prototype._onUpdateFrame = function () {
      t.prototype._onUpdateFrame.call(this);
      var e = this.target;
      if (e._parent !== null) {
        e.weight = this._result;
      }
      this.dirty = false;
    };
    e.prototype.init = function (e, a, r) {
      t.prototype.init.call(this, e, a, r);
      this._valueOffset = this._animationData.frameIntOffset;
      this._valueScale = 1e-4;
      this._valueArray = this._animationData.parent.parent.frameIntArray;
    };
    return e;
  }(t.SingleValueTimelineState);
  t.AnimationWeightTimelineState = c;
  var d = function (t) {
    __extends(e, t);
    function e() {
      return t !== null && t.apply(this, arguments) || this;
    }
    e.toString = function () {
      return "[class dragonBones.AnimationParametersTimelineState]";
    };
    e.prototype._onUpdateFrame = function () {
      t.prototype._onUpdateFrame.call(this);
      var e = this.target;
      if (e._parent !== null) {
        e.parameterX = this._resultA;
        e.parameterY = this._resultB;
      }
      this.dirty = false;
    };
    e.prototype.init = function (e, a, r) {
      t.prototype.init.call(this, e, a, r);
      this._valueOffset = this._animationData.frameIntOffset;
      this._valueScale = 1e-4;
      this._valueArray = this._animationData.parent.parent.frameIntArray;
    };
    return e;
  }(t.DoubleValueTimelineState);
  t.AnimationParametersTimelineState = d;
})(dragonBones || (dragonBones = {}));
var dragonBones;
(function (t) {
  var e = function (t) {
    __extends(e, t);
    function e() {
      return t !== null && t.apply(this, arguments) || this;
    }
    e.actionDataToInstance = function (t, a, r) {
      if (t.type === 0) {
        a.type = e.FRAME_EVENT;
      } else {
        a.type = t.type === 10 ? e.FRAME_EVENT : e.SOUND_EVENT;
      }
      a.name = t.name;
      a.armature = r;
      a.actionData = t;
      a.data = t.data;
      if (t.bone !== null) {
        a.bone = r.getBone(t.bone.name);
      }
      if (t.slot !== null) {
        a.slot = r.getSlot(t.slot.name);
      }
    };
    e.toString = function () {
      return "[class dragonBones.EventObject]";
    };
    e.prototype._onClear = function () {
      this.time = 0;
      this.type = "";
      this.name = "";
      this.armature = null;
      this.bone = null;
      this.slot = null;
      this.animationState = null;
      this.actionData = null;
      this.data = null;
    };
    e.START = "start";
    e.LOOP_COMPLETE = "loopComplete";
    e.COMPLETE = "complete";
    e.FADE_IN = "fadeIn";
    e.FADE_IN_COMPLETE = "fadeInComplete";
    e.FADE_OUT = "fadeOut";
    e.FADE_OUT_COMPLETE = "fadeOutComplete";
    e.FRAME_EVENT = "frameEvent";
    e.SOUND_EVENT = "soundEvent";
    return e;
  }(t.BaseObject);
  t.EventObject = e;
})(dragonBones || (dragonBones = {}));
var dragonBones;
(function (t) {
  var e = function () {
    function t() {}
    t._getArmatureType = function (t) {
      switch (t.toLowerCase()) {
        case "stage":
          return 2;
        case "armature":
          return 0;
        case "movieclip":
          return 1;
        default:
          return 0;
      }
    };
    t._getBoneType = function (t) {
      switch (t.toLowerCase()) {
        case "bone":
          return 0;
        case "surface":
          return 1;
        default:
          return 0;
      }
    };
    t._getPositionMode = function (t) {
      switch (t.toLocaleLowerCase()) {
        case "percent":
          return 1;
        case "fixed":
          return 0;
        default:
          return 1;
      }
    };
    t._getSpacingMode = function (t) {
      switch (t.toLocaleLowerCase()) {
        case "length":
          return 0;
        case "percent":
          return 2;
        case "fixed":
          return 1;
        default:
          return 0;
      }
    };
    t._getRotateMode = function (t) {
      switch (t.toLocaleLowerCase()) {
        case "tangent":
          return 0;
        case "chain":
          return 1;
        case "chainscale":
          return 2;
        default:
          return 0;
      }
    };
    t._getDisplayType = function (t) {
      switch (t.toLowerCase()) {
        case "image":
          return 0;
        case "mesh":
          return 2;
        case "armature":
          return 1;
        case "boundingbox":
          return 3;
        case "path":
          return 4;
        default:
          return 0;
      }
    };
    t._getBoundingBoxType = function (t) {
      switch (t.toLowerCase()) {
        case "rectangle":
          return 0;
        case "ellipse":
          return 1;
        case "polygon":
          return 2;
        default:
          return 0;
      }
    };
    t._getBlendMode = function (t) {
      switch (t.toLowerCase()) {
        case "normal":
          return 0;
        case "add":
          return 1;
        case "alpha":
          return 2;
        case "darken":
          return 3;
        case "difference":
          return 4;
        case "erase":
          return 5;
        case "hardlight":
          return 6;
        case "invert":
          return 7;
        case "layer":
          return 8;
        case "lighten":
          return 9;
        case "multiply":
          return 10;
        case "overlay":
          return 11;
        case "screen":
          return 12;
        case "subtract":
          return 13;
        default:
          return 0;
      }
    };
    t._getAnimationBlendType = function (t) {
      switch (t.toLowerCase()) {
        case "none":
          return 0;
        case "1d":
          return 1;
        default:
          return 0;
      }
    };
    t._getActionType = function (t) {
      switch (t.toLowerCase()) {
        case "play":
          return 0;
        case "frame":
          return 10;
        case "sound":
          return 11;
        default:
          return 0;
      }
    };
    t.DATA_VERSION_2_3 = "2.3";
    t.DATA_VERSION_3_0 = "3.0";
    t.DATA_VERSION_4_0 = "4.0";
    t.DATA_VERSION_4_5 = "4.5";
    t.DATA_VERSION_5_0 = "5.0";
    t.DATA_VERSION_5_5 = "5.5";
    t.DATA_VERSION_5_6 = "5.6";
    t.DATA_VERSION = t.DATA_VERSION_5_6;
    t.DATA_VERSIONS = [t.DATA_VERSION_4_0, t.DATA_VERSION_4_5, t.DATA_VERSION_5_0, t.DATA_VERSION_5_5, t.DATA_VERSION_5_6];
    t.TEXTURE_ATLAS = "textureAtlas";
    t.SUB_TEXTURE = "SubTexture";
    t.FORMAT = "format";
    t.IMAGE_PATH = "imagePath";
    t.WIDTH = "width";
    t.HEIGHT = "height";
    t.ROTATED = "rotated";
    t.FRAME_X = "frameX";
    t.FRAME_Y = "frameY";
    t.FRAME_WIDTH = "frameWidth";
    t.FRAME_HEIGHT = "frameHeight";
    t.DRADON_BONES = "dragonBones";
    t.USER_DATA = "userData";
    t.ARMATURE = "armature";
    t.CANVAS = "canvas";
    t.BONE = "bone";
    t.SURFACE = "surface";
    t.SLOT = "slot";
    t.CONSTRAINT = "constraint";
    t.SKIN = "skin";
    t.DISPLAY = "display";
    t.FRAME = "frame";
    t.IK = "ik";
    t.PATH_CONSTRAINT = "path";
    t.ANIMATION = "animation";
    t.TIMELINE = "timeline";
    t.FFD = "ffd";
    t.TRANSLATE_FRAME = "translateFrame";
    t.ROTATE_FRAME = "rotateFrame";
    t.SCALE_FRAME = "scaleFrame";
    t.DISPLAY_FRAME = "displayFrame";
    t.COLOR_FRAME = "colorFrame";
    t.DEFAULT_ACTIONS = "defaultActions";
    t.ACTIONS = "actions";
    t.EVENTS = "events";
    t.INTS = "ints";
    t.FLOATS = "floats";
    t.STRINGS = "strings";
    t.TRANSFORM = "transform";
    t.PIVOT = "pivot";
    t.AABB = "aabb";
    t.COLOR = "color";
    t.VERSION = "version";
    t.COMPATIBLE_VERSION = "compatibleVersion";
    t.FRAME_RATE = "frameRate";
    t.TYPE = "type";
    t.SUB_TYPE = "subType";
    t.NAME = "name";
    t.PARENT = "parent";
    t.TARGET = "target";
    t.STAGE = "stage";
    t.SHARE = "share";
    t.PATH = "path";
    t.LENGTH = "length";
    t.DISPLAY_INDEX = "displayIndex";
    t.Z_ORDER = "zOrder";
    t.Z_INDEX = "zIndex";
    t.BLEND_MODE = "blendMode";
    t.INHERIT_TRANSLATION = "inheritTranslation";
    t.INHERIT_ROTATION = "inheritRotation";
    t.INHERIT_SCALE = "inheritScale";
    t.INHERIT_REFLECTION = "inheritReflection";
    t.INHERIT_ANIMATION = "inheritAnimation";
    t.INHERIT_DEFORM = "inheritDeform";
    t.SEGMENT_X = "segmentX";
    t.SEGMENT_Y = "segmentY";
    t.BEND_POSITIVE = "bendPositive";
    t.CHAIN = "chain";
    t.WEIGHT = "weight";
    t.BLEND_TYPE = "blendType";
    t.FADE_IN_TIME = "fadeInTime";
    t.PLAY_TIMES = "playTimes";
    t.SCALE = "scale";
    t.OFFSET = "offset";
    t.POSITION = "position";
    t.DURATION = "duration";
    t.TWEEN_EASING = "tweenEasing";
    t.TWEEN_ROTATE = "tweenRotate";
    t.TWEEN_SCALE = "tweenScale";
    t.CLOCK_WISE = "clockwise";
    t.CURVE = "curve";
    t.SOUND = "sound";
    t.EVENT = "event";
    t.ACTION = "action";
    t.X = "x";
    t.Y = "y";
    t.SKEW_X = "skX";
    t.SKEW_Y = "skY";
    t.SCALE_X = "scX";
    t.SCALE_Y = "scY";
    t.VALUE = "value";
    t.ROTATE = "rotate";
    t.SKEW = "skew";
    t.ALPHA = "alpha";
    t.ALPHA_OFFSET = "aO";
    t.RED_OFFSET = "rO";
    t.GREEN_OFFSET = "gO";
    t.BLUE_OFFSET = "bO";
    t.ALPHA_MULTIPLIER = "aM";
    t.RED_MULTIPLIER = "rM";
    t.GREEN_MULTIPLIER = "gM";
    t.BLUE_MULTIPLIER = "bM";
    t.UVS = "uvs";
    t.VERTICES = "vertices";
    t.TRIANGLES = "triangles";
    t.WEIGHTS = "weights";
    t.SLOT_POSE = "slotPose";
    t.BONE_POSE = "bonePose";
    t.BONES = "bones";
    t.POSITION_MODE = "positionMode";
    t.SPACING_MODE = "spacingMode";
    t.ROTATE_MODE = "rotateMode";
    t.SPACING = "spacing";
    t.ROTATE_OFFSET = "rotateOffset";
    t.ROTATE_MIX = "rotateMix";
    t.TRANSLATE_MIX = "translateMix";
    t.TARGET_DISPLAY = "targetDisplay";
    t.CLOSED = "closed";
    t.CONSTANT_SPEED = "constantSpeed";
    t.VERTEX_COUNT = "vertexCount";
    t.LENGTHS = "lengths";
    t.GOTO_AND_PLAY = "gotoAndPlay";
    t.DEFAULT_NAME = "default";
    return t;
  }();
  t.DataParser = e;
})(dragonBones || (dragonBones = {}));
var dragonBones;
(function (t) {
  var e = function (e) {
    __extends(r, e);
    function r() {
      var a = e !== null && e.apply(this, arguments) || this;
      a._rawTextureAtlasIndex = 0;
      a._rawBones = [];
      a._data = null;
      a._armature = null;
      a._bone = null;
      a._geometry = null;
      a._slot = null;
      a._skin = null;
      a._mesh = null;
      a._animation = null;
      a._timeline = null;
      a._rawTextureAtlases = null;
      a._frameValueType = 0;
      a._defaultColorOffset = -1;
      a._prevClockwise = 0;
      a._prevRotation = 0;
      a._frameDefaultValue = 0;
      a._frameValueScale = 1;
      a._helpMatrixA = new t.Matrix();
      a._helpMatrixB = new t.Matrix();
      a._helpTransform = new t.Transform();
      a._helpColorTransform = new t.ColorTransform();
      a._helpPoint = new t.Point();
      a._helpArray = [];
      a._intArray = [];
      a._floatArray = [];
      a._frameIntArray = [];
      a._frameFloatArray = [];
      a._frameArray = [];
      a._timelineArray = [];
      a._colorArray = [];
      a._cacheRawMeshes = [];
      a._cacheMeshes = [];
      a._actionFrames = [];
      a._weightSlotPose = {};
      a._weightBonePoses = {};
      a._cacheBones = {};
      a._slotChildActions = {};
      return a;
    }
    r._getBoolean = function (t, e, a) {
      if (e in t) {
        var r = t[e];
        var i = _typeof(r);
        if (i === "boolean") {
          return r;
        } else if (i === "string") {
          switch (r) {
            case "0":
            case "NaN":
            case "":
            case "false":
            case "null":
            case "undefined":
              return false;
            default:
              return true;
          }
        } else {
          return !!r;
        }
      }
      return a;
    };
    r._getNumber = function (t, e, a) {
      if (e in t) {
        var r = t[e];
        if (r === null || r === "NaN") {
          return a;
        }
        return +r || 0;
      }
      return a;
    };
    r._getString = function (t, e, a) {
      if (e in t) {
        var r = t[e];
        var i = _typeof(r);
        if (i === "string") {
          return r;
        }
        return String(r);
      }
      return a;
    };
    r.prototype._getCurvePoint = function (t, e, a, r, i, n, s, o, l, h) {
      var u = 1 - l;
      var f = u * u;
      var _ = l * l;
      var m = u * f;
      var p = 3 * l * f;
      var c = 3 * u * _;
      var d = l * _;
      h.x = m * t + p * a + c * i + d * s;
      h.y = m * e + p * r + c * n + d * o;
    };
    r.prototype._samplingEasingCurve = function (t, e) {
      var a = t.length;
      if (a % 3 === 1) {
        var r = -2;
        for (var i = 0, n = e.length; i < n; ++i) {
          var s = (i + 1) / (n + 1);
          while ((r + 6 < a ? t[r + 6] : 1) < s) {
            r += 6;
          }
          var o = r >= 0 && r + 6 < a;
          var l = o ? t[r] : 0;
          var h = o ? t[r + 1] : 0;
          var u = t[r + 2];
          var f = t[r + 3];
          var _ = t[r + 4];
          var m = t[r + 5];
          var p = o ? t[r + 6] : 1;
          var c = o ? t[r + 7] : 1;
          var d = 0;
          var y = 1;
          while (y - d > 1e-4) {
            var v = (y + d) * 0.5;
            this._getCurvePoint(l, h, u, f, _, m, p, c, v, this._helpPoint);
            if (s - this._helpPoint.x > 0) {
              d = v;
            } else {
              y = v;
            }
          }
          e[i] = this._helpPoint.y;
        }
        return true;
      } else {
        var r = 0;
        for (var i = 0, n = e.length; i < n; ++i) {
          var s = (i + 1) / (n + 1);
          while (t[r + 6] < s) {
            r += 6;
          }
          var l = t[r];
          var h = t[r + 1];
          var u = t[r + 2];
          var f = t[r + 3];
          var _ = t[r + 4];
          var m = t[r + 5];
          var p = t[r + 6];
          var c = t[r + 7];
          var d = 0;
          var y = 1;
          while (y - d > 1e-4) {
            var v = (y + d) * 0.5;
            this._getCurvePoint(l, h, u, f, _, m, p, c, v, this._helpPoint);
            if (s - this._helpPoint.x > 0) {
              d = v;
            } else {
              y = v;
            }
          }
          e[i] = this._helpPoint.y;
        }
        return false;
      }
    };
    r.prototype._parseActionDataInFrame = function (e, a, r, i) {
      if (t.DataParser.EVENT in e) {
        this._mergeActionFrame(e[t.DataParser.EVENT], a, 10, r, i);
      }
      if (t.DataParser.SOUND in e) {
        this._mergeActionFrame(e[t.DataParser.SOUND], a, 11, r, i);
      }
      if (t.DataParser.ACTION in e) {
        this._mergeActionFrame(e[t.DataParser.ACTION], a, 0, r, i);
      }
      if (t.DataParser.EVENTS in e) {
        this._mergeActionFrame(e[t.DataParser.EVENTS], a, 10, r, i);
      }
      if (t.DataParser.ACTIONS in e) {
        this._mergeActionFrame(e[t.DataParser.ACTIONS], a, 0, r, i);
      }
    };
    r.prototype._mergeActionFrame = function (t, e, r, i, n) {
      var s = this._armature.actions.length;
      var o = this._parseActionData(t, r, i, n);
      var l = 0;
      var h = null;
      for (var u = 0, f = o; u < f.length; u++) {
        var _ = f[u];
        this._armature.addAction(_, false);
      }
      if (this._actionFrames.length === 0) {
        h = new a();
        h.frameStart = 0;
        this._actionFrames.push(h);
        h = null;
      }
      for (var m = 0, p = this._actionFrames; m < p.length; m++) {
        var c = p[m];
        if (c.frameStart === e) {
          h = c;
          break;
        } else if (c.frameStart > e) {
          break;
        }
        l++;
      }
      if (h === null) {
        h = new a();
        h.frameStart = e;
        this._actionFrames.splice(l, 0, h);
      }
      for (var d = 0; d < o.length; ++d) {
        h.actions.push(s + d);
      }
    };
    r.prototype._parseArmature = function (e, a) {
      var i = t.BaseObject.borrowObject(t.ArmatureData);
      i.name = r._getString(e, t.DataParser.NAME, "");
      i.frameRate = r._getNumber(e, t.DataParser.FRAME_RATE, this._data.frameRate);
      i.scale = a;
      if (t.DataParser.TYPE in e && typeof e[t.DataParser.TYPE] === "string") {
        i.type = t.DataParser._getArmatureType(e[t.DataParser.TYPE]);
      } else {
        i.type = r._getNumber(e, t.DataParser.TYPE, 0);
      }
      if (i.frameRate === 0) {
        i.frameRate = 24;
      }
      this._armature = i;
      if (t.DataParser.CANVAS in e) {
        var n = e[t.DataParser.CANVAS];
        var s = t.BaseObject.borrowObject(t.CanvasData);
        if (t.DataParser.COLOR in n) {
          s.hasBackground = true;
        } else {
          s.hasBackground = false;
        }
        s.color = r._getNumber(n, t.DataParser.COLOR, 0);
        s.x = r._getNumber(n, t.DataParser.X, 0) * i.scale;
        s.y = r._getNumber(n, t.DataParser.Y, 0) * i.scale;
        s.width = r._getNumber(n, t.DataParser.WIDTH, 0) * i.scale;
        s.height = r._getNumber(n, t.DataParser.HEIGHT, 0) * i.scale;
        i.canvas = s;
      }
      if (t.DataParser.AABB in e) {
        var o = e[t.DataParser.AABB];
        i.aabb.x = r._getNumber(o, t.DataParser.X, 0) * i.scale;
        i.aabb.y = r._getNumber(o, t.DataParser.Y, 0) * i.scale;
        i.aabb.width = r._getNumber(o, t.DataParser.WIDTH, 0) * i.scale;
        i.aabb.height = r._getNumber(o, t.DataParser.HEIGHT, 0) * i.scale;
      }
      if (t.DataParser.BONE in e) {
        var l = e[t.DataParser.BONE];
        for (var h = 0, u = l; h < u.length; h++) {
          var f = u[h];
          var _ = r._getString(f, t.DataParser.PARENT, "");
          var m = this._parseBone(f);
          if (_.length > 0) {
            var p = i.getBone(_);
            if (p !== null) {
              m.parent = p;
            } else {
              if (!(_ in this._cacheBones)) {
                this._cacheBones[_] = [];
              }
              this._cacheBones[_].push(m);
            }
          }
          if (m.name in this._cacheBones) {
            for (var c = 0, d = this._cacheBones[m.name]; c < d.length; c++) {
              var y = d[c];
              y.parent = m;
            }
            delete this._cacheBones[m.name];
          }
          i.addBone(m);
          this._rawBones.push(m);
        }
      }
      if (t.DataParser.IK in e) {
        var v = e[t.DataParser.IK];
        for (var g = 0, D = v; g < D.length; g++) {
          var T = D[g];
          var b = this._parseIKConstraint(T);
          if (b) {
            i.addConstraint(b);
          }
        }
      }
      i.sortBones();
      if (t.DataParser.SLOT in e) {
        var A = 0;
        var P = e[t.DataParser.SLOT];
        for (var S = 0, O = P; S < O.length; S++) {
          var x = O[S];
          i.addSlot(this._parseSlot(x, A++));
        }
      }
      if (t.DataParser.SKIN in e) {
        var B = e[t.DataParser.SKIN];
        for (var E = 0, M = B; E < M.length; E++) {
          var I = M[E];
          i.addSkin(this._parseSkin(I));
        }
      }
      if (t.DataParser.PATH_CONSTRAINT in e) {
        var F = e[t.DataParser.PATH_CONSTRAINT];
        for (var C = 0, w = F; C < w.length; C++) {
          var N = w[C];
          var b = this._parsePathConstraint(N);
          if (b) {
            i.addConstraint(b);
          }
        }
      }
      for (var R = 0, k = this._cacheRawMeshes.length; R < k; ++R) {
        var j = this._cacheRawMeshes[R];
        var L = r._getString(j, t.DataParser.SHARE, "");
        if (L.length === 0) {
          continue;
        }
        var V = r._getString(j, t.DataParser.SKIN, t.DataParser.DEFAULT_NAME);
        if (V.length === 0) {
          V = t.DataParser.DEFAULT_NAME;
        }
        var Y = i.getMesh(V, "", L);
        if (Y === null) {
          continue;
        }
        var X = this._cacheMeshes[R];
        X.geometry.shareFrom(Y.geometry);
      }
      if (t.DataParser.ANIMATION in e) {
        var U = e[t.DataParser.ANIMATION];
        for (var G = 0, H = U; G < H.length; G++) {
          var z = H[G];
          var W = this._parseAnimation(z);
          i.addAnimation(W);
        }
      }
      if (t.DataParser.DEFAULT_ACTIONS in e) {
        var K = this._parseActionData(e[t.DataParser.DEFAULT_ACTIONS], 0, null, null);
        for (var Z = 0, q = K; Z < q.length; Z++) {
          var Q = q[Z];
          i.addAction(Q, true);
          if (Q.type === 0) {
            var W = i.getAnimation(Q.name);
            if (W !== null) {
              i.defaultAnimation = W;
            }
          }
        }
      }
      if (t.DataParser.ACTIONS in e) {
        var K = this._parseActionData(e[t.DataParser.ACTIONS], 0, null, null);
        for (var J = 0, $ = K; J < $.length; J++) {
          var Q = $[J];
          i.addAction(Q, false);
        }
      }
      this._rawBones.length = 0;
      this._cacheRawMeshes.length = 0;
      this._cacheMeshes.length = 0;
      this._armature = null;
      for (var tt in this._weightSlotPose) {
        delete this._weightSlotPose[tt];
      }
      for (var tt in this._weightBonePoses) {
        delete this._weightBonePoses[tt];
      }
      for (var tt in this._cacheBones) {
        delete this._cacheBones[tt];
      }
      for (var tt in this._slotChildActions) {
        delete this._slotChildActions[tt];
      }
      return i;
    };
    r.prototype._parseBone = function (e) {
      var a = 0;
      if (t.DataParser.TYPE in e && typeof e[t.DataParser.TYPE] === "string") {
        a = t.DataParser._getBoneType(e[t.DataParser.TYPE]);
      } else {
        a = r._getNumber(e, t.DataParser.TYPE, 0);
      }
      if (a === 0) {
        var i = this._armature.scale;
        var n = t.BaseObject.borrowObject(t.BoneData);
        n.inheritTranslation = r._getBoolean(e, t.DataParser.INHERIT_TRANSLATION, true);
        n.inheritRotation = r._getBoolean(e, t.DataParser.INHERIT_ROTATION, true);
        n.inheritScale = r._getBoolean(e, t.DataParser.INHERIT_SCALE, true);
        n.inheritReflection = r._getBoolean(e, t.DataParser.INHERIT_REFLECTION, true);
        n.length = r._getNumber(e, t.DataParser.LENGTH, 0) * i;
        n.alpha = r._getNumber(e, t.DataParser.ALPHA, 1);
        n.name = r._getString(e, t.DataParser.NAME, "");
        if (t.DataParser.TRANSFORM in e) {
          this._parseTransform(e[t.DataParser.TRANSFORM], n.transform, i);
        }
        return n;
      }
      var s = t.BaseObject.borrowObject(t.SurfaceData);
      s.alpha = r._getNumber(e, t.DataParser.ALPHA, 1);
      s.name = r._getString(e, t.DataParser.NAME, "");
      s.segmentX = r._getNumber(e, t.DataParser.SEGMENT_X, 0);
      s.segmentY = r._getNumber(e, t.DataParser.SEGMENT_Y, 0);
      this._parseGeometry(e, s.geometry);
      return s;
    };
    r.prototype._parseIKConstraint = function (e) {
      var a = this._armature.getBone(r._getString(e, t.DataParser.BONE, ""));
      if (a === null) {
        return null;
      }
      var i = this._armature.getBone(r._getString(e, t.DataParser.TARGET, ""));
      if (i === null) {
        return null;
      }
      var n = r._getNumber(e, t.DataParser.CHAIN, 0);
      var s = t.BaseObject.borrowObject(t.IKConstraintData);
      s.scaleEnabled = r._getBoolean(e, t.DataParser.SCALE, false);
      s.bendPositive = r._getBoolean(e, t.DataParser.BEND_POSITIVE, true);
      s.weight = r._getNumber(e, t.DataParser.WEIGHT, 1);
      s.name = r._getString(e, t.DataParser.NAME, "");
      s.type = 0;
      s.target = i;
      if (n > 0 && a.parent !== null) {
        s.root = a.parent;
        s.bone = a;
      } else {
        s.root = a;
        s.bone = null;
      }
      return s;
    };
    r.prototype._parsePathConstraint = function (e) {
      var a = this._armature.getSlot(r._getString(e, t.DataParser.TARGET, ""));
      if (a === null) {
        return null;
      }
      var i = this._armature.defaultSkin;
      if (i === null) {
        return null;
      }
      var n = i.getDisplay(a.name, r._getString(e, t.DataParser.TARGET_DISPLAY, a.name));
      if (n === null || !(n instanceof t.PathDisplayData)) {
        return null;
      }
      var s = e[t.DataParser.BONES];
      if (s === null || s.length === 0) {
        return null;
      }
      var o = t.BaseObject.borrowObject(t.PathConstraintData);
      o.name = r._getString(e, t.DataParser.NAME, "");
      o.type = 1;
      o.pathSlot = a;
      o.pathDisplayData = n;
      o.target = a.parent;
      o.positionMode = t.DataParser._getPositionMode(r._getString(e, t.DataParser.POSITION_MODE, ""));
      o.spacingMode = t.DataParser._getSpacingMode(r._getString(e, t.DataParser.SPACING_MODE, ""));
      o.rotateMode = t.DataParser._getRotateMode(r._getString(e, t.DataParser.ROTATE_MODE, ""));
      o.position = r._getNumber(e, t.DataParser.POSITION, 0);
      o.spacing = r._getNumber(e, t.DataParser.SPACING, 0);
      o.rotateOffset = r._getNumber(e, t.DataParser.ROTATE_OFFSET, 0);
      o.rotateMix = r._getNumber(e, t.DataParser.ROTATE_MIX, 1);
      o.translateMix = r._getNumber(e, t.DataParser.TRANSLATE_MIX, 1);
      for (var l = 0, h = s; l < h.length; l++) {
        var u = h[l];
        var f = this._armature.getBone(u);
        if (f !== null) {
          o.AddBone(f);
          if (o.root === null) {
            o.root = f;
          }
        }
      }
      return o;
    };
    r.prototype._parseSlot = function (e, a) {
      var i = t.BaseObject.borrowObject(t.SlotData);
      i.displayIndex = r._getNumber(e, t.DataParser.DISPLAY_INDEX, 0);
      i.zOrder = a;
      i.zIndex = r._getNumber(e, t.DataParser.Z_INDEX, 0);
      i.alpha = r._getNumber(e, t.DataParser.ALPHA, 1);
      i.name = r._getString(e, t.DataParser.NAME, "");
      i.parent = this._armature.getBone(r._getString(e, t.DataParser.PARENT, ""));
      if (t.DataParser.BLEND_MODE in e && typeof e[t.DataParser.BLEND_MODE] === "string") {
        i.blendMode = t.DataParser._getBlendMode(e[t.DataParser.BLEND_MODE]);
      } else {
        i.blendMode = r._getNumber(e, t.DataParser.BLEND_MODE, 0);
      }
      if (t.DataParser.COLOR in e) {
        i.color = t.SlotData.createColor();
        this._parseColorTransform(e[t.DataParser.COLOR], i.color);
      } else {
        i.color = t.SlotData.DEFAULT_COLOR;
      }
      if (t.DataParser.ACTIONS in e) {
        this._slotChildActions[i.name] = this._parseActionData(e[t.DataParser.ACTIONS], 0, null, null);
      }
      return i;
    };
    r.prototype._parseSkin = function (e) {
      var a = t.BaseObject.borrowObject(t.SkinData);
      a.name = r._getString(e, t.DataParser.NAME, t.DataParser.DEFAULT_NAME);
      if (a.name.length === 0) {
        a.name = t.DataParser.DEFAULT_NAME;
      }
      if (t.DataParser.SLOT in e) {
        var i = e[t.DataParser.SLOT];
        this._skin = a;
        for (var n = 0, s = i; n < s.length; n++) {
          var o = s[n];
          var l = r._getString(o, t.DataParser.NAME, "");
          var h = this._armature.getSlot(l);
          if (h !== null) {
            this._slot = h;
            if (t.DataParser.DISPLAY in o) {
              var u = o[t.DataParser.DISPLAY];
              for (var f = 0, _ = u; f < _.length; f++) {
                var m = _[f];
                if (m) {
                  a.addDisplay(l, this._parseDisplay(m));
                } else {
                  a.addDisplay(l, null);
                }
              }
            }
            this._slot = null;
          }
        }
        this._skin = null;
      }
      return a;
    };
    r.prototype._parseDisplay = function (e) {
      var a = r._getString(e, t.DataParser.NAME, "");
      var i = r._getString(e, t.DataParser.PATH, "");
      var n = 0;
      var s = null;
      if (t.DataParser.TYPE in e && typeof e[t.DataParser.TYPE] === "string") {
        n = t.DataParser._getDisplayType(e[t.DataParser.TYPE]);
      } else {
        n = r._getNumber(e, t.DataParser.TYPE, n);
      }
      switch (n) {
        case 0:
          {
            var o = s = t.BaseObject.borrowObject(t.ImageDisplayData);
            o.name = a;
            o.path = i.length > 0 ? i : a;
            this._parsePivot(e, o);
            break;
          }
        case 1:
          {
            var l = s = t.BaseObject.borrowObject(t.ArmatureDisplayData);
            l.name = a;
            l.path = i.length > 0 ? i : a;
            l.inheritAnimation = true;
            if (t.DataParser.ACTIONS in e) {
              var h = this._parseActionData(e[t.DataParser.ACTIONS], 0, null, null);
              for (var u = 0, f = h; u < f.length; u++) {
                var _ = f[u];
                l.addAction(_);
              }
            } else if (this._slot.name in this._slotChildActions) {
              var m = this._skin.getDisplays(this._slot.name);
              if (m === null ? this._slot.displayIndex === 0 : this._slot.displayIndex === m.length) {
                for (var p = 0, c = this._slotChildActions[this._slot.name]; p < c.length; p++) {
                  var _ = c[p];
                  l.addAction(_);
                }
                delete this._slotChildActions[this._slot.name];
              }
            }
            break;
          }
        case 2:
          {
            var d = s = t.BaseObject.borrowObject(t.MeshDisplayData);
            d.geometry.inheritDeform = r._getBoolean(e, t.DataParser.INHERIT_DEFORM, true);
            d.name = a;
            d.path = i.length > 0 ? i : a;
            if (t.DataParser.SHARE in e) {
              d.geometry.data = this._data;
              this._cacheRawMeshes.push(e);
              this._cacheMeshes.push(d);
            } else {
              this._parseMesh(e, d);
            }
            break;
          }
        case 3:
          {
            var y = this._parseBoundingBox(e);
            if (y !== null) {
              var v = s = t.BaseObject.borrowObject(t.BoundingBoxDisplayData);
              v.name = a;
              v.path = i.length > 0 ? i : a;
              v.boundingBox = y;
            }
            break;
          }
        case 4:
          {
            var g = e[t.DataParser.LENGTHS];
            var D = s = t.BaseObject.borrowObject(t.PathDisplayData);
            D.closed = r._getBoolean(e, t.DataParser.CLOSED, false);
            D.constantSpeed = r._getBoolean(e, t.DataParser.CONSTANT_SPEED, false);
            D.name = a;
            D.path = i.length > 0 ? i : a;
            D.curveLengths.length = g.length;
            for (var T = 0, b = g.length; T < b; ++T) {
              D.curveLengths[T] = g[T];
            }
            this._parsePath(e, D);
            break;
          }
      }
      if (s !== null && t.DataParser.TRANSFORM in e) {
        this._parseTransform(e[t.DataParser.TRANSFORM], s.transform, this._armature.scale);
      }
      return s;
    };
    r.prototype._parsePath = function (t, e) {
      this._parseGeometry(t, e.geometry);
    };
    r.prototype._parsePivot = function (e, a) {
      if (t.DataParser.PIVOT in e) {
        var i = e[t.DataParser.PIVOT];
        a.pivot.x = r._getNumber(i, t.DataParser.X, 0);
        a.pivot.y = r._getNumber(i, t.DataParser.Y, 0);
      } else {
        a.pivot.x = 0.5;
        a.pivot.y = 0.5;
      }
    };
    r.prototype._parseMesh = function (e, a) {
      this._parseGeometry(e, a.geometry);
      if (t.DataParser.WEIGHTS in e) {
        var r = e[t.DataParser.SLOT_POSE];
        var i = e[t.DataParser.BONE_POSE];
        var n = this._skin.name + "_" + this._slot.name + "_" + a.name;
        this._weightSlotPose[n] = r;
        this._weightBonePoses[n] = i;
      }
    };
    r.prototype._parseBoundingBox = function (e) {
      var a = null;
      var i = 0;
      if (t.DataParser.SUB_TYPE in e && typeof e[t.DataParser.SUB_TYPE] === "string") {
        i = t.DataParser._getBoundingBoxType(e[t.DataParser.SUB_TYPE]);
      } else {
        i = r._getNumber(e, t.DataParser.SUB_TYPE, i);
      }
      switch (i) {
        case 0:
          a = t.BaseObject.borrowObject(t.RectangleBoundingBoxData);
          break;
        case 1:
          a = t.BaseObject.borrowObject(t.EllipseBoundingBoxData);
          break;
        case 2:
          a = this._parsePolygonBoundingBox(e);
          break;
      }
      if (a !== null) {
        a.color = r._getNumber(e, t.DataParser.COLOR, 0);
        if (a.type === 0 || a.type === 1) {
          a.width = r._getNumber(e, t.DataParser.WIDTH, 0);
          a.height = r._getNumber(e, t.DataParser.HEIGHT, 0);
        }
      }
      return a;
    };
    r.prototype._parsePolygonBoundingBox = function (e) {
      var a = t.BaseObject.borrowObject(t.PolygonBoundingBoxData);
      if (t.DataParser.VERTICES in e) {
        var r = this._armature.scale;
        var i = e[t.DataParser.VERTICES];
        var n = a.vertices;
        n.length = i.length;
        for (var s = 0, o = i.length; s < o; s += 2) {
          var l = i[s] * r;
          var h = i[s + 1] * r;
          n[s] = l;
          n[s + 1] = h;
          if (s === 0) {
            a.x = l;
            a.y = h;
            a.width = l;
            a.height = h;
          } else {
            if (l < a.x) {
              a.x = l;
            } else if (l > a.width) {
              a.width = l;
            }
            if (h < a.y) {
              a.y = h;
            } else if (h > a.height) {
              a.height = h;
            }
          }
        }
        a.width -= a.x;
        a.height -= a.y;
      } else {
        console.warn("Data error.\n Please reexport DragonBones Data to fixed the bug.");
      }
      return a;
    };
    r.prototype._parseAnimation = function (e) {
      var a = t.BaseObject.borrowObject(t.AnimationData);
      a.blendType = t.DataParser._getAnimationBlendType(r._getString(e, t.DataParser.BLEND_TYPE, ""));
      a.frameCount = r._getNumber(e, t.DataParser.DURATION, 0);
      a.playTimes = r._getNumber(e, t.DataParser.PLAY_TIMES, 1);
      a.duration = a.frameCount / this._armature.frameRate;
      a.fadeInTime = r._getNumber(e, t.DataParser.FADE_IN_TIME, 0);
      a.scale = r._getNumber(e, t.DataParser.SCALE, 1);
      a.name = r._getString(e, t.DataParser.NAME, t.DataParser.DEFAULT_NAME);
      if (a.name.length === 0) {
        a.name = t.DataParser.DEFAULT_NAME;
      }
      a.frameIntOffset = this._frameIntArray.length;
      a.frameFloatOffset = this._frameFloatArray.length;
      a.frameOffset = this._frameArray.length;
      this._animation = a;
      if (t.DataParser.FRAME in e) {
        var i = e[t.DataParser.FRAME];
        var n = i.length;
        if (n > 0) {
          for (var s = 0, o = 0; s < n; ++s) {
            var l = i[s];
            this._parseActionDataInFrame(l, o, null, null);
            o += r._getNumber(l, t.DataParser.DURATION, 1);
          }
        }
      }
      if (t.DataParser.Z_ORDER in e) {
        this._animation.zOrderTimeline = this._parseTimeline(e[t.DataParser.Z_ORDER], null, t.DataParser.FRAME, 1, 0, 0, this._parseZOrderFrame);
      }
      if (t.DataParser.BONE in e) {
        var h = e[t.DataParser.BONE];
        for (var u = 0, f = h; u < f.length; u++) {
          var _ = f[u];
          this._parseBoneTimeline(_);
        }
      }
      if (t.DataParser.SLOT in e) {
        var h = e[t.DataParser.SLOT];
        for (var m = 0, p = h; m < p.length; m++) {
          var _ = p[m];
          this._parseSlotTimeline(_);
        }
      }
      if (t.DataParser.FFD in e) {
        var h = e[t.DataParser.FFD];
        for (var c = 0, d = h; c < d.length; c++) {
          var _ = d[c];
          var y = r._getString(_, t.DataParser.SKIN, t.DataParser.DEFAULT_NAME);
          var v = r._getString(_, t.DataParser.SLOT, "");
          var g = r._getString(_, t.DataParser.NAME, "");
          if (y.length === 0) {
            y = t.DataParser.DEFAULT_NAME;
          }
          this._slot = this._armature.getSlot(v);
          this._mesh = this._armature.getMesh(y, v, g);
          if (this._slot === null || this._mesh === null) {
            continue;
          }
          var D = this._parseTimeline(_, null, t.DataParser.FRAME, 22, 2, 0, this._parseSlotDeformFrame);
          if (D !== null) {
            this._animation.addSlotTimeline(v, D);
          }
          this._slot = null;
          this._mesh = null;
        }
      }
      if (t.DataParser.IK in e) {
        var h = e[t.DataParser.IK];
        for (var T = 0, b = h; T < b.length; T++) {
          var _ = b[T];
          var A = r._getString(_, t.DataParser.NAME, "");
          var P = this._armature.getConstraint(A);
          if (P === null) {
            continue;
          }
          var D = this._parseTimeline(_, null, t.DataParser.FRAME, 30, 1, 2, this._parseIKConstraintFrame);
          if (D !== null) {
            this._animation.addConstraintTimeline(A, D);
          }
        }
      }
      if (this._actionFrames.length > 0) {
        this._animation.actionTimeline = this._parseTimeline(null, this._actionFrames, "", 0, 0, 0, this._parseActionFrame);
        this._actionFrames.length = 0;
      }
      if (t.DataParser.TIMELINE in e) {
        var h = e[t.DataParser.TIMELINE];
        for (var S = 0, O = h; S < O.length; S++) {
          var _ = O[S];
          var x = r._getNumber(_, t.DataParser.TYPE, 0);
          var B = r._getString(_, t.DataParser.NAME, "");
          var D = null;
          switch (x) {
            case 0:
              break;
            case 20:
            case 23:
            case 60:
            case 24:
            case 40:
            case 41:
              if (x === 20) {
                this._frameValueType = 0;
                this._frameValueScale = 1;
              } else {
                this._frameValueType = 1;
                if (x === 23) {
                  this._frameValueScale = 1;
                } else if (x === 40 || x === 41) {
                  this._frameValueScale = 1e4;
                } else {
                  this._frameValueScale = 100;
                }
              }
              if (x === 60 || x === 24 || x === 41) {
                this._frameDefaultValue = 1;
              } else {
                this._frameDefaultValue = 0;
              }
              if (x === 40 && a.blendType !== 0) {
                D = t.BaseObject.borrowObject(t.AnimationTimelineData);
                var E = D;
                E.x = r._getNumber(_, t.DataParser.X, 0);
                E.y = r._getNumber(_, t.DataParser.Y, 0);
              }
              D = this._parseTimeline(_, null, t.DataParser.FRAME, x, this._frameValueType, 1, this._parseSingleValueFrame, D);
              break;
            case 11:
            case 12:
            case 13:
            case 30:
            case 42:
              if (x === 30 || x === 42) {
                this._frameValueType = 1;
                if (x === 42) {
                  this._frameValueScale = 1e4;
                } else {
                  this._frameValueScale = 100;
                }
              } else {
                if (x === 12) {
                  this._frameValueScale = t.Transform.DEG_RAD;
                } else {
                  this._frameValueScale = 1;
                }
                this._frameValueType = 2;
              }
              if (x === 13 || x === 30) {
                this._frameDefaultValue = 1;
              } else {
                this._frameDefaultValue = 0;
              }
              D = this._parseTimeline(_, null, t.DataParser.FRAME, x, this._frameValueType, 2, this._parseDoubleValueFrame);
              break;
            case 1:
              break;
            case 50:
              {
                var M = this._armature.getBone(B);
                if (M === null) {
                  continue;
                }
                this._geometry = M.geometry;
                D = this._parseTimeline(_, null, t.DataParser.FRAME, x, 2, 0, this._parseDeformFrame);
                this._geometry = null;
                break;
              }
            case 22:
              {
                this._geometry = null;
                for (var y in this._armature.skins) {
                  var I = this._armature.skins[y];
                  for (var F in I.displays) {
                    var C = I.displays[F];
                    for (var w = 0, N = C; w < N.length; w++) {
                      var R = N[w];
                      if (R !== null && R.name === B) {
                        this._geometry = R.geometry;
                        break;
                      }
                    }
                  }
                }
                if (this._geometry === null) {
                  continue;
                }
                D = this._parseTimeline(_, null, t.DataParser.FRAME, x, 2, 0, this._parseDeformFrame);
                this._geometry = null;
                break;
              }
            case 21:
              D = this._parseTimeline(_, null, t.DataParser.FRAME, x, 1, 1, this._parseSlotColorFrame);
              break;
          }
          if (D !== null) {
            switch (x) {
              case 0:
                break;
              case 1:
                break;
              case 11:
              case 12:
              case 13:
              case 50:
              case 60:
                this._animation.addBoneTimeline(B, D);
                break;
              case 20:
              case 21:
              case 22:
              case 23:
              case 24:
                this._animation.addSlotTimeline(B, D);
                break;
              case 30:
                this._animation.addConstraintTimeline(B, D);
                break;
              case 40:
              case 41:
              case 42:
                this._animation.addAnimationTimeline(B, D);
                break;
            }
          }
        }
      }
      this._animation = null;
      return a;
    };
    r.prototype._parseTimeline = function (e, i, n, s, o, l, h, u) {
      if (u === void 0) {
        u = null;
      }
      if (e !== null && n.length > 0 && n in e) {
        i = e[n];
      }
      if (i === null) {
        return null;
      }
      var f = i.length;
      if (f === 0) {
        return null;
      }
      var _ = this._frameIntArray.length;
      var m = this._frameFloatArray.length;
      var p = this._timelineArray.length;
      if (u === null) {
        u = t.BaseObject.borrowObject(t.TimelineData);
      }
      u.type = s;
      u.offset = p;
      this._frameValueType = o;
      this._timeline = u;
      this._timelineArray.length += 1 + 1 + 1 + 1 + 1 + f;
      if (e !== null) {
        this._timelineArray[p + 0] = Math.round(r._getNumber(e, t.DataParser.SCALE, 1) * 100);
        this._timelineArray[p + 1] = Math.round(r._getNumber(e, t.DataParser.OFFSET, 0) * 100);
      } else {
        this._timelineArray[p + 0] = 100;
        this._timelineArray[p + 1] = 0;
      }
      this._timelineArray[p + 2] = f;
      this._timelineArray[p + 3] = l;
      switch (this._frameValueType) {
        case 0:
          this._timelineArray[p + 4] = 0;
          break;
        case 1:
          this._timelineArray[p + 4] = _ - this._animation.frameIntOffset;
          break;
        case 2:
          this._timelineArray[p + 4] = m - this._animation.frameFloatOffset;
          break;
      }
      if (f === 1) {
        u.frameIndicesOffset = -1;
        this._timelineArray[p + 5 + 0] = h.call(this, i[0], 0, 0) - this._animation.frameOffset;
      } else {
        var c = this._animation.frameCount + 1;
        var d = this._data.frameIndices;
        var y = d.length;
        d.length += c;
        u.frameIndicesOffset = y;
        for (var v = 0, g = 0, D = 0, T = 0; v < c; ++v) {
          if (D + T <= v && g < f) {
            var b = i[g];
            D = v;
            if (g === f - 1) {
              T = this._animation.frameCount - D;
            } else {
              if (b instanceof a) {
                T = this._actionFrames[g + 1].frameStart - D;
              } else {
                T = r._getNumber(b, t.DataParser.DURATION, 1);
              }
            }
            this._timelineArray[p + 5 + g] = h.call(this, b, D, T) - this._animation.frameOffset;
            g++;
          }
          d[y + v] = g - 1;
        }
      }
      this._timeline = null;
      return u;
    };
    r.prototype._parseBoneTimeline = function (e) {
      var a = this._armature.getBone(r._getString(e, t.DataParser.NAME, ""));
      if (a === null) {
        return;
      }
      this._bone = a;
      this._slot = this._armature.getSlot(this._bone.name);
      if (t.DataParser.TRANSLATE_FRAME in e) {
        this._frameDefaultValue = 0;
        this._frameValueScale = 1;
        var i = this._parseTimeline(e, null, t.DataParser.TRANSLATE_FRAME, 11, 2, 2, this._parseDoubleValueFrame);
        if (i !== null) {
          this._animation.addBoneTimeline(a.name, i);
        }
      }
      if (t.DataParser.ROTATE_FRAME in e) {
        this._frameDefaultValue = 0;
        this._frameValueScale = 1;
        var i = this._parseTimeline(e, null, t.DataParser.ROTATE_FRAME, 12, 2, 2, this._parseBoneRotateFrame);
        if (i !== null) {
          this._animation.addBoneTimeline(a.name, i);
        }
      }
      if (t.DataParser.SCALE_FRAME in e) {
        this._frameDefaultValue = 1;
        this._frameValueScale = 1;
        var i = this._parseTimeline(e, null, t.DataParser.SCALE_FRAME, 13, 2, 2, this._parseBoneScaleFrame);
        if (i !== null) {
          this._animation.addBoneTimeline(a.name, i);
        }
      }
      if (t.DataParser.FRAME in e) {
        var i = this._parseTimeline(e, null, t.DataParser.FRAME, 10, 2, 6, this._parseBoneAllFrame);
        if (i !== null) {
          this._animation.addBoneTimeline(a.name, i);
        }
      }
      this._bone = null;
      this._slot = null;
    };
    r.prototype._parseSlotTimeline = function (e) {
      var a = this._armature.getSlot(r._getString(e, t.DataParser.NAME, ""));
      if (a === null) {
        return;
      }
      var i = null;
      var n = null;
      this._slot = a;
      if (t.DataParser.DISPLAY_FRAME in e) {
        i = this._parseTimeline(e, null, t.DataParser.DISPLAY_FRAME, 20, 0, 0, this._parseSlotDisplayFrame);
      } else {
        i = this._parseTimeline(e, null, t.DataParser.FRAME, 20, 0, 0, this._parseSlotDisplayFrame);
      }
      if (t.DataParser.COLOR_FRAME in e) {
        n = this._parseTimeline(e, null, t.DataParser.COLOR_FRAME, 21, 1, 1, this._parseSlotColorFrame);
      } else {
        n = this._parseTimeline(e, null, t.DataParser.FRAME, 21, 1, 1, this._parseSlotColorFrame);
      }
      if (i !== null) {
        this._animation.addSlotTimeline(a.name, i);
      }
      if (n !== null) {
        this._animation.addSlotTimeline(a.name, n);
      }
      this._slot = null;
    };
    r.prototype._parseFrame = function (t, e, a) {
      t;
      a;
      var r = this._frameArray.length;
      this._frameArray.length += 1;
      this._frameArray[r + 0] = e;
      return r;
    };
    r.prototype._parseTweenFrame = function (e, a, i) {
      var n = this._parseFrame(e, a, i);
      if (i > 0) {
        if (t.DataParser.CURVE in e) {
          var s = i + 1;
          this._helpArray.length = s;
          var o = this._samplingEasingCurve(e[t.DataParser.CURVE], this._helpArray);
          this._frameArray.length += 1 + 1 + this._helpArray.length;
          this._frameArray[n + 1] = 2;
          this._frameArray[n + 2] = o ? s : -s;
          for (var l = 0; l < s; ++l) {
            this._frameArray[n + 3 + l] = Math.round(this._helpArray[l] * 1e4);
          }
        } else {
          var h = -2;
          var u = h;
          if (t.DataParser.TWEEN_EASING in e) {
            u = r._getNumber(e, t.DataParser.TWEEN_EASING, h);
          }
          if (u === h) {
            this._frameArray.length += 1;
            this._frameArray[n + 1] = 0;
          } else if (u === 0) {
            this._frameArray.length += 1;
            this._frameArray[n + 1] = 1;
          } else if (u < 0) {
            this._frameArray.length += 1 + 1;
            this._frameArray[n + 1] = 3;
            this._frameArray[n + 2] = Math.round(-u * 100);
          } else if (u <= 1) {
            this._frameArray.length += 1 + 1;
            this._frameArray[n + 1] = 4;
            this._frameArray[n + 2] = Math.round(u * 100);
          } else {
            this._frameArray.length += 1 + 1;
            this._frameArray[n + 1] = 5;
            this._frameArray[n + 2] = Math.round(u * 100 - 100);
          }
        }
      } else {
        this._frameArray.length += 1;
        this._frameArray[n + 1] = 0;
      }
      return n;
    };
    r.prototype._parseSingleValueFrame = function (e, a, i) {
      var n = 0;
      switch (this._frameValueType) {
        case 0:
          {
            n = this._parseFrame(e, a, i);
            this._frameArray.length += 1;
            this._frameArray[n + 1] = r._getNumber(e, t.DataParser.VALUE, this._frameDefaultValue);
            break;
          }
        case 1:
          {
            n = this._parseTweenFrame(e, a, i);
            var s = this._frameIntArray.length;
            this._frameIntArray.length += 1;
            this._frameIntArray[s] = Math.round(r._getNumber(e, t.DataParser.VALUE, this._frameDefaultValue) * this._frameValueScale);
            break;
          }
        case 2:
          {
            n = this._parseTweenFrame(e, a, i);
            var s = this._frameFloatArray.length;
            this._frameFloatArray.length += 1;
            this._frameFloatArray[s] = r._getNumber(e, t.DataParser.VALUE, this._frameDefaultValue) * this._frameValueScale;
            break;
          }
      }
      return n;
    };
    r.prototype._parseDoubleValueFrame = function (e, a, i) {
      var n = 0;
      switch (this._frameValueType) {
        case 0:
          {
            n = this._parseFrame(e, a, i);
            this._frameArray.length += 2;
            this._frameArray[n + 1] = r._getNumber(e, t.DataParser.X, this._frameDefaultValue);
            this._frameArray[n + 2] = r._getNumber(e, t.DataParser.Y, this._frameDefaultValue);
            break;
          }
        case 1:
          {
            n = this._parseTweenFrame(e, a, i);
            var s = this._frameIntArray.length;
            this._frameIntArray.length += 2;
            this._frameIntArray[s] = Math.round(r._getNumber(e, t.DataParser.X, this._frameDefaultValue) * this._frameValueScale);
            this._frameIntArray[s + 1] = Math.round(r._getNumber(e, t.DataParser.Y, this._frameDefaultValue) * this._frameValueScale);
            break;
          }
        case 2:
          {
            n = this._parseTweenFrame(e, a, i);
            var s = this._frameFloatArray.length;
            this._frameFloatArray.length += 2;
            this._frameFloatArray[s] = r._getNumber(e, t.DataParser.X, this._frameDefaultValue) * this._frameValueScale;
            this._frameFloatArray[s + 1] = r._getNumber(e, t.DataParser.Y, this._frameDefaultValue) * this._frameValueScale;
            break;
          }
      }
      return n;
    };
    r.prototype._parseActionFrame = function (t, e, a) {
      a;
      var r = this._frameArray.length;
      var i = t.actions.length;
      this._frameArray.length += 1 + 1 + i;
      this._frameArray[r + 0] = e;
      this._frameArray[r + 0 + 1] = i;
      for (var n = 0; n < i; ++n) {
        this._frameArray[r + 0 + 2 + n] = t.actions[n];
      }
      return r;
    };
    r.prototype._parseZOrderFrame = function (e, a, r) {
      var i = this._parseFrame(e, a, r);
      if (t.DataParser.Z_ORDER in e) {
        var n = e[t.DataParser.Z_ORDER];
        if (n.length > 0) {
          var s = this._armature.sortedSlots.length;
          var o = new Array(s - n.length / 2);
          var l = new Array(s);
          for (var h = 0; h < o.length; ++h) {
            o[h] = 0;
          }
          for (var u = 0; u < s; ++u) {
            l[u] = -1;
          }
          var f = 0;
          var _ = 0;
          for (var m = 0, p = n.length; m < p; m += 2) {
            var c = n[m];
            var d = n[m + 1];
            while (f !== c) {
              o[_++] = f++;
            }
            var y = f + d;
            l[y] = f++;
          }
          while (f < s) {
            o[_++] = f++;
          }
          this._frameArray.length += 1 + s;
          this._frameArray[i + 1] = s;
          var v = s;
          while (v--) {
            if (l[v] === -1) {
              this._frameArray[i + 2 + v] = o[--_] || 0;
            } else {
              this._frameArray[i + 2 + v] = l[v] || 0;
            }
          }
          return i;
        }
      }
      this._frameArray.length += 1;
      this._frameArray[i + 1] = 0;
      return i;
    };
    r.prototype._parseBoneAllFrame = function (e, a, i) {
      this._helpTransform.identity();
      if (t.DataParser.TRANSFORM in e) {
        this._parseTransform(e[t.DataParser.TRANSFORM], this._helpTransform, 1);
      }
      var n = this._helpTransform.rotation;
      if (a !== 0) {
        if (this._prevClockwise === 0) {
          n = this._prevRotation + t.Transform.normalizeRadian(n - this._prevRotation);
        } else {
          if (this._prevClockwise > 0 ? n >= this._prevRotation : n <= this._prevRotation) {
            this._prevClockwise = this._prevClockwise > 0 ? this._prevClockwise - 1 : this._prevClockwise + 1;
          }
          n = this._prevRotation + n - this._prevRotation + t.Transform.PI_D * this._prevClockwise;
        }
      }
      this._prevClockwise = r._getNumber(e, t.DataParser.TWEEN_ROTATE, 0);
      this._prevRotation = n;
      var s = this._parseTweenFrame(e, a, i);
      var o = this._frameFloatArray.length;
      this._frameFloatArray.length += 6;
      this._frameFloatArray[o++] = this._helpTransform.x;
      this._frameFloatArray[o++] = this._helpTransform.y;
      this._frameFloatArray[o++] = n;
      this._frameFloatArray[o++] = this._helpTransform.skew;
      this._frameFloatArray[o++] = this._helpTransform.scaleX;
      this._frameFloatArray[o++] = this._helpTransform.scaleY;
      this._parseActionDataInFrame(e, a, this._bone, this._slot);
      return s;
    };
    r.prototype._parseBoneTranslateFrame = function (e, a, i) {
      var n = this._parseTweenFrame(e, a, i);
      var s = this._frameFloatArray.length;
      this._frameFloatArray.length += 2;
      this._frameFloatArray[s++] = r._getNumber(e, t.DataParser.X, 0);
      this._frameFloatArray[s++] = r._getNumber(e, t.DataParser.Y, 0);
      return n;
    };
    r.prototype._parseBoneRotateFrame = function (e, a, i) {
      var n = r._getNumber(e, t.DataParser.ROTATE, 0) * t.Transform.DEG_RAD;
      if (a !== 0) {
        if (this._prevClockwise === 0) {
          n = this._prevRotation + t.Transform.normalizeRadian(n - this._prevRotation);
        } else {
          if (this._prevClockwise > 0 ? n >= this._prevRotation : n <= this._prevRotation) {
            this._prevClockwise = this._prevClockwise > 0 ? this._prevClockwise - 1 : this._prevClockwise + 1;
          }
          n = this._prevRotation + n - this._prevRotation + t.Transform.PI_D * this._prevClockwise;
        }
      }
      this._prevClockwise = r._getNumber(e, t.DataParser.CLOCK_WISE, 0);
      this._prevRotation = n;
      var s = this._parseTweenFrame(e, a, i);
      var o = this._frameFloatArray.length;
      this._frameFloatArray.length += 2;
      this._frameFloatArray[o++] = n;
      this._frameFloatArray[o++] = r._getNumber(e, t.DataParser.SKEW, 0) * t.Transform.DEG_RAD;
      return s;
    };
    r.prototype._parseBoneScaleFrame = function (e, a, i) {
      var n = this._parseTweenFrame(e, a, i);
      var s = this._frameFloatArray.length;
      this._frameFloatArray.length += 2;
      this._frameFloatArray[s++] = r._getNumber(e, t.DataParser.X, 1);
      this._frameFloatArray[s++] = r._getNumber(e, t.DataParser.Y, 1);
      return n;
    };
    r.prototype._parseSlotDisplayFrame = function (e, a, i) {
      var n = this._parseFrame(e, a, i);
      this._frameArray.length += 1;
      if (t.DataParser.VALUE in e) {
        this._frameArray[n + 1] = r._getNumber(e, t.DataParser.VALUE, 0);
      } else {
        this._frameArray[n + 1] = r._getNumber(e, t.DataParser.DISPLAY_INDEX, 0);
      }
      this._parseActionDataInFrame(e, a, this._slot.parent, this._slot);
      return n;
    };
    r.prototype._parseSlotColorFrame = function (e, a, r) {
      var i = this._parseTweenFrame(e, a, r);
      var n = -1;
      if (t.DataParser.VALUE in e || t.DataParser.COLOR in e) {
        var s = t.DataParser.VALUE in e ? e[t.DataParser.VALUE] : e[t.DataParser.COLOR];
        for (var o in s) {
          o;
          this._parseColorTransform(s, this._helpColorTransform);
          n = this._colorArray.length;
          this._colorArray.length += 8;
          this._colorArray[n++] = Math.round(this._helpColorTransform.alphaMultiplier * 100);
          this._colorArray[n++] = Math.round(this._helpColorTransform.redMultiplier * 100);
          this._colorArray[n++] = Math.round(this._helpColorTransform.greenMultiplier * 100);
          this._colorArray[n++] = Math.round(this._helpColorTransform.blueMultiplier * 100);
          this._colorArray[n++] = Math.round(this._helpColorTransform.alphaOffset);
          this._colorArray[n++] = Math.round(this._helpColorTransform.redOffset);
          this._colorArray[n++] = Math.round(this._helpColorTransform.greenOffset);
          this._colorArray[n++] = Math.round(this._helpColorTransform.blueOffset);
          n -= 8;
          break;
        }
      }
      if (n < 0) {
        if (this._defaultColorOffset < 0) {
          this._defaultColorOffset = n = this._colorArray.length;
          this._colorArray.length += 8;
          this._colorArray[n++] = 100;
          this._colorArray[n++] = 100;
          this._colorArray[n++] = 100;
          this._colorArray[n++] = 100;
          this._colorArray[n++] = 0;
          this._colorArray[n++] = 0;
          this._colorArray[n++] = 0;
          this._colorArray[n++] = 0;
        }
        n = this._defaultColorOffset;
      }
      var l = this._frameIntArray.length;
      this._frameIntArray.length += 1;
      this._frameIntArray[l] = n;
      return i;
    };
    r.prototype._parseSlotDeformFrame = function (e, a, i) {
      var n = this._frameFloatArray.length;
      var s = this._parseTweenFrame(e, a, i);
      var o = t.DataParser.VERTICES in e ? e[t.DataParser.VERTICES] : null;
      var l = r._getNumber(e, t.DataParser.OFFSET, 0);
      var h = this._intArray[this._mesh.geometry.offset + 0];
      var u = this._mesh.parent.name + "_" + this._slot.name + "_" + this._mesh.name;
      var f = this._mesh.geometry.weight;
      var _ = 0;
      var m = 0;
      var p = 0;
      var c = 0;
      if (f !== null) {
        var d = this._weightSlotPose[u];
        this._helpMatrixA.copyFromArray(d, 0);
        this._frameFloatArray.length += f.count * 2;
        p = f.offset + 2 + f.bones.length;
      } else {
        this._frameFloatArray.length += h * 2;
      }
      for (var y = 0; y < h * 2; y += 2) {
        if (o === null) {
          _ = 0;
          m = 0;
        } else {
          if (y < l || y - l >= o.length) {
            _ = 0;
          } else {
            _ = o[y - l];
          }
          if (y + 1 < l || y + 1 - l >= o.length) {
            m = 0;
          } else {
            m = o[y + 1 - l];
          }
        }
        if (f !== null) {
          var v = this._weightBonePoses[u];
          var g = this._intArray[p++];
          this._helpMatrixA.transformPoint(_, m, this._helpPoint, true);
          _ = this._helpPoint.x;
          m = this._helpPoint.y;
          for (var D = 0; D < g; ++D) {
            var T = this._intArray[p++];
            this._helpMatrixB.copyFromArray(v, T * 7 + 1);
            this._helpMatrixB.invert();
            this._helpMatrixB.transformPoint(_, m, this._helpPoint, true);
            this._frameFloatArray[n + c++] = this._helpPoint.x;
            this._frameFloatArray[n + c++] = this._helpPoint.y;
          }
        } else {
          this._frameFloatArray[n + y] = _;
          this._frameFloatArray[n + y + 1] = m;
        }
      }
      if (a === 0) {
        var b = this._frameIntArray.length;
        this._frameIntArray.length += 1 + 1 + 1 + 1 + 1;
        this._frameIntArray[b + 0] = this._mesh.geometry.offset;
        this._frameIntArray[b + 1] = this._frameFloatArray.length - n;
        this._frameIntArray[b + 2] = this._frameFloatArray.length - n;
        this._frameIntArray[b + 3] = 0;
        this._frameIntArray[b + 4] = n - this._animation.frameFloatOffset;
        this._timelineArray[this._timeline.offset + 3] = b - this._animation.frameIntOffset;
      }
      return s;
    };
    r.prototype._parseIKConstraintFrame = function (e, a, i) {
      var n = this._parseTweenFrame(e, a, i);
      var s = this._frameIntArray.length;
      this._frameIntArray.length += 2;
      this._frameIntArray[s++] = r._getBoolean(e, t.DataParser.BEND_POSITIVE, true) ? 1 : 0;
      this._frameIntArray[s++] = Math.round(r._getNumber(e, t.DataParser.WEIGHT, 1) * 100);
      return n;
    };
    r.prototype._parseActionData = function (e, a, i, n) {
      var s = new Array();
      if (typeof e === "string") {
        var o = t.BaseObject.borrowObject(t.ActionData);
        o.type = a;
        o.name = e;
        o.bone = i;
        o.slot = n;
        s.push(o);
      } else if (e instanceof Array) {
        for (var l = 0, h = e; l < h.length; l++) {
          var u = h[l];
          var o = t.BaseObject.borrowObject(t.ActionData);
          if (t.DataParser.GOTO_AND_PLAY in u) {
            o.type = 0;
            o.name = r._getString(u, t.DataParser.GOTO_AND_PLAY, "");
          } else {
            if (t.DataParser.TYPE in u && typeof u[t.DataParser.TYPE] === "string") {
              o.type = t.DataParser._getActionType(u[t.DataParser.TYPE]);
            } else {
              o.type = r._getNumber(u, t.DataParser.TYPE, a);
            }
            o.name = r._getString(u, t.DataParser.NAME, "");
          }
          if (t.DataParser.BONE in u) {
            var f = r._getString(u, t.DataParser.BONE, "");
            o.bone = this._armature.getBone(f);
          } else {
            o.bone = i;
          }
          if (t.DataParser.SLOT in u) {
            var _ = r._getString(u, t.DataParser.SLOT, "");
            o.slot = this._armature.getSlot(_);
          } else {
            o.slot = n;
          }
          var m = null;
          if (t.DataParser.INTS in u) {
            if (m === null) {
              m = t.BaseObject.borrowObject(t.UserData);
            }
            var p = u[t.DataParser.INTS];
            for (var c = 0, d = p; c < d.length; c++) {
              var y = d[c];
              m.addInt(y);
            }
          }
          if (t.DataParser.FLOATS in u) {
            if (m === null) {
              m = t.BaseObject.borrowObject(t.UserData);
            }
            var v = u[t.DataParser.FLOATS];
            for (var g = 0, D = v; g < D.length; g++) {
              var y = D[g];
              m.addFloat(y);
            }
          }
          if (t.DataParser.STRINGS in u) {
            if (m === null) {
              m = t.BaseObject.borrowObject(t.UserData);
            }
            var T = u[t.DataParser.STRINGS];
            for (var b = 0, A = T; b < A.length; b++) {
              var y = A[b];
              m.addString(y);
            }
          }
          o.data = m;
          s.push(o);
        }
      }
      return s;
    };
    r.prototype._parseDeformFrame = function (e, a, i) {
      var n = this._frameFloatArray.length;
      var s = this._parseTweenFrame(e, a, i);
      var o = t.DataParser.VERTICES in e ? e[t.DataParser.VERTICES] : t.DataParser.VALUE in e ? e[t.DataParser.VALUE] : null;
      var l = r._getNumber(e, t.DataParser.OFFSET, 0);
      var h = this._intArray[this._geometry.offset + 0];
      var u = this._geometry.weight;
      var f = 0;
      var _ = 0;
      if (u !== null) {} else {
        this._frameFloatArray.length += h * 2;
        for (var m = 0; m < h * 2; m += 2) {
          if (o !== null) {
            if (m < l || m - l >= o.length) {
              f = 0;
            } else {
              f = o[m - l];
            }
            if (m + 1 < l || m + 1 - l >= o.length) {
              _ = 0;
            } else {
              _ = o[m + 1 - l];
            }
          } else {
            f = 0;
            _ = 0;
          }
          this._frameFloatArray[n + m] = f;
          this._frameFloatArray[n + m + 1] = _;
        }
      }
      if (a === 0) {
        var p = this._frameIntArray.length;
        this._frameIntArray.length += 1 + 1 + 1 + 1 + 1;
        this._frameIntArray[p + 0] = this._geometry.offset;
        this._frameIntArray[p + 1] = this._frameFloatArray.length - n;
        this._frameIntArray[p + 2] = this._frameFloatArray.length - n;
        this._frameIntArray[p + 3] = 0;
        this._frameIntArray[p + 4] = n - this._animation.frameFloatOffset;
        this._timelineArray[this._timeline.offset + 3] = p - this._animation.frameIntOffset;
      }
      return s;
    };
    r.prototype._parseTransform = function (e, a, i) {
      a.x = r._getNumber(e, t.DataParser.X, 0) * i;
      a.y = r._getNumber(e, t.DataParser.Y, 0) * i;
      if (t.DataParser.ROTATE in e || t.DataParser.SKEW in e) {
        a.rotation = t.Transform.normalizeRadian(r._getNumber(e, t.DataParser.ROTATE, 0) * t.Transform.DEG_RAD);
        a.skew = t.Transform.normalizeRadian(r._getNumber(e, t.DataParser.SKEW, 0) * t.Transform.DEG_RAD);
      } else if (t.DataParser.SKEW_X in e || t.DataParser.SKEW_Y in e) {
        a.rotation = t.Transform.normalizeRadian(r._getNumber(e, t.DataParser.SKEW_Y, 0) * t.Transform.DEG_RAD);
        a.skew = t.Transform.normalizeRadian(r._getNumber(e, t.DataParser.SKEW_X, 0) * t.Transform.DEG_RAD) - a.rotation;
      }
      a.scaleX = r._getNumber(e, t.DataParser.SCALE_X, 1);
      a.scaleY = r._getNumber(e, t.DataParser.SCALE_Y, 1);
    };
    r.prototype._parseColorTransform = function (e, a) {
      a.alphaMultiplier = r._getNumber(e, t.DataParser.ALPHA_MULTIPLIER, 100) * 0.01;
      a.redMultiplier = r._getNumber(e, t.DataParser.RED_MULTIPLIER, 100) * 0.01;
      a.greenMultiplier = r._getNumber(e, t.DataParser.GREEN_MULTIPLIER, 100) * 0.01;
      a.blueMultiplier = r._getNumber(e, t.DataParser.BLUE_MULTIPLIER, 100) * 0.01;
      a.alphaOffset = r._getNumber(e, t.DataParser.ALPHA_OFFSET, 0);
      a.redOffset = r._getNumber(e, t.DataParser.RED_OFFSET, 0);
      a.greenOffset = r._getNumber(e, t.DataParser.GREEN_OFFSET, 0);
      a.blueOffset = r._getNumber(e, t.DataParser.BLUE_OFFSET, 0);
    };
    r.prototype._parseGeometry = function (e, a) {
      var r = e[t.DataParser.VERTICES];
      var i = Math.floor(r.length / 2);
      var n = 0;
      var s = this._intArray.length;
      var o = this._floatArray.length;
      a.offset = s;
      a.data = this._data;
      this._intArray.length += 1 + 1 + 1 + 1;
      this._intArray[s + 0] = i;
      this._intArray[s + 2] = o;
      this._intArray[s + 3] = -1;
      this._floatArray.length += i * 2;
      for (var l = 0, h = i * 2; l < h; ++l) {
        this._floatArray[o + l] = r[l];
      }
      if (t.DataParser.TRIANGLES in e) {
        var u = e[t.DataParser.TRIANGLES];
        n = Math.floor(u.length / 3);
        this._intArray.length += n * 3;
        for (var l = 0, h = n * 3; l < h; ++l) {
          this._intArray[s + 4 + l] = u[l];
        }
      }
      this._intArray[s + 1] = n;
      if (t.DataParser.UVS in e) {
        var f = e[t.DataParser.UVS];
        var _ = o + i * 2;
        this._floatArray.length += i * 2;
        for (var l = 0, h = i * 2; l < h; ++l) {
          this._floatArray[_ + l] = f[l];
        }
      }
      if (t.DataParser.WEIGHTS in e) {
        var m = e[t.DataParser.WEIGHTS];
        var p = Math.floor(m.length - i) / 2;
        var c = this._intArray.length;
        var d = this._floatArray.length;
        var y = 0;
        var v = this._armature.sortedBones;
        var g = t.BaseObject.borrowObject(t.WeightData);
        g.count = p;
        g.offset = c;
        this._intArray.length += 1 + 1 + y + i + p;
        this._intArray[c + 1] = d;
        if (t.DataParser.BONE_POSE in e) {
          var D = e[t.DataParser.SLOT_POSE];
          var T = e[t.DataParser.BONE_POSE];
          var b = new Array();
          y = Math.floor(T.length / 7);
          b.length = y;
          for (var l = 0; l < y; ++l) {
            var A = T[l * 7];
            var P = this._rawBones[A];
            g.addBone(P);
            b[l] = A;
            this._intArray[c + 2 + l] = v.indexOf(P);
          }
          this._floatArray.length += p * 3;
          this._helpMatrixA.copyFromArray(D, 0);
          for (var l = 0, S = 0, O = c + 2 + y, x = d; l < i; ++l) {
            var B = l * 2;
            var E = this._intArray[O++] = m[S++];
            var M = this._floatArray[o + B];
            var I = this._floatArray[o + B + 1];
            this._helpMatrixA.transformPoint(M, I, this._helpPoint);
            M = this._helpPoint.x;
            I = this._helpPoint.y;
            for (var F = 0; F < E; ++F) {
              var A = m[S++];
              var C = b.indexOf(A);
              this._helpMatrixB.copyFromArray(T, C * 7 + 1);
              this._helpMatrixB.invert();
              this._helpMatrixB.transformPoint(M, I, this._helpPoint);
              this._intArray[O++] = C;
              this._floatArray[x++] = m[S++];
              this._floatArray[x++] = this._helpPoint.x;
              this._floatArray[x++] = this._helpPoint.y;
            }
          }
        } else {
          var w = e[t.DataParser.BONES];
          y = w.length;
          for (var l = 0; l < y; l++) {
            var A = w[l];
            var P = this._rawBones[A];
            g.addBone(P);
            this._intArray[c + 2 + l] = v.indexOf(P);
          }
          this._floatArray.length += p * 3;
          for (var l = 0, S = 0, x = 0, O = c + 2 + y, N = d; l < p; l++) {
            var E = m[S++];
            this._intArray[O++] = E;
            for (var F = 0; F < E; F++) {
              var C = m[S++];
              var R = m[S++];
              var M = r[x++];
              var I = r[x++];
              this._intArray[O++] = w.indexOf(C);
              this._floatArray[N++] = R;
              this._floatArray[N++] = M;
              this._floatArray[N++] = I;
            }
          }
        }
        a.weight = g;
      }
    };
    r.prototype._parseArray = function (t) {
      t;
      this._intArray.length = 0;
      this._floatArray.length = 0;
      this._frameIntArray.length = 0;
      this._frameFloatArray.length = 0;
      this._frameArray.length = 0;
      this._timelineArray.length = 0;
      this._colorArray.length = 0;
    };
    r.prototype._modifyArray = function () {
      if (this._intArray.length % Int16Array.BYTES_PER_ELEMENT !== 0) {
        this._intArray.push(0);
      }
      if (this._frameIntArray.length % Int16Array.BYTES_PER_ELEMENT !== 0) {
        this._frameIntArray.push(0);
      }
      if (this._frameArray.length % Int16Array.BYTES_PER_ELEMENT !== 0) {
        this._frameArray.push(0);
      }
      if (this._timelineArray.length % Uint16Array.BYTES_PER_ELEMENT !== 0) {
        this._timelineArray.push(0);
      }
      if (this._timelineArray.length % Int16Array.BYTES_PER_ELEMENT !== 0) {
        this._colorArray.push(0);
      }
      var t = this._intArray.length * Int16Array.BYTES_PER_ELEMENT;
      var e = this._floatArray.length * Float32Array.BYTES_PER_ELEMENT;
      var a = this._frameIntArray.length * Int16Array.BYTES_PER_ELEMENT;
      var r = this._frameFloatArray.length * Float32Array.BYTES_PER_ELEMENT;
      var i = this._frameArray.length * Int16Array.BYTES_PER_ELEMENT;
      var n = this._timelineArray.length * Uint16Array.BYTES_PER_ELEMENT;
      var s = this._colorArray.length * Int16Array.BYTES_PER_ELEMENT;
      var o = t + e + a + r + i + n + s;
      var l = new ArrayBuffer(o);
      var h = new Int16Array(l, 0, this._intArray.length);
      var u = new Float32Array(l, t, this._floatArray.length);
      var f = new Int16Array(l, t + e, this._frameIntArray.length);
      var _ = new Float32Array(l, t + e + a, this._frameFloatArray.length);
      var m = new Int16Array(l, t + e + a + r, this._frameArray.length);
      var p = new Uint16Array(l, t + e + a + r + i, this._timelineArray.length);
      var c = new Int16Array(l, t + e + a + r + i + n, this._colorArray.length);
      for (var d = 0, y = this._intArray.length; d < y; ++d) {
        h[d] = this._intArray[d];
      }
      for (var d = 0, y = this._floatArray.length; d < y; ++d) {
        u[d] = this._floatArray[d];
      }
      for (var d = 0, y = this._frameIntArray.length; d < y; ++d) {
        f[d] = this._frameIntArray[d];
      }
      for (var d = 0, y = this._frameFloatArray.length; d < y; ++d) {
        _[d] = this._frameFloatArray[d];
      }
      for (var d = 0, y = this._frameArray.length; d < y; ++d) {
        m[d] = this._frameArray[d];
      }
      for (var d = 0, y = this._timelineArray.length; d < y; ++d) {
        p[d] = this._timelineArray[d];
      }
      for (var d = 0, y = this._colorArray.length; d < y; ++d) {
        c[d] = this._colorArray[d];
      }
      this._data.binary = l;
      this._data.intArray = h;
      this._data.floatArray = u;
      this._data.frameIntArray = f;
      this._data.frameFloatArray = _;
      this._data.frameArray = m;
      this._data.timelineArray = p;
      this._data.colorArray = c;
      this._defaultColorOffset = -1;
    };
    r.prototype.parseDragonBonesData = function (e, a) {
      if (a === void 0) {
        a = 1;
      }
      console.assert(e !== null && e !== undefined, "Data error.");
      var i = r._getString(e, t.DataParser.VERSION, "");
      var n = r._getString(e, t.DataParser.COMPATIBLE_VERSION, "");
      if (t.DataParser.DATA_VERSIONS.indexOf(i) >= 0 || t.DataParser.DATA_VERSIONS.indexOf(n) >= 0) {
        var s = t.BaseObject.borrowObject(t.DragonBonesData);
        s.version = i;
        s.name = r._getString(e, t.DataParser.NAME, "");
        s.frameRate = r._getNumber(e, t.DataParser.FRAME_RATE, 24);
        if (s.frameRate === 0) {
          s.frameRate = 24;
        }
        if (t.DataParser.ARMATURE in e) {
          this._data = s;
          this._parseArray(e);
          var o = e[t.DataParser.ARMATURE];
          for (var l = 0, h = o; l < h.length; l++) {
            var u = h[l];
            s.addArmature(this._parseArmature(u, a));
          }
          if (!this._data.binary) {
            this._modifyArray();
          }
          if (t.DataParser.STAGE in e) {
            s.stage = s.getArmature(r._getString(e, t.DataParser.STAGE, ""));
          } else if (s.armatureNames.length > 0) {
            s.stage = s.getArmature(s.armatureNames[0]);
          }
          this._data = null;
        }
        if (t.DataParser.TEXTURE_ATLAS in e) {
          this._rawTextureAtlases = e[t.DataParser.TEXTURE_ATLAS];
        }
        return s;
      } else {
        console.assert(false, "Nonsupport data version: " + i + "\n" + "Please convert DragonBones data to support version.\n" + "Read more: https://github.com/DragonBones/Tools/");
      }
      return null;
    };
    r.prototype.parseTextureAtlasData = function (e, a, i) {
      if (i === void 0) {
        i = 1;
      }
      console.assert(e !== undefined);
      if (e === null) {
        if (this._rawTextureAtlases === null || this._rawTextureAtlases.length === 0) {
          return false;
        }
        var n = this._rawTextureAtlases[this._rawTextureAtlasIndex++];
        this.parseTextureAtlasData(n, a, i);
        if (this._rawTextureAtlasIndex >= this._rawTextureAtlases.length) {
          this._rawTextureAtlasIndex = 0;
          this._rawTextureAtlases = null;
        }
        return true;
      }
      a.width = r._getNumber(e, t.DataParser.WIDTH, 0);
      a.height = r._getNumber(e, t.DataParser.HEIGHT, 0);
      a.scale = i === 1 ? 1 / r._getNumber(e, t.DataParser.SCALE, 1) : i;
      a.name = r._getString(e, t.DataParser.NAME, "");
      a.imagePath = r._getString(e, t.DataParser.IMAGE_PATH, "");
      if (t.DataParser.SUB_TEXTURE in e) {
        var s = e[t.DataParser.SUB_TEXTURE];
        for (var o = 0, l = s.length; o < l; ++o) {
          var h = s[o];
          var u = r._getNumber(h, t.DataParser.FRAME_WIDTH, -1);
          var f = r._getNumber(h, t.DataParser.FRAME_HEIGHT, -1);
          var _ = a.createTexture();
          _.rotated = r._getBoolean(h, t.DataParser.ROTATED, false);
          _.name = r._getString(h, t.DataParser.NAME, "");
          _.region.x = r._getNumber(h, t.DataParser.X, 0);
          _.region.y = r._getNumber(h, t.DataParser.Y, 0);
          _.region.width = r._getNumber(h, t.DataParser.WIDTH, 0);
          _.region.height = r._getNumber(h, t.DataParser.HEIGHT, 0);
          if (u > 0 && f > 0) {
            _.frame = t.TextureData.createRectangle();
            _.frame.x = r._getNumber(h, t.DataParser.FRAME_X, 0);
            _.frame.y = r._getNumber(h, t.DataParser.FRAME_Y, 0);
            _.frame.width = u;
            _.frame.height = f;
          }
          a.addTexture(_);
        }
      }
      return true;
    };
    r.getInstance = function () {
      if (r._objectDataParserInstance === null) {
        r._objectDataParserInstance = new r();
      }
      return r._objectDataParserInstance;
    };
    r._objectDataParserInstance = null;
    return r;
  }(t.DataParser);
  t.ObjectDataParser = e;
  var a = function () {
    function t() {
      this.frameStart = 0;
      this.actions = [];
    }
    return t;
  }();
  t.ActionFrame = a;
})(dragonBones || (dragonBones = {}));
var dragonBones;
(function (t) {
  var e = function (e) {
    __extends(a, e);
    function a() {
      return e !== null && e.apply(this, arguments) || this;
    }
    a.prototype._inRange = function (t, e, a) {
      return e <= t && t <= a;
    };
    a.prototype._decodeUTF8 = function (t) {
      var e = -1;
      var a = -1;
      var r = 65533;
      var i = 0;
      var n = "";
      var s;
      var o = 0;
      var l = 0;
      var h = 0;
      var u = 0;
      while (t.length > i) {
        var f = t[i++];
        if (f === e) {
          if (l !== 0) {
            s = r;
          } else {
            s = a;
          }
        } else {
          if (l === 0) {
            if (this._inRange(f, 0, 127)) {
              s = f;
            } else {
              if (this._inRange(f, 194, 223)) {
                l = 1;
                u = 128;
                o = f - 192;
              } else if (this._inRange(f, 224, 239)) {
                l = 2;
                u = 2048;
                o = f - 224;
              } else if (this._inRange(f, 240, 244)) {
                l = 3;
                u = 65536;
                o = f - 240;
              } else {}
              o = o * Math.pow(64, l);
              s = null;
            }
          } else if (!this._inRange(f, 128, 191)) {
            o = 0;
            l = 0;
            h = 0;
            u = 0;
            i--;
            s = f;
          } else {
            h += 1;
            o = o + (f - 128) * Math.pow(64, l - h);
            if (h !== l) {
              s = null;
            } else {
              var _ = o;
              var m = u;
              o = 0;
              l = 0;
              h = 0;
              u = 0;
              if (this._inRange(_, m, 1114111) && !this._inRange(_, 55296, 57343)) {
                s = _;
              } else {
                s = f;
              }
            }
          }
        }
        if (s !== null && s !== a) {
          if (s <= 65535) {
            if (s > 0) n += String.fromCharCode(s);
          } else {
            s -= 65536;
            n += String.fromCharCode(55296 + (s >> 10 & 1023));
            n += String.fromCharCode(56320 + (s & 1023));
          }
        }
      }
      return n;
    };
    a.prototype._parseBinaryTimeline = function (e, a, r) {
      if (r === void 0) {
        r = null;
      }
      var i = r !== null ? r : t.BaseObject.borrowObject(t.TimelineData);
      i.type = e;
      i.offset = a;
      this._timeline = i;
      var n = this._timelineArrayBuffer[i.offset + 2];
      if (n === 1) {
        i.frameIndicesOffset = -1;
      } else {
        var s = 0;
        var o = this._animation.frameCount + 1;
        var l = this._data.frameIndices;
        s = l.length;
        l.length += o;
        i.frameIndicesOffset = s;
        for (var h = 0, u = 0, f = 0, _ = 0; h < o; ++h) {
          if (f + _ <= h && u < n) {
            f = this._frameArrayBuffer[this._animation.frameOffset + this._timelineArrayBuffer[i.offset + 5 + u]];
            if (u === n - 1) {
              _ = this._animation.frameCount - f;
            } else {
              _ = this._frameArrayBuffer[this._animation.frameOffset + this._timelineArrayBuffer[i.offset + 5 + u + 1]] - f;
            }
            u++;
          }
          l[s + h] = u - 1;
        }
      }
      this._timeline = null;
      return i;
    };
    a.prototype._parseAnimation = function (e) {
      var a = t.BaseObject.borrowObject(t.AnimationData);
      a.blendType = t.DataParser._getAnimationBlendType(t.ObjectDataParser._getString(e, t.DataParser.BLEND_TYPE, ""));
      a.frameCount = t.ObjectDataParser._getNumber(e, t.DataParser.DURATION, 0);
      a.playTimes = t.ObjectDataParser._getNumber(e, t.DataParser.PLAY_TIMES, 1);
      a.duration = a.frameCount / this._armature.frameRate;
      a.fadeInTime = t.ObjectDataParser._getNumber(e, t.DataParser.FADE_IN_TIME, 0);
      a.scale = t.ObjectDataParser._getNumber(e, t.DataParser.SCALE, 1);
      a.name = t.ObjectDataParser._getString(e, t.DataParser.NAME, t.DataParser.DEFAULT_NAME);
      if (a.name.length === 0) {
        a.name = t.DataParser.DEFAULT_NAME;
      }
      var r = e[t.DataParser.OFFSET];
      a.frameIntOffset = r[0];
      a.frameFloatOffset = r[1];
      a.frameOffset = r[2];
      this._animation = a;
      if (t.DataParser.ACTION in e) {
        a.actionTimeline = this._parseBinaryTimeline(0, e[t.DataParser.ACTION]);
      }
      if (t.DataParser.Z_ORDER in e) {
        a.zOrderTimeline = this._parseBinaryTimeline(1, e[t.DataParser.Z_ORDER]);
      }
      if (t.DataParser.BONE in e) {
        var i = e[t.DataParser.BONE];
        for (var n in i) {
          var s = i[n];
          var o = this._armature.getBone(n);
          if (o === null) {
            continue;
          }
          for (var l = 0, h = s.length; l < h; l += 2) {
            var u = s[l];
            var f = s[l + 1];
            var _ = this._parseBinaryTimeline(u, f);
            this._animation.addBoneTimeline(o.name, _);
          }
        }
      }
      if (t.DataParser.SLOT in e) {
        var i = e[t.DataParser.SLOT];
        for (var n in i) {
          var s = i[n];
          var m = this._armature.getSlot(n);
          if (m === null) {
            continue;
          }
          for (var l = 0, h = s.length; l < h; l += 2) {
            var u = s[l];
            var f = s[l + 1];
            var _ = this._parseBinaryTimeline(u, f);
            this._animation.addSlotTimeline(m.name, _);
          }
        }
      }
      if (t.DataParser.CONSTRAINT in e) {
        var i = e[t.DataParser.CONSTRAINT];
        for (var n in i) {
          var s = i[n];
          var p = this._armature.getConstraint(n);
          if (p === null) {
            continue;
          }
          for (var l = 0, h = s.length; l < h; l += 2) {
            var u = s[l];
            var f = s[l + 1];
            var _ = this._parseBinaryTimeline(u, f);
            this._animation.addConstraintTimeline(p.name, _);
          }
        }
      }
      if (t.DataParser.TIMELINE in e) {
        var s = e[t.DataParser.TIMELINE];
        for (var c = 0, d = s; c < d.length; c++) {
          var y = d[c];
          var f = t.ObjectDataParser._getNumber(y, t.DataParser.OFFSET, 0);
          if (f >= 0) {
            var u = t.ObjectDataParser._getNumber(y, t.DataParser.TYPE, 0);
            var v = t.ObjectDataParser._getString(y, t.DataParser.NAME, "");
            var _ = null;
            if (u === 40 && a.blendType !== 0) {
              _ = t.BaseObject.borrowObject(t.AnimationTimelineData);
              var g = _;
              g.x = t.ObjectDataParser._getNumber(y, t.DataParser.X, 0);
              g.y = t.ObjectDataParser._getNumber(y, t.DataParser.Y, 0);
            }
            _ = this._parseBinaryTimeline(u, f, _);
            switch (u) {
              case 0:
                break;
              case 1:
                break;
              case 11:
              case 12:
              case 13:
              case 50:
              case 60:
                this._animation.addBoneTimeline(v, _);
                break;
              case 20:
              case 21:
              case 22:
              case 23:
              case 24:
                this._animation.addSlotTimeline(v, _);
                break;
              case 30:
                this._animation.addConstraintTimeline(v, _);
                break;
              case 40:
              case 41:
              case 42:
                this._animation.addAnimationTimeline(v, _);
                break;
            }
          }
        }
      }
      this._animation = null;
      return a;
    };
    a.prototype._parseGeometry = function (e, a) {
      a.offset = e[t.DataParser.OFFSET];
      a.data = this._data;
      var r = this._intArrayBuffer[a.offset + 3];
      if (r >= 0) {
        var i = t.BaseObject.borrowObject(t.WeightData);
        var n = this._intArrayBuffer[a.offset + 0];
        var s = this._intArrayBuffer[r + 0];
        i.offset = r;
        for (var o = 0; o < s; ++o) {
          var l = this._intArrayBuffer[r + 2 + o];
          i.addBone(this._rawBones[l]);
        }
        var h = r + 2 + s;
        var u = 0;
        for (var o = 0, f = n; o < f; ++o) {
          var _ = this._intArrayBuffer[h++];
          u += _;
          h += _;
        }
        i.count = u;
        a.weight = i;
      }
    };
    a.prototype._parseArray = function (e) {
      var a = e[t.DataParser.OFFSET];
      var r = a[1];
      var i = a[3];
      var n = a[5];
      var s = a[7];
      var o = a[9];
      var l = a[11];
      var h = a.length > 12 ? a[13] : 0;
      var u = new Int16Array(this._binary, this._binaryOffset + a[0], r / Int16Array.BYTES_PER_ELEMENT);
      var f = new Float32Array(this._binary, this._binaryOffset + a[2], i / Float32Array.BYTES_PER_ELEMENT);
      var _ = new Int16Array(this._binary, this._binaryOffset + a[4], n / Int16Array.BYTES_PER_ELEMENT);
      var m = new Float32Array(this._binary, this._binaryOffset + a[6], s / Float32Array.BYTES_PER_ELEMENT);
      var p = new Int16Array(this._binary, this._binaryOffset + a[8], o / Int16Array.BYTES_PER_ELEMENT);
      var c = new Uint16Array(this._binary, this._binaryOffset + a[10], l / Uint16Array.BYTES_PER_ELEMENT);
      var d = h > 0 ? new Int16Array(this._binary, this._binaryOffset + a[12], h / Int16Array.BYTES_PER_ELEMENT) : u;
      this._data.binary = this._binary;
      this._data.intArray = this._intArrayBuffer = u;
      this._data.floatArray = f;
      this._data.frameIntArray = _;
      this._data.frameFloatArray = m;
      this._data.frameArray = this._frameArrayBuffer = p;
      this._data.timelineArray = this._timelineArrayBuffer = c;
      this._data.colorArray = d;
    };
    a.prototype.parseDragonBonesData = function (t, a) {
      if (a === void 0) {
        a = 1;
      }
      console.assert(t !== null && t !== undefined && t instanceof ArrayBuffer, "Data error.");
      var r = new Uint8Array(t, 0, 8);
      if (r[0] !== "D".charCodeAt(0) || r[1] !== "B".charCodeAt(0) || r[2] !== "D".charCodeAt(0) || r[3] !== "T".charCodeAt(0)) {
        console.assert(false, "Nonsupport data.");
        return null;
      }
      var i = new Uint32Array(t, 8, 1)[0];
      var n = new Uint8Array(t, 8 + 4, i);
      var s = this._decodeUTF8(n);
      var o = JSON.parse(s);
      this._binaryOffset = 8 + 4 + i;
      this._binary = t;
      return e.prototype.parseDragonBonesData.call(this, o, a);
    };
    a.getInstance = function () {
      if (a._binaryDataParserInstance === null) {
        a._binaryDataParserInstance = new a();
      }
      return a._binaryDataParserInstance;
    };
    a._binaryDataParserInstance = null;
    return a;
  }(t.ObjectDataParser);
  t.BinaryDataParser = e;
})(dragonBones || (dragonBones = {}));
var dragonBones;
(function (t) {
  var e = function () {
    function e(a) {
      if (a === void 0) {
        a = null;
      }
      this.autoSearch = false;
      this._dragonBonesDataMap = {};
      this._textureAtlasDataMap = {};
      this._dragonBones = null;
      this._dataParser = null;
      if (e._objectParser === null) {
        e._objectParser = new t.ObjectDataParser();
      }
      if (e._binaryParser === null) {
        e._binaryParser = new t.BinaryDataParser();
      }
      this._dataParser = a !== null ? a : e._objectParser;
    }
    e.prototype._isSupportMesh = function () {
      return true;
    };
    e.prototype._getTextureData = function (t, e) {
      if (t in this._textureAtlasDataMap) {
        for (var a = 0, r = this._textureAtlasDataMap[t]; a < r.length; a++) {
          var i = r[a];
          var n = i.getTexture(e);
          if (n !== null) {
            return n;
          }
        }
      }
      if (this.autoSearch) {
        for (var s in this._textureAtlasDataMap) {
          for (var o = 0, l = this._textureAtlasDataMap[s]; o < l.length; o++) {
            var i = l[o];
            if (i.autoSearch) {
              var n = i.getTexture(e);
              if (n !== null) {
                return n;
              }
            }
          }
        }
      }
      return null;
    };
    e.prototype._fillBuildArmaturePackage = function (t, e, a, r, i) {
      var n = null;
      var s = null;
      if (e.length > 0) {
        if (e in this._dragonBonesDataMap) {
          n = this._dragonBonesDataMap[e];
          s = n.getArmature(a);
        }
      }
      if (s === null && (e.length === 0 || this.autoSearch)) {
        for (var o in this._dragonBonesDataMap) {
          n = this._dragonBonesDataMap[o];
          if (e.length === 0 || n.autoSearch) {
            s = n.getArmature(a);
            if (s !== null) {
              e = o;
              break;
            }
          }
        }
      }
      if (s !== null) {
        t.dataName = e;
        t.textureAtlasName = i;
        t.data = n;
        t.armature = s;
        t.skin = null;
        if (r.length > 0) {
          t.skin = s.getSkin(r);
          if (t.skin === null && this.autoSearch) {
            for (var o in this._dragonBonesDataMap) {
              var l = this._dragonBonesDataMap[o];
              var h = l.getArmature(r);
              if (h !== null) {
                t.skin = h.defaultSkin;
                break;
              }
            }
          }
        }
        if (t.skin === null) {
          t.skin = s.defaultSkin;
        }
        return true;
      }
      return false;
    };
    e.prototype._buildBones = function (e, a) {
      for (var r = 0, i = e.armature.sortedBones; r < i.length; r++) {
        var n = i[r];
        var s = t.BaseObject.borrowObject(n.type === 0 ? t.Bone : t.Surface);
        s.init(n, a);
      }
    };
    e.prototype._buildSlots = function (t, e) {
      var a = t.skin;
      var r = t.armature.defaultSkin;
      if (a === null || r === null) {
        return;
      }
      var i = {};
      for (var n in r.displays) {
        var s = r.getDisplays(n);
        i[n] = s;
      }
      if (a !== r) {
        for (var n in a.displays) {
          var s = a.getDisplays(n);
          i[n] = s;
        }
      }
      for (var o = 0, l = t.armature.sortedSlots; o < l.length; o++) {
        var h = l[o];
        var u = h.name in i ? i[h.name] : null;
        var f = this._buildSlot(t, h, e);
        if (u !== null) {
          f.displayFrameCount = u.length;
          for (var _ = 0, m = f.displayFrameCount; _ < m; ++_) {
            var p = u[_];
            f.replaceRawDisplayData(p, _);
            if (p !== null) {
              if (t.textureAtlasName.length > 0) {
                var c = this._getTextureData(t.textureAtlasName, p.path);
                f.replaceTextureData(c, _);
              }
              var d = this._getSlotDisplay(t, p, f);
              f.replaceDisplay(d, _);
            } else {
              f.replaceDisplay(null);
            }
          }
        }
        f._setDisplayIndex(h.displayIndex, true);
      }
    };
    e.prototype._buildConstraints = function (e, a) {
      var r = e.armature.constraints;
      for (var i in r) {
        var n = r[i];
        switch (n.type) {
          case 0:
            var s = t.BaseObject.borrowObject(t.IKConstraint);
            s.init(n, a);
            a._addConstraint(s);
            break;
          case 1:
            var o = t.BaseObject.borrowObject(t.PathConstraint);
            o.init(n, a);
            a._addConstraint(o);
            break;
          default:
            var l = t.BaseObject.borrowObject(t.IKConstraint);
            l.init(n, a);
            a._addConstraint(l);
            break;
        }
      }
    };
    e.prototype._buildChildArmature = function (t, e, a) {
      return this.buildArmature(a.path, t !== null ? t.dataName : "", "", t !== null ? t.textureAtlasName : "");
    };
    e.prototype._getSlotDisplay = function (e, a, r) {
      var i = e !== null ? e.dataName : a.parent.parent.parent.name;
      var n = null;
      switch (a.type) {
        case 0:
          {
            var s = a;
            if (s.texture === null) {
              s.texture = this._getTextureData(i, a.path);
            }
            n = r.rawDisplay;
            break;
          }
        case 2:
          {
            var o = a;
            if (o.texture === null) {
              o.texture = this._getTextureData(i, o.path);
            }
            if (this._isSupportMesh()) {
              n = r.meshDisplay;
            } else {
              n = r.rawDisplay;
            }
            break;
          }
        case 1:
          {
            var l = a;
            var h = this._buildChildArmature(e, r, l);
            if (h !== null) {
              h.inheritAnimation = l.inheritAnimation;
              if (!h.inheritAnimation) {
                var u = l.actions.length > 0 ? l.actions : h.armatureData.defaultActions;
                if (u.length > 0) {
                  for (var f = 0, _ = u; f < _.length; f++) {
                    var m = _[f];
                    var p = t.BaseObject.borrowObject(t.EventObject);
                    t.EventObject.actionDataToInstance(m, p, r.armature);
                    p.slot = r;
                    r.armature._bufferAction(p, false);
                  }
                } else {
                  h.animation.play();
                }
              }
              l.armature = h.armatureData;
            }
            n = h;
            break;
          }
        case 3:
          break;
        default:
          break;
      }
      return n;
    };
    e.prototype.parseDragonBonesData = function (t, a, r) {
      if (a === void 0) {
        a = null;
      }
      if (r === void 0) {
        r = 1;
      }
      var i = t instanceof ArrayBuffer ? e._binaryParser : this._dataParser;
      var n = i.parseDragonBonesData(t, r);
      while (true) {
        var s = this._buildTextureAtlasData(null, null);
        if (i.parseTextureAtlasData(null, s, r)) {
          this.addTextureAtlasData(s, a);
        } else {
          s.returnToPool();
          break;
        }
      }
      if (n !== null) {
        this.addDragonBonesData(n, a);
      }
      return n;
    };
    e.prototype.parseTextureAtlasData = function (t, e, a, r) {
      if (a === void 0) {
        a = null;
      }
      if (r === void 0) {
        r = 1;
      }
      var i = this._buildTextureAtlasData(null, null);
      this._dataParser.parseTextureAtlasData(t, i, r);
      this._buildTextureAtlasData(i, e || null);
      this.addTextureAtlasData(i, a);
      return i;
    };
    e.prototype.updateTextureAtlases = function (t, e) {
      var a = this.getTextureAtlasData(e);
      if (a !== null) {
        for (var r = 0, i = a.length; r < i; ++r) {
          if (r < t.length) {
            this._buildTextureAtlasData(a[r], t[r]);
          }
        }
      }
    };
    e.prototype.getDragonBonesData = function (t) {
      return t in this._dragonBonesDataMap ? this._dragonBonesDataMap[t] : null;
    };
    e.prototype.addDragonBonesData = function (t, e) {
      if (e === void 0) {
        e = null;
      }
      e = e !== null ? e : t.name;
      if (e in this._dragonBonesDataMap) {
        if (this._dragonBonesDataMap[e] === t) {
          return;
        }
        console.warn("Can not add same name data: " + e);
        return;
      }
      this._dragonBonesDataMap[e] = t;
    };
    e.prototype.removeDragonBonesData = function (t, e) {
      if (e === void 0) {
        e = true;
      }
      if (t in this._dragonBonesDataMap) {
        if (e) {
          this._dragonBones.bufferObject(this._dragonBonesDataMap[t]);
        }
        delete this._dragonBonesDataMap[t];
      }
    };
    e.prototype.getTextureAtlasData = function (t) {
      return t in this._textureAtlasDataMap ? this._textureAtlasDataMap[t] : null;
    };
    e.prototype.addTextureAtlasData = function (t, e) {
      if (e === void 0) {
        e = null;
      }
      e = e !== null ? e : t.name;
      var a = e in this._textureAtlasDataMap ? this._textureAtlasDataMap[e] : this._textureAtlasDataMap[e] = [];
      if (a.indexOf(t) < 0) {
        a.push(t);
      }
    };
    e.prototype.removeTextureAtlasData = function (t, e) {
      if (e === void 0) {
        e = true;
      }
      if (t in this._textureAtlasDataMap) {
        var a = this._textureAtlasDataMap[t];
        if (e) {
          for (var r = 0, i = a; r < i.length; r++) {
            var n = i[r];
            this._dragonBones.bufferObject(n);
          }
        }
        delete this._textureAtlasDataMap[t];
      }
    };
    e.prototype.getArmatureData = function (t, e) {
      if (e === void 0) {
        e = "";
      }
      var r = new a();
      if (!this._fillBuildArmaturePackage(r, e, t, "", "")) {
        return null;
      }
      return r.armature;
    };
    e.prototype.clear = function (t) {
      if (t === void 0) {
        t = true;
      }
      for (var e in this._dragonBonesDataMap) {
        if (t) {
          this._dragonBones.bufferObject(this._dragonBonesDataMap[e]);
        }
        delete this._dragonBonesDataMap[e];
      }
      for (var e in this._textureAtlasDataMap) {
        if (t) {
          var a = this._textureAtlasDataMap[e];
          for (var r = 0, i = a; r < i.length; r++) {
            var n = i[r];
            this._dragonBones.bufferObject(n);
          }
        }
        delete this._textureAtlasDataMap[e];
      }
    };
    e.prototype.buildArmature = function (t, e, r, i) {
      if (e === void 0) {
        e = "";
      }
      if (r === void 0) {
        r = "";
      }
      if (i === void 0) {
        i = "";
      }
      var n = new a();
      if (!this._fillBuildArmaturePackage(n, e || "", t, r || "", i || "")) {
        console.warn("No armature data: " + t + ", " + (e !== null ? e : ""));
        return null;
      }
      var s = this._buildArmature(n);
      this._buildBones(n, s);
      this._buildSlots(n, s);
      this._buildConstraints(n, s);
      s.invalidUpdate(null, true);
      s.advanceTime(0);
      return s;
    };
    e.prototype.replaceDisplay = function (t, e, a) {
      if (a === void 0) {
        a = -1;
      }
      if (a < 0) {
        a = t.displayIndex;
      }
      if (a < 0) {
        a = 0;
      }
      t.replaceDisplayData(e, a);
      if (e !== null) {
        var r = this._getSlotDisplay(null, e, t);
        if (e.type === 0) {
          var i = t.getDisplayFrameAt(a).rawDisplayData;
          if (i !== null && i.type === 2) {
            r = t.meshDisplay;
          }
        }
        t.replaceDisplay(r, a);
      } else {
        t.replaceDisplay(null, a);
      }
    };
    e.prototype.replaceSlotDisplay = function (t, e, a, r, i, n) {
      if (n === void 0) {
        n = -1;
      }
      var s = this.getArmatureData(e, t || "");
      if (s === null || s.defaultSkin === null) {
        return false;
      }
      var o = s.defaultSkin.getDisplay(a, r);
      this.replaceDisplay(i, o, n);
      return true;
    };
    e.prototype.replaceSlotDisplayList = function (t, e, a, r) {
      var i = this.getArmatureData(e, t || "");
      if (!i || !i.defaultSkin) {
        return false;
      }
      var n = i.defaultSkin.getDisplays(a);
      if (!n) {
        return false;
      }
      r.displayFrameCount = n.length;
      for (var s = 0, o = r.displayFrameCount; s < o; ++s) {
        var l = n[s];
        this.replaceDisplay(r, l, s);
      }
      return true;
    };
    e.prototype.replaceSkin = function (t, e, a, r) {
      if (a === void 0) {
        a = false;
      }
      if (r === void 0) {
        r = null;
      }
      var i = false;
      var n = e.parent.defaultSkin;
      for (var s = 0, o = t.getSlots(); s < o.length; s++) {
        var l = o[s];
        if (r !== null && r.indexOf(l.name) >= 0) {
          continue;
        }
        var h = e.getDisplays(l.name);
        if (h === null) {
          if (n !== null && e !== n) {
            h = n.getDisplays(l.name);
          }
          if (h === null) {
            if (a) {
              l.displayFrameCount = 0;
            }
            continue;
          }
        }
        l.displayFrameCount = h.length;
        for (var u = 0, f = l.displayFrameCount; u < f; ++u) {
          var _ = h[u];
          l.replaceRawDisplayData(_, u);
          if (_ !== null) {
            l.replaceDisplay(this._getSlotDisplay(null, _, l), u);
          } else {
            l.replaceDisplay(null, u);
          }
        }
        i = true;
      }
      return i;
    };
    e.prototype.replaceAnimation = function (e, a, r) {
      if (r === void 0) {
        r = true;
      }
      var i = a.defaultSkin;
      if (i === null) {
        return false;
      }
      if (r) {
        e.animation.animations = a.animations;
      } else {
        var n = e.animation.animations;
        var s = {};
        for (var o in n) {
          s[o] = n[o];
        }
        for (var o in a.animations) {
          s[o] = a.animations[o];
        }
        e.animation.animations = s;
      }
      for (var l = 0, h = e.getSlots(); l < h.length; l++) {
        var u = h[l];
        var f = 0;
        for (var _ = 0, m = u.displayList; _ < m.length; _++) {
          var p = m[_];
          if (p instanceof t.Armature) {
            var c = i.getDisplays(u.name);
            if (c !== null && f < c.length) {
              var d = c[f];
              if (d !== null && d.type === 1) {
                var y = this.getArmatureData(d.path, d.parent.parent.parent.name);
                if (y) {
                  this.replaceAnimation(p, y, r);
                }
              }
            }
          }
          f++;
        }
      }
      return true;
    };
    e.prototype.getAllDragonBonesData = function () {
      return this._dragonBonesDataMap;
    };
    e.prototype.getAllTextureAtlasData = function () {
      return this._textureAtlasDataMap;
    };
    Object.defineProperty(e.prototype, "clock", {
      get: function get() {
        return this._dragonBones.clock;
      },
      enumerable: true,
      configurable: true
    });
    Object.defineProperty(e.prototype, "dragonBones", {
      get: function get() {
        return this._dragonBones;
      },
      enumerable: true,
      configurable: true
    });
    e._objectParser = null;
    e._binaryParser = null;
    return e;
  }();
  t.BaseFactory = e;
  var a = function () {
    function t() {
      this.dataName = "";
      this.textureAtlasName = "";
      this.skin = null;
    }
    return t;
  }();
  t.BuildArmaturePackage = a;
})(dragonBones || (dragonBones = {}));
var dragonBones;
(function (t) {
  var e = function (e) {
    __extends(r, e);
    function r() {
      var t = e !== null && e.apply(this, arguments) || this;
      t._renderTexture = null;
      return t;
    }
    r.toString = function () {
      return "[class dragonBones.PixiTextureAtlasData]";
    };
    r.prototype._onClear = function () {
      e.prototype._onClear.call(this);
      if (this._renderTexture !== null) {}
      this._renderTexture = null;
    };
    r.prototype.createTexture = function () {
      return t.BaseObject.borrowObject(a);
    };
    Object.defineProperty(r.prototype, "renderTexture", {
      get: function get() {
        return this._renderTexture;
      },
      set: function set(t) {
        if (this._renderTexture === t) {
          return;
        }
        this._renderTexture = t;
        if (this._renderTexture !== null) {
          for (var e in this.textures) {
            var a = this.textures[e];
            a.renderTexture = new PIXI.Texture(this._renderTexture, new PIXI.Rectangle(a.region.x, a.region.y, a.region.width, a.region.height), new PIXI.Rectangle(a.region.x, a.region.y, a.region.width, a.region.height), new PIXI.Rectangle(0, 0, a.region.width, a.region.height), a.rotated);
          }
        } else {
          for (var e in this.textures) {
            var a = this.textures[e];
            a.renderTexture = null;
          }
        }
      },
      enumerable: true,
      configurable: true
    });
    return r;
  }(t.TextureAtlasData);
  t.PixiTextureAtlasData = e;
  var a = function (t) {
    __extends(e, t);
    function e() {
      var e = t !== null && t.apply(this, arguments) || this;
      e.renderTexture = null;
      return e;
    }
    e.toString = function () {
      return "[class dragonBones.PixiTextureData]";
    };
    e.prototype._onClear = function () {
      t.prototype._onClear.call(this);
      if (this.renderTexture !== null) {
        this.renderTexture.destroy(false);
      }
      this.renderTexture = null;
    };
    return e;
  }(t.TextureData);
  t.PixiTextureData = a;
})(dragonBones || (dragonBones = {}));
var dragonBones;
(function (t) {
  var e = function (e) {
    __extends(a, e);
    function a() {
      var t = e !== null && e.apply(this, arguments) || this;
      t.debugDraw = false;
      t._debugDraw = false;
      t._armature = null;
      t._debugDrawer = null;
      return t;
    }
    a.prototype.dbInit = function (t) {
      this._armature = t;
    };
    a.prototype.dbClear = function () {
      if (this._debugDrawer !== null) {
        this._debugDrawer.destroy(true);
      }
      this._armature = null;
      this._debugDrawer = null;
      e.prototype.destroy.call(this);
    };
    a.prototype.dbUpdate = function () {
      var e = t.DragonBones.debugDraw || this.debugDraw;
      if (e || this._debugDraw) {
        this._debugDraw = e;
        if (this._debugDraw) {
          if (this._debugDrawer === null) {
            this._debugDrawer = new PIXI.Sprite();
            var a = new PIXI.Graphics();
            this._debugDrawer.addChild(a);
          }
          this.addChild(this._debugDrawer);
          var r = this._debugDrawer.getChildAt(0);
          r.clear();
          var i = this._armature.getBones();
          for (var n = 0, s = i.length; n < s; ++n) {
            var o = i[n];
            var l = o.boneData.length;
            var h = o.globalTransformMatrix.tx;
            var u = o.globalTransformMatrix.ty;
            var f = h + o.globalTransformMatrix.a * l;
            var _ = u + o.globalTransformMatrix.b * l;
            r.lineStyle(2, 65535, 0.7);
            r.moveTo(h, u);
            r.lineTo(f, _);
            r.lineStyle(0, 0, 0);
            r.beginFill(65535, 0.7);
            r.drawCircle(h, u, 3);
            r.endFill();
          }
          var m = this._armature.getSlots();
          for (var n = 0, s = m.length; n < s; ++n) {
            var p = m[n];
            var c = p.boundingBoxData;
            if (c) {
              var d = this._debugDrawer.getChildByName(p.name);
              if (!d) {
                d = new PIXI.Graphics();
                d.name = p.name;
                this._debugDrawer.addChild(d);
              }
              d.clear();
              d.lineStyle(2, 16711935, 0.7);
              switch (c.type) {
                case 0:
                  d.drawRect(-c.width * 0.5, -c.height * 0.5, c.width, c.height);
                  break;
                case 1:
                  d.drawEllipse(-c.width * 0.5, -c.height * 0.5, c.width, c.height);
                  break;
                case 2:
                  var y = c.vertices;
                  for (var v = 0, g = y.length; v < g; v += 2) {
                    var D = y[v];
                    var T = y[v + 1];
                    if (v === 0) {
                      d.moveTo(D, T);
                    } else {
                      d.lineTo(D, T);
                    }
                  }
                  d.lineTo(y[0], y[1]);
                  break;
                default:
                  break;
              }
              d.endFill();
              p.updateTransformAndMatrix();
              p.updateGlobalTransform();
              var b = p.global;
              d.setTransform(b.x, b.y, b.scaleX, b.scaleY, b.rotation, b.skew, 0, p._pivotX, p._pivotY);
            } else {
              var d = this._debugDrawer.getChildByName(p.name);
              if (d) {
                this._debugDrawer.removeChild(d);
              }
            }
          }
        } else if (this._debugDrawer !== null && this._debugDrawer.parent === this) {
          this.removeChild(this._debugDrawer);
        }
      }
    };
    a.prototype.dispose = function (t) {
      if (t === void 0) {
        t = true;
      }
      t;
      if (this._armature !== null) {
        this._armature.dispose();
        this._armature = null;
      }
    };
    a.prototype.destroy = function () {
      this.dispose();
    };
    a.prototype.dispatchDBEvent = function (t, e) {
      this.emit(t, e);
    };
    a.prototype.hasDBEventListener = function (t) {
      return this.listeners(t, true);
    };
    a.prototype.addDBEventListener = function (t, e, a) {
      this.addListener(t, e, a);
    };
    a.prototype.removeDBEventListener = function (t, e, a) {
      this.removeListener(t, e, a);
    };
    Object.defineProperty(a.prototype, "armature", {
      get: function get() {
        return this._armature;
      },
      enumerable: true,
      configurable: true
    });
    Object.defineProperty(a.prototype, "animation", {
      get: function get() {
        return this._armature.animation;
      },
      enumerable: true,
      configurable: true
    });
    return a;
  }(PIXI.Sprite);
  t.PixiArmatureDisplay = e;
})(dragonBones || (dragonBones = {}));
var dragonBones;
(function (t) {
  var e = function (e) {
    __extends(a, e);
    function a() {
      return e !== null && e.apply(this, arguments) || this;
    }
    a.toString = function () {
      return "[class dragonBones.PixiSlot]";
    };
    a.prototype._onClear = function () {
      e.prototype._onClear.call(this);
      this._textureScale = 1;
      this._renderDisplay = null;
      this._updateTransform = PIXI.VERSION[0] === "3" ? this._updateTransformV3 : this._updateTransformV4;
    };
    a.prototype._initDisplay = function (t, e) {
      t;
      e;
    };
    a.prototype._disposeDisplay = function (t, e) {
      t;
      if (!e) {
        t.destroy();
      }
    };
    a.prototype._onUpdateDisplay = function () {
      this._renderDisplay = this._display ? this._display : this._rawDisplay;
    };
    a.prototype._addDisplay = function () {
      var t = this._armature.display;
      t.addChild(this._renderDisplay);
    };
    a.prototype._replaceDisplay = function (t) {
      var e = this._armature.display;
      var a = t;
      e.addChild(this._renderDisplay);
      e.swapChildren(this._renderDisplay, a);
      e.removeChild(a);
      this._textureScale = 1;
    };
    a.prototype._removeDisplay = function () {
      this._renderDisplay.parent.removeChild(this._renderDisplay);
    };
    a.prototype._updateZOrder = function () {
      var t = this._armature.display;
      var e = t.getChildIndex(this._renderDisplay);
      if (e === this._zOrder) {
        return;
      }
      t.addChildAt(this._renderDisplay, this._zOrder);
    };
    a.prototype._updateVisible = function () {
      this._renderDisplay.visible = this._parent.visible && this._visible;
    };
    a.prototype._updateBlendMode = function () {
      if (this._renderDisplay instanceof PIXI.Sprite) {
        switch (this._blendMode) {
          case 0:
            this._renderDisplay.blendMode = PIXI.BLEND_MODES.NORMAL;
            break;
          case 1:
            this._renderDisplay.blendMode = PIXI.BLEND_MODES.ADD;
            break;
          case 3:
            this._renderDisplay.blendMode = PIXI.BLEND_MODES.DARKEN;
            break;
          case 4:
            this._renderDisplay.blendMode = PIXI.BLEND_MODES.DIFFERENCE;
            break;
          case 6:
            this._renderDisplay.blendMode = PIXI.BLEND_MODES.HARD_LIGHT;
            break;
          case 9:
            this._renderDisplay.blendMode = PIXI.BLEND_MODES.LIGHTEN;
            break;
          case 10:
            this._renderDisplay.blendMode = PIXI.BLEND_MODES.MULTIPLY;
            break;
          case 11:
            this._renderDisplay.blendMode = PIXI.BLEND_MODES.OVERLAY;
            break;
          case 12:
            this._renderDisplay.blendMode = PIXI.BLEND_MODES.SCREEN;
            break;
          default:
            break;
        }
      }
    };
    a.prototype._updateColor = function () {
      var t = this._colorTransform.alphaMultiplier * this._globalAlpha;
      this._renderDisplay.alpha = t;
      if (this._renderDisplay instanceof PIXI.Sprite || this._renderDisplay instanceof PIXI.mesh.Mesh) {
        var e = (Math.round(this._colorTransform.redMultiplier * 255) << 16) + (Math.round(this._colorTransform.greenMultiplier * 255) << 8) + Math.round(this._colorTransform.blueMultiplier * 255);
        this._renderDisplay.tint = e;
      }
    };
    a.prototype._updateFrame = function () {
      var e = this._textureData;
      if (this._displayIndex >= 0 && this._display !== null && e !== null) {
        var a = e.parent;
        if (this._armature.replacedTexture !== null) {
          if (this._armature._replaceTextureAtlasData === null) {
            a = t.BaseObject.borrowObject(t.PixiTextureAtlasData);
            a.copyFrom(e.parent);
            a.renderTexture = this._armature.replacedTexture;
            this._armature._replaceTextureAtlasData = a;
          } else {
            a = this._armature._replaceTextureAtlasData;
          }
          e = a.getTexture(e.name);
        }
        var r = e.renderTexture;
        if (r !== null) {
          if (this._geometryData !== null) {
            var i = this._geometryData.data;
            var n = i.intArray;
            var s = i.floatArray;
            var o = n[this._geometryData.offset + 0];
            var l = n[this._geometryData.offset + 1];
            var h = n[this._geometryData.offset + 2];
            if (h < 0) {
              h += 65536;
            }
            var u = h + o * 2;
            var f = this._armature._armatureData.scale;
            var _ = this._renderDisplay;
            var m = a.width > 0 ? a.width : r.baseTexture.width;
            var p = a.height > 0 ? a.height : r.baseTexture.height;
            var c = e.region;
            _.vertices = new Float32Array(o * 2);
            _.uvs = new Float32Array(o * 2);
            _.indices = new Uint16Array(l * 3);
            for (var d = 0, y = o * 2; d < y; ++d) {
              _.vertices[d] = s[h + d] * f;
            }
            for (var d = 0; d < l * 3; ++d) {
              _.indices[d] = n[this._geometryData.offset + 4 + d];
            }
            for (var d = 0, y = o * 2; d < y; d += 2) {
              var v = s[u + d];
              var g = s[u + d + 1];
              if (e.rotated) {
                _.uvs[d] = (c.x + (1 - g) * c.width) / m;
                _.uvs[d + 1] = (c.y + v * c.height) / p;
              } else {
                _.uvs[d] = (c.x + v * c.width) / m;
                _.uvs[d + 1] = (c.y + g * c.height) / p;
              }
            }
            this._textureScale = 1;
            _.texture = r;
            _.dirty++;
            _.indexDirty++;
            var D = this._geometryData.weight !== null;
            var T = this._parent._boneData.type !== 0;
            if (D || T) {
              this._identityTransform();
            }
          } else {
            this._textureScale = e.parent.scale * this._armature._armatureData.scale;
            var b = this._renderDisplay;
            b.texture = r;
          }
          this._visibleDirty = true;
          return;
        }
      }
      if (this._geometryData !== null) {
        var _ = this._renderDisplay;
        _.texture = null;
        _.x = 0;
        _.y = 0;
        _.visible = false;
      } else {
        var b = this._renderDisplay;
        b.texture = null;
        b.x = 0;
        b.y = 0;
        b.visible = false;
      }
    };
    a.prototype._updateMesh = function () {
      var t = this._armature._armatureData.scale;
      var e = this._displayFrame.deformVertices;
      var a = this._geometryBones;
      var r = this._geometryData;
      var i = r.weight;
      var n = e.length > 0 && r.inheritDeform;
      var s = this._renderDisplay;
      if (i !== null) {
        var o = r.data;
        var l = o.intArray;
        var h = o.floatArray;
        var u = l[r.offset + 0];
        var f = l[i.offset + 1];
        if (f < 0) {
          f += 65536;
        }
        for (var _ = 0, m = 0, p = i.offset + 2 + a.length, c = f, d = 0; _ < u; ++_) {
          var y = l[p++];
          var v = 0,
            g = 0;
          for (var D = 0; D < y; ++D) {
            var T = l[p++];
            var b = a[T];
            if (b !== null) {
              var A = b.globalTransformMatrix;
              var P = h[c++];
              var S = h[c++] * t;
              var O = h[c++] * t;
              if (n) {
                S += e[d++];
                O += e[d++];
              }
              v += (A.a * S + A.c * O + A.tx) * P;
              g += (A.b * S + A.d * O + A.ty) * P;
            }
          }
          s.vertices[m++] = v;
          s.vertices[m++] = g;
        }
      } else {
        var x = this._parent._boneData.type !== 0;
        var o = r.data;
        var l = o.intArray;
        var h = o.floatArray;
        var u = l[r.offset + 0];
        var B = l[r.offset + 2];
        if (B < 0) {
          B += 65536;
        }
        for (var _ = 0, E = u * 2; _ < E; _ += 2) {
          var M = h[B + _] * t;
          var I = h[B + _ + 1] * t;
          if (n) {
            M += e[_];
            I += e[_ + 1];
          }
          if (x) {
            var A = this._parent._getGlobalTransformMatrix(M, I);
            s.vertices[_] = A.a * M + A.c * I + A.tx;
            s.vertices[_ + 1] = A.b * M + A.d * I + A.ty;
          } else {
            s.vertices[_] = M;
            s.vertices[_ + 1] = I;
          }
        }
      }
    };
    a.prototype._updateTransform = function () {
      throw new Error();
    };
    a.prototype._updateTransformV3 = function () {
      this.updateGlobalTransform();
      var t = this.global;
      if (this._renderDisplay === this._rawDisplay || this._renderDisplay === this._meshDisplay) {
        var e = t.x - (this.globalTransformMatrix.a * this._pivotX + this.globalTransformMatrix.c * this._pivotY);
        var a = t.y - (this.globalTransformMatrix.b * this._pivotX + this.globalTransformMatrix.d * this._pivotY);
        this._renderDisplay.setTransform(e, a, t.scaleX * this._textureScale, t.scaleY * this._textureScale, t.rotation, t.skew, 0);
      } else {
        this._renderDisplay.position.set(t.x, t.y);
        this._renderDisplay.rotation = t.rotation;
        this._renderDisplay.skew.set(t.skew, 0);
        this._renderDisplay.scale.set(t.scaleX, t.scaleY);
      }
    };
    a.prototype._updateTransformV4 = function () {
      this.updateGlobalTransform();
      var t = this.global;
      if (this._renderDisplay === this._rawDisplay || this._renderDisplay === this._meshDisplay) {
        var e = t.x - (this.globalTransformMatrix.a * this._pivotX + this.globalTransformMatrix.c * this._pivotY);
        var a = t.y - (this.globalTransformMatrix.b * this._pivotX + this.globalTransformMatrix.d * this._pivotY);
        this._renderDisplay.setTransform(e, a, t.scaleX * this._textureScale, t.scaleY * this._textureScale, t.rotation, -t.skew, 0);
      } else {
        this._renderDisplay.position.set(t.x, t.y);
        this._renderDisplay.rotation = t.rotation;
        this._renderDisplay.skew.set(-t.skew, 0);
        this._renderDisplay.scale.set(t.scaleX, t.scaleY);
      }
    };
    a.prototype._identityTransform = function () {
      this._renderDisplay.setTransform(0, 0, 1, 1, 0, 0, 0);
    };
    return a;
  }(t.Slot);
  t.PixiSlot = e;
})(dragonBones || (dragonBones = {}));
var dragonBones;
(function (t) {
  var e = function (e) {
    __extends(a, e);
    function a(r) {
      if (r === void 0) {
        r = null;
      }
      var i = e.call(this, r) || this;
      if (a._dragonBonesInstance === null) {
        var n = new t.PixiArmatureDisplay();
        a._dragonBonesInstance = new t.DragonBones(n);
        PIXI.ticker.shared.add(a._clockHandler, a);
      }
      i._dragonBones = a._dragonBonesInstance;
      return i;
    }
    a._clockHandler = function (t) {
      this._dragonBonesInstance.advanceTime(PIXI.ticker.shared.elapsedMS * t * 0.001);
    };
    Object.defineProperty(a, "factory", {
      get: function get() {
        if (a._factory === null) {
          a._factory = new a();
        }
        return a._factory;
      },
      enumerable: true,
      configurable: true
    });
    a.prototype._buildTextureAtlasData = function (e, a) {
      if (e) {
        e.renderTexture = a;
      } else {
        e = t.BaseObject.borrowObject(t.PixiTextureAtlasData);
      }
      return e;
    };
    a.prototype._buildArmature = function (e) {
      var a = t.BaseObject.borrowObject(t.Armature);
      var r = new t.PixiArmatureDisplay();
      a.init(e.armature, r, r, this._dragonBones);
      return a;
    };
    a.prototype._buildSlot = function (e, a, r) {
      var i = t.BaseObject.borrowObject(t.PixiSlot);
      i.init(a, r, new PIXI.Sprite(), new PIXI.mesh.Mesh(null, null, null, null, PIXI.mesh.Mesh.DRAW_MODES.TRIANGLES));
      return i;
    };
    a.prototype.buildArmatureDisplay = function (t, e, a, r) {
      if (e === void 0) {
        e = "";
      }
      if (a === void 0) {
        a = "";
      }
      if (r === void 0) {
        r = "";
      }
      var i = this.buildArmature(t, e || "", a || "", r || "");
      if (i !== null) {
        this._dragonBones.clock.add(i);
        return i.display;
      }
      return null;
    };
    a.prototype.getTextureDisplay = function (t, e) {
      if (e === void 0) {
        e = null;
      }
      var a = this._getTextureData(e !== null ? e : "", t);
      if (a !== null && a.renderTexture !== null) {
        return new PIXI.Sprite(a.renderTexture);
      }
      return null;
    };
    Object.defineProperty(a.prototype, "soundEventManager", {
      get: function get() {
        return this._dragonBones.eventManager;
      },
      enumerable: true,
      configurable: true
    });
    a._dragonBonesInstance = null;
    a._factory = null;
    return a;
  }(t.BaseFactory);
  t.PixiFactory = e;
})(dragonBones || (dragonBones = {}));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (dragonBones);

/***/ }),

/***/ "./js/game/pixi.min.js":
/*!*****************************!*\
  !*** ./js/game/pixi.min.js ***!
  \*****************************/
/***/ ((module, exports, __webpack_require__) => {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
/*!
 * pixi.js - v4.8.7
 * Compiled Fri, 22 Mar 2019 16:20:41 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
!function (t) {
  if ("object" == ( false ? 0 : _typeof(exports)) && "undefined" != "object") module.exports = t();else if (true) !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (t),
		__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
		(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));else { var e; }
}(function () {
  var t;
  return function () {
    function t(e, r, n) {
      function i(s, a) {
        if (!r[s]) {
          if (!e[s]) {
            var u = undefined;
            if (!a && u) return require(s, !0);
            if (o) return o(s, !0);
            var h = new Error("Cannot find module '" + s + "'");
            throw h.code = "MODULE_NOT_FOUND", h;
          }
          var l = r[s] = {
            exports: {}
          };
          e[s][0].call(l.exports, function (t) {
            var r = e[s][1][t];
            return i(r || t);
          }, l, l.exports, t, e, r, n);
        }
        return r[s].exports;
      }
      for (var o = undefined, s = 0; s < n.length; s++) i(n[s]);
      return i;
    }
    return t;
  }()({
    1: [function (t, e, r) {
      "use strict";
      "use restrict";

      function n(t) {
        var e = 32;
        return t &= -t, t && e--, 65535 & t && (e -= 16), 16711935 & t && (e -= 8), 252645135 & t && (e -= 4), 858993459 & t && (e -= 2), 1431655765 & t && (e -= 1), e;
      }
      r.INT_BITS = 32, r.INT_MAX = 2147483647, r.INT_MIN = -1 << 31, r.sign = function (t) {
        return (t > 0) - (t < 0);
      }, r.abs = function (t) {
        var e = t >> 31;
        return (t ^ e) - e;
      }, r.min = function (t, e) {
        return e ^ (t ^ e) & -(t < e);
      }, r.max = function (t, e) {
        return t ^ (t ^ e) & -(t < e);
      }, r.isPow2 = function (t) {
        return !(t & t - 1 || !t);
      }, r.log2 = function (t) {
        var e, r;
        return e = (t > 65535) << 4, t >>>= e, r = (t > 255) << 3, t >>>= r, e |= r, r = (t > 15) << 2, t >>>= r, e |= r, r = (t > 3) << 1, t >>>= r, (e |= r) | t >> 1;
      }, r.log10 = function (t) {
        return t >= 1e9 ? 9 : t >= 1e8 ? 8 : t >= 1e7 ? 7 : t >= 1e6 ? 6 : t >= 1e5 ? 5 : t >= 1e4 ? 4 : t >= 1e3 ? 3 : t >= 100 ? 2 : t >= 10 ? 1 : 0;
      }, r.popCount = function (t) {
        return t -= t >>> 1 & 1431655765, 16843009 * ((t = (858993459 & t) + (t >>> 2 & 858993459)) + (t >>> 4) & 252645135) >>> 24;
      }, r.countTrailingZeros = n, r.nextPow2 = function (t) {
        return t += 0 === t, --t, t |= t >>> 1, t |= t >>> 2, t |= t >>> 4, t |= t >>> 8, (t |= t >>> 16) + 1;
      }, r.prevPow2 = function (t) {
        return t |= t >>> 1, t |= t >>> 2, t |= t >>> 4, t |= t >>> 8, (t |= t >>> 16) - (t >>> 1);
      }, r.parity = function (t) {
        return t ^= t >>> 16, t ^= t >>> 8, t ^= t >>> 4, 27030 >>> (t &= 15) & 1;
      };
      var i = new Array(256);
      !function (t) {
        for (var e = 0; e < 256; ++e) {
          var r = e,
            n = e,
            i = 7;
          for (r >>>= 1; r; r >>>= 1) n <<= 1, n |= 1 & r, --i;
          t[e] = n << i & 255;
        }
      }(i), r.reverse = function (t) {
        return i[255 & t] << 24 | i[t >>> 8 & 255] << 16 | i[t >>> 16 & 255] << 8 | i[t >>> 24 & 255];
      }, r.interleave2 = function (t, e) {
        return t &= 65535, t = 16711935 & (t | t << 8), t = 252645135 & (t | t << 4), t = 858993459 & (t | t << 2), t = 1431655765 & (t | t << 1), e &= 65535, e = 16711935 & (e | e << 8), e = 252645135 & (e | e << 4), e = 858993459 & (e | e << 2), e = 1431655765 & (e | e << 1), t | e << 1;
      }, r.deinterleave2 = function (t, e) {
        return t = t >>> e & 1431655765, t = 858993459 & (t | t >>> 1), t = 252645135 & (t | t >>> 2), t = 16711935 & (t | t >>> 4), (t = 65535 & (t | t >>> 16)) << 16 >> 16;
      }, r.interleave3 = function (t, e, r) {
        return t &= 1023, t = 4278190335 & (t | t << 16), t = 251719695 & (t | t << 8), t = 3272356035 & (t | t << 4), t = 1227133513 & (t | t << 2), e &= 1023, e = 4278190335 & (e | e << 16), e = 251719695 & (e | e << 8), e = 3272356035 & (e | e << 4), e = 1227133513 & (e | e << 2), t |= e << 1, r &= 1023, r = 4278190335 & (r | r << 16), r = 251719695 & (r | r << 8), r = 3272356035 & (r | r << 4), r = 1227133513 & (r | r << 2), t | r << 2;
      }, r.deinterleave3 = function (t, e) {
        return t = t >>> e & 1227133513, t = 3272356035 & (t | t >>> 2), t = 251719695 & (t | t >>> 4), t = 4278190335 & (t | t >>> 8), (t = 1023 & (t | t >>> 16)) << 22 >> 22;
      }, r.nextCombination = function (t) {
        var e = t | t - 1;
        return e + 1 | (~e & -~e) - 1 >>> n(t) + 1;
      };
    }, {}],
    2: [function (t, e, r) {
      "use strict";

      function n(t, e, r) {
        r = r || 2;
        var n = e && e.length,
          o = n ? e[0] * r : t.length,
          a = i(t, 0, o, r, !0),
          u = [];
        if (!a || a.next === a.prev) return u;
        var h, l, d, f, p, v, g;
        if (n && (a = c(t, e, a, r)), t.length > 80 * r) {
          h = d = t[0], l = f = t[1];
          for (var y = r; y < o; y += r) p = t[y], v = t[y + 1], p < h && (h = p), v < l && (l = v), p > d && (d = p), v > f && (f = v);
          g = Math.max(d - h, f - l), g = 0 !== g ? 1 / g : 0;
        }
        return s(a, u, r, h, l, g), u;
      }
      function i(t, e, r, n, i) {
        var o, s;
        if (i === A(t, e, r, n) > 0) for (o = e; o < r; o += n) s = P(o, t[o], t[o + 1], s);else for (o = r - n; o >= e; o -= n) s = P(o, t[o], t[o + 1], s);
        return s && T(s, s.next) && (C(s), s = s.next), s;
      }
      function o(t, e) {
        if (!t) return t;
        e || (e = t);
        var r,
          n = t;
        do {
          if (r = !1, n.steiner || !T(n, n.next) && 0 !== x(n.prev, n, n.next)) n = n.next;else {
            if (C(n), (n = e = n.prev) === n.next) break;
            r = !0;
          }
        } while (r || n !== e);
        return e;
      }
      function s(t, e, r, n, i, c, d) {
        if (t) {
          !d && c && v(t, n, i, c);
          for (var f, p, g = t; t.prev !== t.next;) if (f = t.prev, p = t.next, c ? u(t, n, i, c) : a(t)) e.push(f.i / r), e.push(t.i / r), e.push(p.i / r), C(t), t = p.next, g = p.next;else if ((t = p) === g) {
            d ? 1 === d ? (t = h(t, e, r), s(t, e, r, n, i, c, 2)) : 2 === d && l(t, e, r, n, i, c) : s(o(t), e, r, n, i, c, 1);
            break;
          }
        }
      }
      function a(t) {
        var e = t.prev,
          r = t,
          n = t.next;
        if (x(e, r, n) >= 0) return !1;
        for (var i = t.next.next; i !== t.prev;) {
          if (_(e.x, e.y, r.x, r.y, n.x, n.y, i.x, i.y) && x(i.prev, i, i.next) >= 0) return !1;
          i = i.next;
        }
        return !0;
      }
      function u(t, e, r, n) {
        var i = t.prev,
          o = t,
          s = t.next;
        if (x(i, o, s) >= 0) return !1;
        for (var a = i.x < o.x ? i.x < s.x ? i.x : s.x : o.x < s.x ? o.x : s.x, u = i.y < o.y ? i.y < s.y ? i.y : s.y : o.y < s.y ? o.y : s.y, h = i.x > o.x ? i.x > s.x ? i.x : s.x : o.x > s.x ? o.x : s.x, l = i.y > o.y ? i.y > s.y ? i.y : s.y : o.y > s.y ? o.y : s.y, c = y(a, u, e, r, n), d = y(h, l, e, r, n), f = t.prevZ, p = t.nextZ; f && f.z >= c && p && p.z <= d;) {
          if (f !== t.prev && f !== t.next && _(i.x, i.y, o.x, o.y, s.x, s.y, f.x, f.y) && x(f.prev, f, f.next) >= 0) return !1;
          if (f = f.prevZ, p !== t.prev && p !== t.next && _(i.x, i.y, o.x, o.y, s.x, s.y, p.x, p.y) && x(p.prev, p, p.next) >= 0) return !1;
          p = p.nextZ;
        }
        for (; f && f.z >= c;) {
          if (f !== t.prev && f !== t.next && _(i.x, i.y, o.x, o.y, s.x, s.y, f.x, f.y) && x(f.prev, f, f.next) >= 0) return !1;
          f = f.prevZ;
        }
        for (; p && p.z <= d;) {
          if (p !== t.prev && p !== t.next && _(i.x, i.y, o.x, o.y, s.x, s.y, p.x, p.y) && x(p.prev, p, p.next) >= 0) return !1;
          p = p.nextZ;
        }
        return !0;
      }
      function h(t, e, r) {
        var n = t;
        do {
          var i = n.prev,
            o = n.next.next;
          !T(i, o) && w(i, n, n.next, o) && S(i, o) && S(o, i) && (e.push(i.i / r), e.push(n.i / r), e.push(o.i / r), C(n), C(n.next), n = t = o), n = n.next;
        } while (n !== t);
        return n;
      }
      function l(t, e, r, n, i, a) {
        var u = t;
        do {
          for (var h = u.next.next; h !== u.prev;) {
            if (u.i !== h.i && b(u, h)) {
              var l = M(u, h);
              return u = o(u, u.next), l = o(l, l.next), s(u, e, r, n, i, a), void s(l, e, r, n, i, a);
            }
            h = h.next;
          }
          u = u.next;
        } while (u !== t);
      }
      function c(t, e, r, n) {
        var s,
          a,
          u,
          h,
          l,
          c = [];
        for (s = 0, a = e.length; s < a; s++) u = e[s] * n, h = s < a - 1 ? e[s + 1] * n : t.length, l = i(t, u, h, n, !1), l === l.next && (l.steiner = !0), c.push(m(l));
        for (c.sort(d), s = 0; s < c.length; s++) f(c[s], r), r = o(r, r.next);
        return r;
      }
      function d(t, e) {
        return t.x - e.x;
      }
      function f(t, e) {
        if (e = p(t, e)) {
          var r = M(e, t);
          o(r, r.next);
        }
      }
      function p(t, e) {
        var r,
          n = e,
          i = t.x,
          o = t.y,
          s = -1 / 0;
        do {
          if (o <= n.y && o >= n.next.y && n.next.y !== n.y) {
            var a = n.x + (o - n.y) * (n.next.x - n.x) / (n.next.y - n.y);
            if (a <= i && a > s) {
              if (s = a, a === i) {
                if (o === n.y) return n;
                if (o === n.next.y) return n.next;
              }
              r = n.x < n.next.x ? n : n.next;
            }
          }
          n = n.next;
        } while (n !== e);
        if (!r) return null;
        if (i === s) return r.prev;
        var u,
          h = r,
          l = r.x,
          c = r.y,
          d = 1 / 0;
        for (n = r.next; n !== h;) i >= n.x && n.x >= l && i !== n.x && _(o < c ? i : s, o, l, c, o < c ? s : i, o, n.x, n.y) && ((u = Math.abs(o - n.y) / (i - n.x)) < d || u === d && n.x > r.x) && S(n, t) && (r = n, d = u), n = n.next;
        return r;
      }
      function v(t, e, r, n) {
        var i = t;
        do {
          null === i.z && (i.z = y(i.x, i.y, e, r, n)), i.prevZ = i.prev, i.nextZ = i.next, i = i.next;
        } while (i !== t);
        i.prevZ.nextZ = null, i.prevZ = null, g(i);
      }
      function g(t) {
        var e,
          r,
          n,
          i,
          o,
          s,
          a,
          u,
          h = 1;
        do {
          for (r = t, t = null, o = null, s = 0; r;) {
            for (s++, n = r, a = 0, e = 0; e < h && (a++, n = n.nextZ); e++);
            for (u = h; a > 0 || u > 0 && n;) 0 !== a && (0 === u || !n || r.z <= n.z) ? (i = r, r = r.nextZ, a--) : (i = n, n = n.nextZ, u--), o ? o.nextZ = i : t = i, i.prevZ = o, o = i;
            r = n;
          }
          o.nextZ = null, h *= 2;
        } while (s > 1);
        return t;
      }
      function y(t, e, r, n, i) {
        return t = 32767 * (t - r) * i, e = 32767 * (e - n) * i, t = 16711935 & (t | t << 8), t = 252645135 & (t | t << 4), t = 858993459 & (t | t << 2), t = 1431655765 & (t | t << 1), e = 16711935 & (e | e << 8), e = 252645135 & (e | e << 4), e = 858993459 & (e | e << 2), e = 1431655765 & (e | e << 1), t | e << 1;
      }
      function m(t) {
        var e = t,
          r = t;
        do {
          e.x < r.x && (r = e), e = e.next;
        } while (e !== t);
        return r;
      }
      function _(t, e, r, n, i, o, s, a) {
        return (i - s) * (e - a) - (t - s) * (o - a) >= 0 && (t - s) * (n - a) - (r - s) * (e - a) >= 0 && (r - s) * (o - a) - (i - s) * (n - a) >= 0;
      }
      function b(t, e) {
        return t.next.i !== e.i && t.prev.i !== e.i && !E(t, e) && S(t, e) && S(e, t) && O(t, e);
      }
      function x(t, e, r) {
        return (e.y - t.y) * (r.x - e.x) - (e.x - t.x) * (r.y - e.y);
      }
      function T(t, e) {
        return t.x === e.x && t.y === e.y;
      }
      function w(t, e, r, n) {
        return !!(T(t, e) && T(r, n) || T(t, n) && T(r, e)) || x(t, e, r) > 0 != x(t, e, n) > 0 && x(r, n, t) > 0 != x(r, n, e) > 0;
      }
      function E(t, e) {
        var r = t;
        do {
          if (r.i !== t.i && r.next.i !== t.i && r.i !== e.i && r.next.i !== e.i && w(r, r.next, t, e)) return !0;
          r = r.next;
        } while (r !== t);
        return !1;
      }
      function S(t, e) {
        return x(t.prev, t, t.next) < 0 ? x(t, e, t.next) >= 0 && x(t, t.prev, e) >= 0 : x(t, e, t.prev) < 0 || x(t, t.next, e) < 0;
      }
      function O(t, e) {
        var r = t,
          n = !1,
          i = (t.x + e.x) / 2,
          o = (t.y + e.y) / 2;
        do {
          r.y > o != r.next.y > o && r.next.y !== r.y && i < (r.next.x - r.x) * (o - r.y) / (r.next.y - r.y) + r.x && (n = !n), r = r.next;
        } while (r !== t);
        return n;
      }
      function M(t, e) {
        var r = new R(t.i, t.x, t.y),
          n = new R(e.i, e.x, e.y),
          i = t.next,
          o = e.prev;
        return t.next = e, e.prev = t, r.next = i, i.prev = r, n.next = r, r.prev = n, o.next = n, n.prev = o, n;
      }
      function P(t, e, r, n) {
        var i = new R(t, e, r);
        return n ? (i.next = n.next, i.prev = n, n.next.prev = i, n.next = i) : (i.prev = i, i.next = i), i;
      }
      function C(t) {
        t.next.prev = t.prev, t.prev.next = t.next, t.prevZ && (t.prevZ.nextZ = t.nextZ), t.nextZ && (t.nextZ.prevZ = t.prevZ);
      }
      function R(t, e, r) {
        this.i = t, this.x = e, this.y = r, this.prev = null, this.next = null, this.z = null, this.prevZ = null, this.nextZ = null, this.steiner = !1;
      }
      function A(t, e, r, n) {
        for (var i = 0, o = e, s = r - n; o < r; o += n) i += (t[s] - t[o]) * (t[o + 1] + t[s + 1]), s = o;
        return i;
      }
      e.exports = n, e.exports.default = n, n.deviation = function (t, e, r, n) {
        var i = e && e.length,
          o = i ? e[0] * r : t.length,
          s = Math.abs(A(t, 0, o, r));
        if (i) for (var a = 0, u = e.length; a < u; a++) {
          var h = e[a] * r,
            l = a < u - 1 ? e[a + 1] * r : t.length;
          s -= Math.abs(A(t, h, l, r));
        }
        var c = 0;
        for (a = 0; a < n.length; a += 3) {
          var d = n[a] * r,
            f = n[a + 1] * r,
            p = n[a + 2] * r;
          c += Math.abs((t[d] - t[p]) * (t[f + 1] - t[d + 1]) - (t[d] - t[f]) * (t[p + 1] - t[d + 1]));
        }
        return 0 === s && 0 === c ? 0 : Math.abs((c - s) / s);
      }, n.flatten = function (t) {
        for (var e = t[0][0].length, r = {
            vertices: [],
            holes: [],
            dimensions: e
          }, n = 0, i = 0; i < t.length; i++) {
          for (var o = 0; o < t[i].length; o++) for (var s = 0; s < e; s++) r.vertices.push(t[i][o][s]);
          i > 0 && (n += t[i - 1].length, r.holes.push(n));
        }
        return r;
      };
    }, {}],
    3: [function (t, e, r) {
      "use strict";

      function n() {}
      function i(t, e, r) {
        this.fn = t, this.context = e, this.once = r || !1;
      }
      function o() {
        this._events = new n(), this._eventsCount = 0;
      }
      var s = Object.prototype.hasOwnProperty,
        a = "~";
      Object.create && (n.prototype = Object.create(null), new n().__proto__ || (a = !1)), o.prototype.eventNames = function () {
        var t,
          e,
          r = [];
        if (0 === this._eventsCount) return r;
        for (e in t = this._events) s.call(t, e) && r.push(a ? e.slice(1) : e);
        return Object.getOwnPropertySymbols ? r.concat(Object.getOwnPropertySymbols(t)) : r;
      }, o.prototype.listeners = function (t, e) {
        var r = a ? a + t : t,
          n = this._events[r];
        if (e) return !!n;
        if (!n) return [];
        if (n.fn) return [n.fn];
        for (var i = 0, o = n.length, s = new Array(o); i < o; i++) s[i] = n[i].fn;
        return s;
      }, o.prototype.emit = function (t, e, r, n, i, o) {
        var s = a ? a + t : t;
        if (!this._events[s]) return !1;
        var u,
          h,
          l = this._events[s],
          c = arguments.length;
        if (l.fn) {
          switch (l.once && this.removeListener(t, l.fn, void 0, !0), c) {
            case 1:
              return l.fn.call(l.context), !0;
            case 2:
              return l.fn.call(l.context, e), !0;
            case 3:
              return l.fn.call(l.context, e, r), !0;
            case 4:
              return l.fn.call(l.context, e, r, n), !0;
            case 5:
              return l.fn.call(l.context, e, r, n, i), !0;
            case 6:
              return l.fn.call(l.context, e, r, n, i, o), !0;
          }
          for (h = 1, u = new Array(c - 1); h < c; h++) u[h - 1] = arguments[h];
          l.fn.apply(l.context, u);
        } else {
          var d,
            f = l.length;
          for (h = 0; h < f; h++) switch (l[h].once && this.removeListener(t, l[h].fn, void 0, !0), c) {
            case 1:
              l[h].fn.call(l[h].context);
              break;
            case 2:
              l[h].fn.call(l[h].context, e);
              break;
            case 3:
              l[h].fn.call(l[h].context, e, r);
              break;
            case 4:
              l[h].fn.call(l[h].context, e, r, n);
              break;
            default:
              if (!u) for (d = 1, u = new Array(c - 1); d < c; d++) u[d - 1] = arguments[d];
              l[h].fn.apply(l[h].context, u);
          }
        }
        return !0;
      }, o.prototype.on = function (t, e, r) {
        var n = new i(e, r || this),
          o = a ? a + t : t;
        return this._events[o] ? this._events[o].fn ? this._events[o] = [this._events[o], n] : this._events[o].push(n) : (this._events[o] = n, this._eventsCount++), this;
      }, o.prototype.once = function (t, e, r) {
        var n = new i(e, r || this, !0),
          o = a ? a + t : t;
        return this._events[o] ? this._events[o].fn ? this._events[o] = [this._events[o], n] : this._events[o].push(n) : (this._events[o] = n, this._eventsCount++), this;
      }, o.prototype.removeListener = function (t, e, r, i) {
        var o = a ? a + t : t;
        if (!this._events[o]) return this;
        if (!e) return 0 == --this._eventsCount ? this._events = new n() : delete this._events[o], this;
        var s = this._events[o];
        if (s.fn) s.fn !== e || i && !s.once || r && s.context !== r || (0 == --this._eventsCount ? this._events = new n() : delete this._events[o]);else {
          for (var u = 0, h = [], l = s.length; u < l; u++) (s[u].fn !== e || i && !s[u].once || r && s[u].context !== r) && h.push(s[u]);
          h.length ? this._events[o] = 1 === h.length ? h[0] : h : 0 == --this._eventsCount ? this._events = new n() : delete this._events[o];
        }
        return this;
      }, o.prototype.removeAllListeners = function (t) {
        var e;
        return t ? (e = a ? a + t : t, this._events[e] && (0 == --this._eventsCount ? this._events = new n() : delete this._events[e])) : (this._events = new n(), this._eventsCount = 0), this;
      }, o.prototype.off = o.prototype.removeListener, o.prototype.addListener = o.prototype.on, o.prototype.setMaxListeners = function () {
        return this;
      }, o.prefixed = a, o.EventEmitter = o, void 0 !== e && (e.exports = o);
    }, {}],
    4: [function (e, r, n) {
      !function (e) {
        function n(t, e) {
          return t.test(e);
        }
        function i(t) {
          var e = t || ("undefined" != typeof navigator ? navigator.userAgent : ""),
            r = e.split("[FBAN");
          void 0 !== r[1] && (e = r[0]), void 0 !== (r = e.split("Twitter"))[1] && (e = r[0]);
          var i = {
            apple: {
              phone: n(o, e) && !n(d, e),
              ipod: n(s, e),
              tablet: !n(o, e) && n(a, e) && !n(d, e),
              device: (n(o, e) || n(s, e) || n(a, e)) && !n(d, e)
            },
            amazon: {
              phone: n(l, e),
              tablet: !n(l, e) && n(c, e),
              device: n(l, e) || n(c, e)
            },
            android: {
              phone: !n(d, e) && n(l, e) || !n(d, e) && n(u, e),
              tablet: !n(d, e) && !n(l, e) && !n(u, e) && (n(c, e) || n(h, e)),
              device: !n(d, e) && (n(l, e) || n(c, e) || n(u, e) || n(h, e))
            },
            windows: {
              phone: n(d, e),
              tablet: n(f, e),
              device: n(d, e) || n(f, e)
            },
            other: {
              blackberry: n(p, e),
              blackberry10: n(v, e),
              opera: n(g, e),
              firefox: n(m, e),
              chrome: n(y, e),
              device: n(p, e) || n(v, e) || n(g, e) || n(m, e) || n(y, e)
            }
          };
          return i.any = i.apple.device || i.android.device || i.windows.device || i.other.device, i.phone = i.apple.phone || i.android.phone || i.windows.phone, i.tablet = i.apple.tablet || i.android.tablet || i.windows.tablet, i;
        }
        var o = /iPhone/i,
          s = /iPod/i,
          a = /iPad/i,
          u = /\bAndroid(?:.+)Mobile\b/i,
          h = /Android/i,
          l = /\bAndroid(?:.+)SD4930UR\b/i,
          c = /\bAndroid(?:.+)(?:KF[A-Z]{2,4})\b/i,
          d = /Windows Phone/i,
          f = /\bWindows(?:.+)ARM\b/i,
          p = /BlackBerry/i,
          v = /BB10/i,
          g = /Opera Mini/i,
          y = /\b(CriOS|Chrome)(?:.+)Mobile/i,
          m = /\Mobile(?:.+)Firefox\b/i;
        void 0 !== r && r.exports && "undefined" == typeof window ? r.exports = i : void 0 !== r && r.exports && "undefined" != typeof window ? r.exports = i() : "function" == typeof t && t.amd ? t([], e.isMobile = i()) : e.isMobile = i();
      }(this);
    }, {}],
    5: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      function i(t, e) {
        return t._head ? (t._tail._next = e, e._prev = t._tail, t._tail = e) : (t._head = e, t._tail = e), e._owner = t, e;
      }
      Object.defineProperty(r, "__esModule", {
        value: !0
      });
      var o = function () {
          function t(t, e) {
            for (var r = 0; r < e.length; r++) {
              var n = e[r];
              n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n);
            }
          }
          return function (e, r, n) {
            return r && t(e.prototype, r), n && t(e, n), e;
          };
        }(),
        s = function () {
          function t(e, r, i) {
            void 0 === r && (r = !1), n(this, t), this._fn = e, this._once = r, this._thisArg = i, this._next = this._prev = this._owner = null;
          }
          return o(t, [{
            key: "detach",
            value: function value() {
              return null !== this._owner && (this._owner.detach(this), !0);
            }
          }]), t;
        }(),
        a = function () {
          function t() {
            n(this, t), this._head = this._tail = void 0;
          }
          return o(t, [{
            key: "handlers",
            value: function value() {
              var t = !(arguments.length <= 0 || void 0 === arguments[0]) && arguments[0],
                e = this._head;
              if (t) return !!e;
              for (var r = []; e;) r.push(e), e = e._next;
              return r;
            }
          }, {
            key: "has",
            value: function value(t) {
              if (!(t instanceof s)) throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");
              return t._owner === this;
            }
          }, {
            key: "dispatch",
            value: function value() {
              var t = this._head;
              if (!t) return !1;
              for (; t;) t._once && this.detach(t), t._fn.apply(t._thisArg, arguments), t = t._next;
              return !0;
            }
          }, {
            key: "add",
            value: function value(t) {
              var e = arguments.length <= 1 || void 0 === arguments[1] ? null : arguments[1];
              if ("function" != typeof t) throw new Error("MiniSignal#add(): First arg must be a Function.");
              return i(this, new s(t, !1, e));
            }
          }, {
            key: "once",
            value: function value(t) {
              var e = arguments.length <= 1 || void 0 === arguments[1] ? null : arguments[1];
              if ("function" != typeof t) throw new Error("MiniSignal#once(): First arg must be a Function.");
              return i(this, new s(t, !0, e));
            }
          }, {
            key: "detach",
            value: function value(t) {
              if (!(t instanceof s)) throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");
              return t._owner !== this ? this : (t._prev && (t._prev._next = t._next), t._next && (t._next._prev = t._prev), t === this._head ? (this._head = t._next, null === t._next && (this._tail = null)) : t === this._tail && (this._tail = t._prev, this._tail._next = null), t._owner = null, this);
            }
          }, {
            key: "detachAll",
            value: function value() {
              var t = this._head;
              if (!t) return this;
              for (this._head = this._tail = null; t;) t._owner = null, t = t._next;
              return this;
            }
          }]), t;
        }();
      a.MiniSignalBinding = s, r.default = a, e.exports = r.default;
    }, {}],
    6: [function (t, e, r) {
      "use strict";

      function n(t) {
        if (null === t || void 0 === t) throw new TypeError("Object.assign cannot be called with null or undefined");
        return Object(t);
      }
      var i = Object.getOwnPropertySymbols,
        o = Object.prototype.hasOwnProperty,
        s = Object.prototype.propertyIsEnumerable;
      e.exports = function () {
        try {
          if (!Object.assign) return !1;
          var t = new String("abc");
          if (t[5] = "de", "5" === Object.getOwnPropertyNames(t)[0]) return !1;
          for (var e = {}, r = 0; r < 10; r++) e["_" + String.fromCharCode(r)] = r;
          if ("0123456789" !== Object.getOwnPropertyNames(e).map(function (t) {
            return e[t];
          }).join("")) return !1;
          var n = {};
          return "abcdefghijklmnopqrst".split("").forEach(function (t) {
            n[t] = t;
          }), "abcdefghijklmnopqrst" === Object.keys(Object.assign({}, n)).join("");
        } catch (t) {
          return !1;
        }
      }() ? Object.assign : function (t, e) {
        for (var r, a, u = n(t), h = 1; h < arguments.length; h++) {
          r = Object(arguments[h]);
          for (var l in r) o.call(r, l) && (u[l] = r[l]);
          if (i) {
            a = i(r);
            for (var c = 0; c < a.length; c++) s.call(r, a[c]) && (u[a[c]] = r[a[c]]);
          }
        }
        return u;
      };
    }, {}],
    7: [function (t, e, r) {
      "use strict";

      e.exports = function (t, e) {
        e = e || {};
        for (var r = {
            key: ["source", "protocol", "authority", "userInfo", "user", "password", "host", "port", "relative", "path", "directory", "file", "query", "anchor"],
            q: {
              name: "queryKey",
              parser: /(?:^|&)([^&=]*)=?([^&]*)/g
            },
            parser: {
              strict: /^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,
              loose: /^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/
            }
          }, n = r.parser[e.strictMode ? "strict" : "loose"].exec(t), i = {}, o = 14; o--;) i[r.key[o]] = n[o] || "";
        return i[r.q.name] = {}, i[r.key[12]].replace(r.q.parser, function (t, e, n) {
          e && (i[r.q.name][e] = n);
        }), i;
      };
    }, {}],
    8: [function (t, e, r) {
      (function (t) {
        function e(t, e) {
          for (var r = 0, n = t.length - 1; n >= 0; n--) {
            var i = t[n];
            "." === i ? t.splice(n, 1) : ".." === i ? (t.splice(n, 1), r++) : r && (t.splice(n, 1), r--);
          }
          if (e) for (; r--; r) t.unshift("..");
          return t;
        }
        function n(t, e) {
          if (t.filter) return t.filter(e);
          for (var r = [], n = 0; n < t.length; n++) e(t[n], n, t) && r.push(t[n]);
          return r;
        }
        var i = /^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,
          o = function o(t) {
            return i.exec(t).slice(1);
          };
        r.resolve = function () {
          for (var r = "", i = !1, o = arguments.length - 1; o >= -1 && !i; o--) {
            var s = o >= 0 ? arguments[o] : t.cwd();
            if ("string" != typeof s) throw new TypeError("Arguments to path.resolve must be strings");
            s && (r = s + "/" + r, i = "/" === s.charAt(0));
          }
          return r = e(n(r.split("/"), function (t) {
            return !!t;
          }), !i).join("/"), (i ? "/" : "") + r || ".";
        }, r.normalize = function (t) {
          var i = r.isAbsolute(t),
            o = "/" === s(t, -1);
          return t = e(n(t.split("/"), function (t) {
            return !!t;
          }), !i).join("/"), t || i || (t = "."), t && o && (t += "/"), (i ? "/" : "") + t;
        }, r.isAbsolute = function (t) {
          return "/" === t.charAt(0);
        }, r.join = function () {
          var t = Array.prototype.slice.call(arguments, 0);
          return r.normalize(n(t, function (t, e) {
            if ("string" != typeof t) throw new TypeError("Arguments to path.join must be strings");
            return t;
          }).join("/"));
        }, r.relative = function (t, e) {
          function n(t) {
            for (var e = 0; e < t.length && "" === t[e]; e++);
            for (var r = t.length - 1; r >= 0 && "" === t[r]; r--);
            return e > r ? [] : t.slice(e, r - e + 1);
          }
          t = r.resolve(t).substr(1), e = r.resolve(e).substr(1);
          for (var i = n(t.split("/")), o = n(e.split("/")), s = Math.min(i.length, o.length), a = s, u = 0; u < s; u++) if (i[u] !== o[u]) {
            a = u;
            break;
          }
          for (var h = [], u = a; u < i.length; u++) h.push("..");
          return h = h.concat(o.slice(a)), h.join("/");
        }, r.sep = "/", r.delimiter = ":", r.dirname = function (t) {
          var e = o(t),
            r = e[0],
            n = e[1];
          return r || n ? (n && (n = n.substr(0, n.length - 1)), r + n) : ".";
        }, r.basename = function (t, e) {
          var r = o(t)[2];
          return e && r.substr(-1 * e.length) === e && (r = r.substr(0, r.length - e.length)), r;
        }, r.extname = function (t) {
          return o(t)[3];
        };
        var s =  true ? function (t, e, r) {
          return t.substr(e, r);
        } : 0;
      }).call(this, t("_process"));
    }, {
      _process: 26
    }],
    9: [function (t, e, r) {
      var n = new ArrayBuffer(0),
        i = function i(t, e, r, _i) {
          this.gl = t, this.buffer = t.createBuffer(), this.type = e || t.ARRAY_BUFFER, this.drawType = _i || t.STATIC_DRAW, this.data = n, r && this.upload(r), this._updateID = 0;
        };
      i.prototype.upload = function (t, e, r) {
        r || this.bind();
        var n = this.gl;
        t = t || this.data, e = e || 0, this.data.byteLength >= t.byteLength ? n.bufferSubData(this.type, e, t) : n.bufferData(this.type, t, this.drawType), this.data = t;
      }, i.prototype.bind = function () {
        this.gl.bindBuffer(this.type, this.buffer);
      }, i.createVertexBuffer = function (t, e, r) {
        return new i(t, t.ARRAY_BUFFER, e, r);
      }, i.createIndexBuffer = function (t, e, r) {
        return new i(t, t.ELEMENT_ARRAY_BUFFER, e, r);
      }, i.create = function (t, e, r, n) {
        return new i(t, e, r, n);
      }, i.prototype.destroy = function () {
        this.gl.deleteBuffer(this.buffer);
      }, e.exports = i;
    }, {}],
    10: [function (t, e, r) {
      var n = t("./GLTexture"),
        i = function i(t, e, r) {
          this.gl = t, this.framebuffer = t.createFramebuffer(), this.stencil = null, this.texture = null, this.width = e || 100, this.height = r || 100;
        };
      i.prototype.enableTexture = function (t) {
        var e = this.gl;
        this.texture = t || new n(e), this.texture.bind(), this.bind(), e.framebufferTexture2D(e.FRAMEBUFFER, e.COLOR_ATTACHMENT0, e.TEXTURE_2D, this.texture.texture, 0);
      }, i.prototype.enableStencil = function () {
        if (!this.stencil) {
          var t = this.gl;
          this.stencil = t.createRenderbuffer(), t.bindRenderbuffer(t.RENDERBUFFER, this.stencil), t.framebufferRenderbuffer(t.FRAMEBUFFER, t.DEPTH_STENCIL_ATTACHMENT, t.RENDERBUFFER, this.stencil), t.renderbufferStorage(t.RENDERBUFFER, t.DEPTH_STENCIL, this.width, this.height);
        }
      }, i.prototype.clear = function (t, e, r, n) {
        this.bind();
        var i = this.gl;
        i.clearColor(t, e, r, n), i.clear(i.COLOR_BUFFER_BIT | i.DEPTH_BUFFER_BIT);
      }, i.prototype.bind = function () {
        var t = this.gl;
        t.bindFramebuffer(t.FRAMEBUFFER, this.framebuffer);
      }, i.prototype.unbind = function () {
        var t = this.gl;
        t.bindFramebuffer(t.FRAMEBUFFER, null);
      }, i.prototype.resize = function (t, e) {
        var r = this.gl;
        this.width = t, this.height = e, this.texture && this.texture.uploadData(null, t, e), this.stencil && (r.bindRenderbuffer(r.RENDERBUFFER, this.stencil), r.renderbufferStorage(r.RENDERBUFFER, r.DEPTH_STENCIL, t, e));
      }, i.prototype.destroy = function () {
        var t = this.gl;
        this.texture && this.texture.destroy(), t.deleteFramebuffer(this.framebuffer), this.gl = null, this.stencil = null, this.texture = null;
      }, i.createRGBA = function (t, e, r, o) {
        var s = n.fromData(t, null, e, r);
        s.enableNearestScaling(), s.enableWrapClamp();
        var a = new i(t, e, r);
        return a.enableTexture(s), a.unbind(), a;
      }, i.createFloat32 = function (t, e, r, o) {
        var s = new n.fromData(t, o, e, r);
        s.enableNearestScaling(), s.enableWrapClamp();
        var a = new i(t, e, r);
        return a.enableTexture(s), a.unbind(), a;
      }, e.exports = i;
    }, {
      "./GLTexture": 12
    }],
    11: [function (t, e, r) {
      var n = t("./shader/compileProgram"),
        i = t("./shader/extractAttributes"),
        o = t("./shader/extractUniforms"),
        s = t("./shader/setPrecision"),
        a = t("./shader/generateUniformAccessObject"),
        u = function u(t, e, r, _u, h) {
          this.gl = t, _u && (e = s(e, _u), r = s(r, _u)), this.program = n(t, e, r, h), this.attributes = i(t, this.program), this.uniformData = o(t, this.program), this.uniforms = a(t, this.uniformData);
        };
      u.prototype.bind = function () {
        return this.gl.useProgram(this.program), this;
      }, u.prototype.destroy = function () {
        this.attributes = null, this.uniformData = null, this.uniforms = null, this.gl.deleteProgram(this.program);
      }, e.exports = u;
    }, {
      "./shader/compileProgram": 17,
      "./shader/extractAttributes": 19,
      "./shader/extractUniforms": 20,
      "./shader/generateUniformAccessObject": 21,
      "./shader/setPrecision": 25
    }],
    12: [function (t, e, r) {
      var n = function n(t, e, r, _n, i) {
        this.gl = t, this.texture = t.createTexture(), this.mipmap = !1, this.premultiplyAlpha = !1, this.width = e || -1, this.height = r || -1, this.format = _n || t.RGBA, this.type = i || t.UNSIGNED_BYTE;
      };
      n.prototype.upload = function (t) {
        this.bind();
        var e = this.gl;
        e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL, this.premultiplyAlpha);
        var r = t.videoWidth || t.width,
          n = t.videoHeight || t.height;
        n !== this.height || r !== this.width ? e.texImage2D(e.TEXTURE_2D, 0, this.format, this.format, this.type, t) : e.texSubImage2D(e.TEXTURE_2D, 0, 0, 0, this.format, this.type, t), this.width = r, this.height = n;
      };
      var i = !1;
      n.prototype.uploadData = function (t, e, r) {
        this.bind();
        var n = this.gl;
        if (t instanceof Float32Array) {
          if (!i) {
            if (!n.getExtension("OES_texture_float")) throw new Error("floating point textures not available");
            i = !0;
          }
          this.type = n.FLOAT;
        } else this.type = this.type || n.UNSIGNED_BYTE;
        n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL, this.premultiplyAlpha), e !== this.width || r !== this.height ? n.texImage2D(n.TEXTURE_2D, 0, this.format, e, r, 0, this.format, this.type, t || null) : n.texSubImage2D(n.TEXTURE_2D, 0, 0, 0, e, r, this.format, this.type, t || null), this.width = e, this.height = r;
      }, n.prototype.bind = function (t) {
        var e = this.gl;
        void 0 !== t && e.activeTexture(e.TEXTURE0 + t), e.bindTexture(e.TEXTURE_2D, this.texture);
      }, n.prototype.unbind = function () {
        var t = this.gl;
        t.bindTexture(t.TEXTURE_2D, null);
      }, n.prototype.minFilter = function (t) {
        var e = this.gl;
        this.bind(), this.mipmap ? e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MIN_FILTER, t ? e.LINEAR_MIPMAP_LINEAR : e.NEAREST_MIPMAP_NEAREST) : e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MIN_FILTER, t ? e.LINEAR : e.NEAREST);
      }, n.prototype.magFilter = function (t) {
        var e = this.gl;
        this.bind(), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MAG_FILTER, t ? e.LINEAR : e.NEAREST);
      }, n.prototype.enableMipmap = function () {
        var t = this.gl;
        this.bind(), this.mipmap = !0, t.generateMipmap(t.TEXTURE_2D);
      }, n.prototype.enableLinearScaling = function () {
        this.minFilter(!0), this.magFilter(!0);
      }, n.prototype.enableNearestScaling = function () {
        this.minFilter(!1), this.magFilter(!1);
      }, n.prototype.enableWrapClamp = function () {
        var t = this.gl;
        this.bind(), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_S, t.CLAMP_TO_EDGE), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_T, t.CLAMP_TO_EDGE);
      }, n.prototype.enableWrapRepeat = function () {
        var t = this.gl;
        this.bind(), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_S, t.REPEAT), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_T, t.REPEAT);
      }, n.prototype.enableWrapMirrorRepeat = function () {
        var t = this.gl;
        this.bind(), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_S, t.MIRRORED_REPEAT), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_T, t.MIRRORED_REPEAT);
      }, n.prototype.destroy = function () {
        this.gl.deleteTexture(this.texture);
      }, n.fromSource = function (t, e, r) {
        var i = new n(t);
        return i.premultiplyAlpha = r || !1, i.upload(e), i;
      }, n.fromData = function (t, e, r, i) {
        var o = new n(t);
        return o.uploadData(e, r, i), o;
      }, e.exports = n;
    }, {}],
    13: [function (t, e, r) {
      function n(t, e) {
        if (this.nativeVaoExtension = null, n.FORCE_NATIVE || (this.nativeVaoExtension = t.getExtension("OES_vertex_array_object") || t.getExtension("MOZ_OES_vertex_array_object") || t.getExtension("WEBKIT_OES_vertex_array_object")), this.nativeState = e, this.nativeVaoExtension) {
          this.nativeVao = this.nativeVaoExtension.createVertexArrayOES();
          var r = t.getParameter(t.MAX_VERTEX_ATTRIBS);
          this.nativeState = {
            tempAttribState: new Array(r),
            attribState: new Array(r)
          };
        }
        this.gl = t, this.attributes = [], this.indexBuffer = null, this.dirty = !1;
      }
      var i = t("./setVertexAttribArrays");
      n.prototype.constructor = n, e.exports = n, n.FORCE_NATIVE = !1, n.prototype.bind = function () {
        if (this.nativeVao) {
          if (this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao), this.dirty) return this.dirty = !1, this.activate(), this;
          this.indexBuffer && this.indexBuffer.bind();
        } else this.activate();
        return this;
      }, n.prototype.unbind = function () {
        return this.nativeVao && this.nativeVaoExtension.bindVertexArrayOES(null), this;
      }, n.prototype.activate = function () {
        for (var t = this.gl, e = null, r = 0; r < this.attributes.length; r++) {
          var n = this.attributes[r];
          e !== n.buffer && (n.buffer.bind(), e = n.buffer), t.vertexAttribPointer(n.attribute.location, n.attribute.size, n.type || t.FLOAT, n.normalized || !1, n.stride || 0, n.start || 0);
        }
        return i(t, this.attributes, this.nativeState), this.indexBuffer && this.indexBuffer.bind(), this;
      }, n.prototype.addAttribute = function (t, e, r, n, i, o) {
        return this.attributes.push({
          buffer: t,
          attribute: e,
          location: e.location,
          type: r || this.gl.FLOAT,
          normalized: n || !1,
          stride: i || 0,
          start: o || 0
        }), this.dirty = !0, this;
      }, n.prototype.addIndex = function (t) {
        return this.indexBuffer = t, this.dirty = !0, this;
      }, n.prototype.clear = function () {
        return this.nativeVao && this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao), this.attributes.length = 0, this.indexBuffer = null, this;
      }, n.prototype.draw = function (t, e, r) {
        var n = this.gl;
        return this.indexBuffer ? n.drawElements(t, e || this.indexBuffer.data.length, n.UNSIGNED_SHORT, 2 * (r || 0)) : n.drawArrays(t, r, e || this.getSize()), this;
      }, n.prototype.destroy = function () {
        this.gl = null, this.indexBuffer = null, this.attributes = null, this.nativeState = null, this.nativeVao && this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao), this.nativeVaoExtension = null, this.nativeVao = null;
      }, n.prototype.getSize = function () {
        var t = this.attributes[0];
        return t.buffer.data.length / (t.stride / 4 || t.attribute.size);
      };
    }, {
      "./setVertexAttribArrays": 16
    }],
    14: [function (t, e, r) {
      var n = function n(t, e) {
        var r = t.getContext("webgl", e) || t.getContext("experimental-webgl", e);
        if (!r) throw new Error("This browser does not support webGL. Try using the canvas renderer");
        return r;
      };
      e.exports = n;
    }, {}],
    15: [function (t, e, r) {
      var n = {
        createContext: t("./createContext"),
        setVertexAttribArrays: t("./setVertexAttribArrays"),
        GLBuffer: t("./GLBuffer"),
        GLFramebuffer: t("./GLFramebuffer"),
        GLShader: t("./GLShader"),
        GLTexture: t("./GLTexture"),
        VertexArrayObject: t("./VertexArrayObject"),
        shader: t("./shader")
      };
      void 0 !== e && e.exports && (e.exports = n), "undefined" != typeof window && (window.PIXI = window.PIXI || {}, window.PIXI.glCore = n);
    }, {
      "./GLBuffer": 9,
      "./GLFramebuffer": 10,
      "./GLShader": 11,
      "./GLTexture": 12,
      "./VertexArrayObject": 13,
      "./createContext": 14,
      "./setVertexAttribArrays": 16,
      "./shader": 22
    }],
    16: [function (t, e, r) {
      var n = function n(t, e, r) {
        var n;
        if (r) {
          var i = r.tempAttribState,
            o = r.attribState;
          for (n = 0; n < i.length; n++) i[n] = !1;
          for (n = 0; n < e.length; n++) i[e[n].attribute.location] = !0;
          for (n = 0; n < o.length; n++) o[n] !== i[n] && (o[n] = i[n], r.attribState[n] ? t.enableVertexAttribArray(n) : t.disableVertexAttribArray(n));
        } else for (n = 0; n < e.length; n++) {
          var s = e[n];
          t.enableVertexAttribArray(s.attribute.location);
        }
      };
      e.exports = n;
    }, {}],
    17: [function (t, e, r) {
      var n = function n(t, e, r, _n2) {
          var o = i(t, t.VERTEX_SHADER, e),
            s = i(t, t.FRAGMENT_SHADER, r),
            a = t.createProgram();
          if (t.attachShader(a, o), t.attachShader(a, s), _n2) for (var u in _n2) t.bindAttribLocation(a, _n2[u], u);
          return t.linkProgram(a), t.getProgramParameter(a, t.LINK_STATUS) || (console.error("Pixi.js Error: Could not initialize shader."), console.error("gl.VALIDATE_STATUS", t.getProgramParameter(a, t.VALIDATE_STATUS)), console.error("gl.getError()", t.getError()), "" !== t.getProgramInfoLog(a) && console.warn("Pixi.js Warning: gl.getProgramInfoLog()", t.getProgramInfoLog(a)), t.deleteProgram(a), a = null), t.deleteShader(o), t.deleteShader(s), a;
        },
        i = function i(t, e, r) {
          var n = t.createShader(e);
          return t.shaderSource(n, r), t.compileShader(n), t.getShaderParameter(n, t.COMPILE_STATUS) ? n : (console.log(t.getShaderInfoLog(n)), null);
        };
      e.exports = n;
    }, {}],
    18: [function (t, e, r) {
      var n = function n(t, e) {
          switch (t) {
            case "float":
              return 0;
            case "vec2":
              return new Float32Array(2 * e);
            case "vec3":
              return new Float32Array(3 * e);
            case "vec4":
              return new Float32Array(4 * e);
            case "int":
            case "sampler2D":
              return 0;
            case "ivec2":
              return new Int32Array(2 * e);
            case "ivec3":
              return new Int32Array(3 * e);
            case "ivec4":
              return new Int32Array(4 * e);
            case "bool":
              return !1;
            case "bvec2":
              return i(2 * e);
            case "bvec3":
              return i(3 * e);
            case "bvec4":
              return i(4 * e);
            case "mat2":
              return new Float32Array([1, 0, 0, 1]);
            case "mat3":
              return new Float32Array([1, 0, 0, 0, 1, 0, 0, 0, 1]);
            case "mat4":
              return new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]);
          }
        },
        i = function i(t) {
          for (var e = new Array(t), r = 0; r < e.length; r++) e[r] = !1;
          return e;
        };
      e.exports = n;
    }, {}],
    19: [function (t, e, r) {
      var n = t("./mapType"),
        i = t("./mapSize"),
        o = function o(t, e) {
          for (var r = {}, o = t.getProgramParameter(e, t.ACTIVE_ATTRIBUTES), a = 0; a < o; a++) {
            var u = t.getActiveAttrib(e, a),
              h = n(t, u.type);
            r[u.name] = {
              type: h,
              size: i(h),
              location: t.getAttribLocation(e, u.name),
              pointer: s
            };
          }
          return r;
        },
        s = function s(t, e, r, n) {
          gl.vertexAttribPointer(this.location, this.size, t || gl.FLOAT, e || !1, r || 0, n || 0);
        };
      e.exports = o;
    }, {
      "./mapSize": 23,
      "./mapType": 24
    }],
    20: [function (t, e, r) {
      var n = t("./mapType"),
        i = t("./defaultValue"),
        o = function o(t, e) {
          for (var r = {}, o = t.getProgramParameter(e, t.ACTIVE_UNIFORMS), s = 0; s < o; s++) {
            var a = t.getActiveUniform(e, s),
              u = a.name.replace(/\[.*?\]/, ""),
              h = n(t, a.type);
            r[u] = {
              type: h,
              size: a.size,
              location: t.getUniformLocation(e, u),
              value: i(h, a.size)
            };
          }
          return r;
        };
      e.exports = o;
    }, {
      "./defaultValue": 18,
      "./mapType": 24
    }],
    21: [function (t, e, r) {
      function n(t, e) {
        return function (r) {
          this.data[t].value = r;
          var n = this.data[t].location;
          1 === e.size ? a[e.type](this.gl, n, r) : u[e.type](this.gl, n, r);
        };
      }
      function i(t, e) {
        for (var r = e, n = 0; n < t.length - 1; n++) {
          var i = r[t[n]] || {
            data: {}
          };
          r[t[n]] = i, r = i;
        }
        return r;
      }
      var o = function o(t, e) {
          var r = {
            data: {}
          };
          r.gl = t;
          for (var o = Object.keys(e), a = 0; a < o.length; a++) {
            var u = o[a],
              h = u.split("."),
              l = h[h.length - 1],
              c = i(h, r),
              d = e[u];
            c.data[l] = d, c.gl = t, Object.defineProperty(c, l, {
              get: s(l),
              set: n(l, d)
            });
          }
          return r;
        },
        s = function s(t) {
          return function () {
            return this.data[t].value;
          };
        },
        a = {
          float: function float(t, e, r) {
            t.uniform1f(e, r);
          },
          vec2: function vec2(t, e, r) {
            t.uniform2f(e, r[0], r[1]);
          },
          vec3: function vec3(t, e, r) {
            t.uniform3f(e, r[0], r[1], r[2]);
          },
          vec4: function vec4(t, e, r) {
            t.uniform4f(e, r[0], r[1], r[2], r[3]);
          },
          int: function int(t, e, r) {
            t.uniform1i(e, r);
          },
          ivec2: function ivec2(t, e, r) {
            t.uniform2i(e, r[0], r[1]);
          },
          ivec3: function ivec3(t, e, r) {
            t.uniform3i(e, r[0], r[1], r[2]);
          },
          ivec4: function ivec4(t, e, r) {
            t.uniform4i(e, r[0], r[1], r[2], r[3]);
          },
          bool: function bool(t, e, r) {
            t.uniform1i(e, r);
          },
          bvec2: function bvec2(t, e, r) {
            t.uniform2i(e, r[0], r[1]);
          },
          bvec3: function bvec3(t, e, r) {
            t.uniform3i(e, r[0], r[1], r[2]);
          },
          bvec4: function bvec4(t, e, r) {
            t.uniform4i(e, r[0], r[1], r[2], r[3]);
          },
          mat2: function mat2(t, e, r) {
            t.uniformMatrix2fv(e, !1, r);
          },
          mat3: function mat3(t, e, r) {
            t.uniformMatrix3fv(e, !1, r);
          },
          mat4: function mat4(t, e, r) {
            t.uniformMatrix4fv(e, !1, r);
          },
          sampler2D: function sampler2D(t, e, r) {
            t.uniform1i(e, r);
          }
        },
        u = {
          float: function float(t, e, r) {
            t.uniform1fv(e, r);
          },
          vec2: function vec2(t, e, r) {
            t.uniform2fv(e, r);
          },
          vec3: function vec3(t, e, r) {
            t.uniform3fv(e, r);
          },
          vec4: function vec4(t, e, r) {
            t.uniform4fv(e, r);
          },
          int: function int(t, e, r) {
            t.uniform1iv(e, r);
          },
          ivec2: function ivec2(t, e, r) {
            t.uniform2iv(e, r);
          },
          ivec3: function ivec3(t, e, r) {
            t.uniform3iv(e, r);
          },
          ivec4: function ivec4(t, e, r) {
            t.uniform4iv(e, r);
          },
          bool: function bool(t, e, r) {
            t.uniform1iv(e, r);
          },
          bvec2: function bvec2(t, e, r) {
            t.uniform2iv(e, r);
          },
          bvec3: function bvec3(t, e, r) {
            t.uniform3iv(e, r);
          },
          bvec4: function bvec4(t, e, r) {
            t.uniform4iv(e, r);
          },
          sampler2D: function sampler2D(t, e, r) {
            t.uniform1iv(e, r);
          }
        };
      e.exports = o;
    }, {}],
    22: [function (t, e, r) {
      e.exports = {
        compileProgram: t("./compileProgram"),
        defaultValue: t("./defaultValue"),
        extractAttributes: t("./extractAttributes"),
        extractUniforms: t("./extractUniforms"),
        generateUniformAccessObject: t("./generateUniformAccessObject"),
        setPrecision: t("./setPrecision"),
        mapSize: t("./mapSize"),
        mapType: t("./mapType")
      };
    }, {
      "./compileProgram": 17,
      "./defaultValue": 18,
      "./extractAttributes": 19,
      "./extractUniforms": 20,
      "./generateUniformAccessObject": 21,
      "./mapSize": 23,
      "./mapType": 24,
      "./setPrecision": 25
    }],
    23: [function (t, e, r) {
      var n = function n(t) {
          return i[t];
        },
        i = {
          float: 1,
          vec2: 2,
          vec3: 3,
          vec4: 4,
          int: 1,
          ivec2: 2,
          ivec3: 3,
          ivec4: 4,
          bool: 1,
          bvec2: 2,
          bvec3: 3,
          bvec4: 4,
          mat2: 4,
          mat3: 9,
          mat4: 16,
          sampler2D: 1
        };
      e.exports = n;
    }, {}],
    24: [function (t, e, r) {
      var n = function n(t, e) {
          if (!i) {
            var r = Object.keys(o);
            i = {};
            for (var n = 0; n < r.length; ++n) {
              var s = r[n];
              i[t[s]] = o[s];
            }
          }
          return i[e];
        },
        i = null,
        o = {
          FLOAT: "float",
          FLOAT_VEC2: "vec2",
          FLOAT_VEC3: "vec3",
          FLOAT_VEC4: "vec4",
          INT: "int",
          INT_VEC2: "ivec2",
          INT_VEC3: "ivec3",
          INT_VEC4: "ivec4",
          BOOL: "bool",
          BOOL_VEC2: "bvec2",
          BOOL_VEC3: "bvec3",
          BOOL_VEC4: "bvec4",
          FLOAT_MAT2: "mat2",
          FLOAT_MAT3: "mat3",
          FLOAT_MAT4: "mat4",
          SAMPLER_2D: "sampler2D"
        };
      e.exports = n;
    }, {}],
    25: [function (t, e, r) {
      var n = function n(t, e) {
        return "precision" !== t.substring(0, 9) ? "precision " + e + " float;\n" + t : t;
      };
      e.exports = n;
    }, {}],
    26: [function (t, e, r) {
      function n() {
        throw new Error("setTimeout has not been defined");
      }
      function i() {
        throw new Error("clearTimeout has not been defined");
      }
      function o(t) {
        if (c === setTimeout) return setTimeout(t, 0);
        if ((c === n || !c) && setTimeout) return c = setTimeout, setTimeout(t, 0);
        try {
          return c(t, 0);
        } catch (e) {
          try {
            return c.call(null, t, 0);
          } catch (e) {
            return c.call(this, t, 0);
          }
        }
      }
      function s(t) {
        if (d === clearTimeout) return clearTimeout(t);
        if ((d === i || !d) && clearTimeout) return d = clearTimeout, clearTimeout(t);
        try {
          return d(t);
        } catch (e) {
          try {
            return d.call(null, t);
          } catch (e) {
            return d.call(this, t);
          }
        }
      }
      function a() {
        g && p && (g = !1, p.length ? v = p.concat(v) : y = -1, v.length && u());
      }
      function u() {
        if (!g) {
          var t = o(a);
          g = !0;
          for (var e = v.length; e;) {
            for (p = v, v = []; ++y < e;) p && p[y].run();
            y = -1, e = v.length;
          }
          p = null, g = !1, s(t);
        }
      }
      function h(t, e) {
        this.fun = t, this.array = e;
      }
      function l() {}
      var c,
        d,
        f = e.exports = {};
      !function () {
        try {
          c = "function" == typeof setTimeout ? setTimeout : n;
        } catch (t) {
          c = n;
        }
        try {
          d = "function" == typeof clearTimeout ? clearTimeout : i;
        } catch (t) {
          d = i;
        }
      }();
      var p,
        v = [],
        g = !1,
        y = -1;
      f.nextTick = function (t) {
        var e = new Array(arguments.length - 1);
        if (arguments.length > 1) for (var r = 1; r < arguments.length; r++) e[r - 1] = arguments[r];
        v.push(new h(t, e)), 1 !== v.length || g || o(u);
      }, h.prototype.run = function () {
        this.fun.apply(null, this.array);
      }, f.title = "browser", f.browser = !0, f.env = {}, f.argv = [], f.version = "", f.versions = {}, f.on = l, f.addListener = l, f.once = l, f.off = l, f.removeListener = l, f.removeAllListeners = l, f.emit = l, f.prependListener = l, f.prependOnceListener = l, f.listeners = function (t) {
        return [];
      }, f.binding = function (t) {
        throw new Error("process.binding is not supported");
      }, f.cwd = function () {
        return "/";
      }, f.chdir = function (t) {
        throw new Error("process.chdir is not supported");
      }, f.umask = function () {
        return 0;
      };
    }, {}],
    27: [function (e, r, n) {
      (function (e) {
        !function (i) {
          function o(t) {
            throw new RangeError(L[t]);
          }
          function s(t, e) {
            for (var r = t.length, n = []; r--;) n[r] = e(t[r]);
            return n;
          }
          function a(t, e) {
            var r = t.split("@"),
              n = "";
            return r.length > 1 && (n = r[0] + "@", t = r[1]), t = t.replace(D, "."), n + s(t.split("."), e).join(".");
          }
          function u(t) {
            for (var e, r, n = [], i = 0, o = t.length; i < o;) e = t.charCodeAt(i++), e >= 55296 && e <= 56319 && i < o ? (r = t.charCodeAt(i++), 56320 == (64512 & r) ? n.push(((1023 & e) << 10) + (1023 & r) + 65536) : (n.push(e), i--)) : n.push(e);
            return n;
          }
          function h(t) {
            return s(t, function (t) {
              var e = "";
              return t > 65535 && (t -= 65536, e += k(t >>> 10 & 1023 | 55296), t = 56320 | 1023 & t), e += k(t);
            }).join("");
          }
          function l(t) {
            return t - 48 < 10 ? t - 22 : t - 65 < 26 ? t - 65 : t - 97 < 26 ? t - 97 : w;
          }
          function c(t, e) {
            return t + 22 + 75 * (t < 26) - ((0 != e) << 5);
          }
          function d(t, e, r) {
            var n = 0;
            for (t = r ? B(t / M) : t >> 1, t += B(t / e); t > N * S >> 1; n += w) t = B(t / N);
            return B(n + (N + 1) * t / (t + O));
          }
          function f(t) {
            var e,
              r,
              n,
              i,
              s,
              a,
              u,
              c,
              f,
              p,
              v = [],
              g = t.length,
              y = 0,
              m = C,
              _ = P;
            for (r = t.lastIndexOf(R), r < 0 && (r = 0), n = 0; n < r; ++n) t.charCodeAt(n) >= 128 && o("not-basic"), v.push(t.charCodeAt(n));
            for (i = r > 0 ? r + 1 : 0; i < g;) {
              for (s = y, a = 1, u = w; i >= g && o("invalid-input"), c = l(t.charCodeAt(i++)), (c >= w || c > B((T - y) / a)) && o("overflow"), y += c * a, f = u <= _ ? E : u >= _ + S ? S : u - _, !(c < f); u += w) p = w - f, a > B(T / p) && o("overflow"), a *= p;
              e = v.length + 1, _ = d(y - s, e, 0 == s), B(y / e) > T - m && o("overflow"), m += B(y / e), y %= e, v.splice(y++, 0, m);
            }
            return h(v);
          }
          function p(t) {
            var e,
              r,
              n,
              i,
              s,
              a,
              h,
              l,
              f,
              p,
              v,
              g,
              y,
              m,
              _,
              b = [];
            for (t = u(t), g = t.length, e = C, r = 0, s = P, a = 0; a < g; ++a) (v = t[a]) < 128 && b.push(k(v));
            for (n = i = b.length, i && b.push(R); n < g;) {
              for (h = T, a = 0; a < g; ++a) (v = t[a]) >= e && v < h && (h = v);
              for (y = n + 1, h - e > B((T - r) / y) && o("overflow"), r += (h - e) * y, e = h, a = 0; a < g; ++a) if (v = t[a], v < e && ++r > T && o("overflow"), v == e) {
                for (l = r, f = w; p = f <= s ? E : f >= s + S ? S : f - s, !(l < p); f += w) _ = l - p, m = w - p, b.push(k(c(p + _ % m, 0))), l = B(_ / m);
                b.push(k(c(l, 0))), s = d(r, y, n == i), r = 0, ++n;
              }
              ++r, ++e;
            }
            return b.join("");
          }
          function v(t) {
            return a(t, function (t) {
              return A.test(t) ? f(t.slice(4).toLowerCase()) : t;
            });
          }
          function g(t) {
            return a(t, function (t) {
              return I.test(t) ? "xn--" + p(t) : t;
            });
          }
          var y = "object" == _typeof(n) && n && !n.nodeType && n,
            m = "object" == _typeof(r) && r && !r.nodeType && r,
            _ = "object" == _typeof(e) && e;
          _.global !== _ && _.window !== _ && _.self !== _ || (i = _);
          var b,
            x,
            T = 2147483647,
            w = 36,
            E = 1,
            S = 26,
            O = 38,
            M = 700,
            P = 72,
            C = 128,
            R = "-",
            A = /^xn--/,
            I = /[^\x20-\x7E]/,
            D = /[\x2E\u3002\uFF0E\uFF61]/g,
            L = {
              overflow: "Overflow: input needs wider integers to process",
              "not-basic": "Illegal input >= 0x80 (not a basic code point)",
              "invalid-input": "Invalid input"
            },
            N = w - E,
            B = Math.floor,
            k = String.fromCharCode;
          if (b = {
            version: "1.4.1",
            ucs2: {
              decode: u,
              encode: h
            },
            decode: f,
            encode: p,
            toASCII: g,
            toUnicode: v
          }, "function" == typeof t && "object" == _typeof(t.amd) && t.amd) t("punycode", function () {
            return b;
          });else if (y && m) {
            if (r.exports == y) m.exports = b;else for (x in b) b.hasOwnProperty(x) && (y[x] = b[x]);
          } else i.punycode = b;
        }(this);
      }).call(this, "undefined" != typeof __webpack_require__.g ? __webpack_require__.g : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {});
    }, {}],
    28: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        return Object.prototype.hasOwnProperty.call(t, e);
      }
      e.exports = function (t, e, r, o) {
        e = e || "&", r = r || "=";
        var s = {};
        if ("string" != typeof t || 0 === t.length) return s;
        var a = /\+/g;
        t = t.split(e);
        var u = 1e3;
        o && "number" == typeof o.maxKeys && (u = o.maxKeys);
        var h = t.length;
        u > 0 && h > u && (h = u);
        for (var l = 0; l < h; ++l) {
          var c,
            d,
            f,
            p,
            v = t[l].replace(a, "%20"),
            g = v.indexOf(r);
          g >= 0 ? (c = v.substr(0, g), d = v.substr(g + 1)) : (c = v, d = ""), f = decodeURIComponent(c), p = decodeURIComponent(d), n(s, f) ? i(s[f]) ? s[f].push(p) : s[f] = [s[f], p] : s[f] = p;
        }
        return s;
      };
      var i = Array.isArray || function (t) {
        return "[object Array]" === Object.prototype.toString.call(t);
      };
    }, {}],
    29: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (t.map) return t.map(e);
        for (var r = [], n = 0; n < t.length; n++) r.push(e(t[n], n));
        return r;
      }
      var i = function i(t) {
        switch (_typeof(t)) {
          case "string":
            return t;
          case "boolean":
            return t ? "true" : "false";
          case "number":
            return isFinite(t) ? t : "";
          default:
            return "";
        }
      };
      e.exports = function (t, e, r, a) {
        return e = e || "&", r = r || "=", null === t && (t = void 0), "object" == _typeof(t) ? n(s(t), function (s) {
          var a = encodeURIComponent(i(s)) + r;
          return o(t[s]) ? n(t[s], function (t) {
            return a + encodeURIComponent(i(t));
          }).join(e) : a + encodeURIComponent(i(t[s]));
        }).join(e) : a ? encodeURIComponent(i(a)) + r + encodeURIComponent(i(t)) : "";
      };
      var o = Array.isArray || function (t) {
          return "[object Array]" === Object.prototype.toString.call(t);
        },
        s = Object.keys || function (t) {
          var e = [];
          for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && e.push(r);
          return e;
        };
    }, {}],
    30: [function (t, e, r) {
      "use strict";

      r.decode = r.parse = t("./decode"), r.encode = r.stringify = t("./encode");
    }, {
      "./decode": 28,
      "./encode": 29
    }],
    31: [function (t, e, r) {
      "use strict";

      e.exports = function (t, e, r) {
        var n,
          i = t.length;
        if (!(e >= i || 0 === r)) {
          r = e + r > i ? i - e : r;
          var o = i - r;
          for (n = e; n < o; ++n) t[n] = t[n + r];
          t.length = o;
        }
      };
    }, {}],
    32: [function (t, e, r) {
      "use strict";

      function n(t) {
        return t && t.__esModule ? t : {
          default: t
        };
      }
      function i(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      r.__esModule = !0, r.Loader = void 0;
      var o = "function" == typeof Symbol && "symbol" == _typeof(Symbol.iterator) ? function (t) {
          return _typeof(t);
        } : function (t) {
          return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof(t);
        },
        s = function () {
          function t(t, e) {
            for (var r = 0; r < e.length; r++) {
              var n = e[r];
              n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n);
            }
          }
          return function (e, r, n) {
            return r && t(e.prototype, r), n && t(e, n), e;
          };
        }(),
        a = t("mini-signals"),
        u = n(a),
        h = t("parse-uri"),
        l = n(h),
        c = t("./async"),
        d = function (t) {
          if (t && t.__esModule) return t;
          var e = {};
          if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
          return e.default = t, e;
        }(c),
        f = t("./Resource"),
        p = /(#[\w-]+)?$/,
        v = r.Loader = function () {
          function t() {
            var e = this,
              r = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "",
              n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 10;
            i(this, t), this.baseUrl = r, this.progress = 0, this.loading = !1, this.defaultQueryString = "", this._beforeMiddleware = [], this._afterMiddleware = [], this._resourcesParsing = [], this._boundLoadResource = function (t, r) {
              return e._loadResource(t, r);
            }, this._queue = d.queue(this._boundLoadResource, n), this._queue.pause(), this.resources = {}, this.onProgress = new u.default(), this.onError = new u.default(), this.onLoad = new u.default(), this.onStart = new u.default(), this.onComplete = new u.default();
            for (var o = 0; o < t._defaultBeforeMiddleware.length; ++o) this.pre(t._defaultBeforeMiddleware[o]);
            for (var s = 0; s < t._defaultAfterMiddleware.length; ++s) this.use(t._defaultAfterMiddleware[s]);
          }
          return t.prototype.add = function (t, e, r, n) {
            if (Array.isArray(t)) {
              for (var i = 0; i < t.length; ++i) this.add(t[i]);
              return this;
            }
            if ("object" === (void 0 === t ? "undefined" : o(t)) && (n = e || t.callback || t.onComplete, r = t, e = t.url, t = t.name || t.key || t.url), "string" != typeof e && (n = r, r = e, e = t), "string" != typeof e) throw new Error("No url passed to add resource to loader.");
            if ("function" == typeof r && (n = r, r = null), this.loading && (!r || !r.parentResource)) throw new Error("Cannot add resources while the loader is running.");
            if (this.resources[t]) throw new Error('Resource named "' + t + '" already exists.');
            if (e = this._prepareUrl(e), this.resources[t] = new f.Resource(t, e, r), "function" == typeof n && this.resources[t].onAfterMiddleware.once(n), this.loading) {
              for (var s = r.parentResource, a = [], u = 0; u < s.children.length; ++u) s.children[u].isComplete || a.push(s.children[u]);
              var h = s.progressChunk * (a.length + 1),
                l = h / (a.length + 2);
              s.children.push(this.resources[t]), s.progressChunk = l;
              for (var c = 0; c < a.length; ++c) a[c].progressChunk = l;
              this.resources[t].progressChunk = l;
            }
            return this._queue.push(this.resources[t]), this;
          }, t.prototype.pre = function (t) {
            return this._beforeMiddleware.push(t), this;
          }, t.prototype.use = function (t) {
            return this._afterMiddleware.push(t), this;
          }, t.prototype.reset = function () {
            this.progress = 0, this.loading = !1, this._queue.kill(), this._queue.pause();
            for (var t in this.resources) {
              var e = this.resources[t];
              e._onLoadBinding && e._onLoadBinding.detach(), e.isLoading && e.abort();
            }
            return this.resources = {}, this;
          }, t.prototype.load = function (t) {
            if ("function" == typeof t && this.onComplete.once(t), this.loading) return this;
            if (this._queue.idle()) this._onStart(), this._onComplete();else {
              for (var e = this._queue._tasks.length, r = 100 / e, n = 0; n < this._queue._tasks.length; ++n) this._queue._tasks[n].data.progressChunk = r;
              this._onStart(), this._queue.resume();
            }
            return this;
          }, t.prototype._prepareUrl = function (t) {
            var e = (0, l.default)(t, {
                strictMode: !0
              }),
              r = void 0;
            if (r = e.protocol || !e.path || 0 === t.indexOf("//") ? t : this.baseUrl.length && this.baseUrl.lastIndexOf("/") !== this.baseUrl.length - 1 && "/" !== t.charAt(0) ? this.baseUrl + "/" + t : this.baseUrl + t, this.defaultQueryString) {
              var n = p.exec(r)[0];
              r = r.substr(0, r.length - n.length), -1 !== r.indexOf("?") ? r += "&" + this.defaultQueryString : r += "?" + this.defaultQueryString, r += n;
            }
            return r;
          }, t.prototype._loadResource = function (t, e) {
            var r = this;
            t._dequeue = e, d.eachSeries(this._beforeMiddleware, function (e, n) {
              e.call(r, t, function () {
                n(t.isComplete ? {} : null);
              });
            }, function () {
              t.isComplete ? r._onLoad(t) : (t._onLoadBinding = t.onComplete.once(r._onLoad, r), t.load());
            }, !0);
          }, t.prototype._onStart = function () {
            this.progress = 0, this.loading = !0, this.onStart.dispatch(this);
          }, t.prototype._onComplete = function () {
            this.progress = 100, this.loading = !1, this.onComplete.dispatch(this, this.resources);
          }, t.prototype._onLoad = function (t) {
            var e = this;
            t._onLoadBinding = null, this._resourcesParsing.push(t), t._dequeue(), d.eachSeries(this._afterMiddleware, function (r, n) {
              r.call(e, t, n);
            }, function () {
              t.onAfterMiddleware.dispatch(t), e.progress = Math.min(100, e.progress + t.progressChunk), e.onProgress.dispatch(e, t), t.error ? e.onError.dispatch(t.error, e, t) : e.onLoad.dispatch(e, t), e._resourcesParsing.splice(e._resourcesParsing.indexOf(t), 1), e._queue.idle() && 0 === e._resourcesParsing.length && e._onComplete();
            }, !0);
          }, s(t, [{
            key: "concurrency",
            get: function get() {
              return this._queue.concurrency;
            },
            set: function set(t) {
              this._queue.concurrency = t;
            }
          }]), t;
        }();
      v._defaultBeforeMiddleware = [], v._defaultAfterMiddleware = [], v.pre = function (t) {
        return v._defaultBeforeMiddleware.push(t), v;
      }, v.use = function (t) {
        return v._defaultAfterMiddleware.push(t), v;
      };
    }, {
      "./Resource": 33,
      "./async": 34,
      "mini-signals": 5,
      "parse-uri": 7
    }],
    33: [function (t, e, r) {
      "use strict";

      function n(t) {
        return t && t.__esModule ? t : {
          default: t
        };
      }
      function i(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      function o() {}
      function s(t, e, r) {
        e && 0 === e.indexOf(".") && (e = e.substring(1)), e && (t[e] = r);
      }
      function a(t) {
        return t.toString().replace("object ", "");
      }
      r.__esModule = !0, r.Resource = void 0;
      var u = function () {
          function t(t, e) {
            for (var r = 0; r < e.length; r++) {
              var n = e[r];
              n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n);
            }
          }
          return function (e, r, n) {
            return r && t(e.prototype, r), n && t(e, n), e;
          };
        }(),
        h = t("parse-uri"),
        l = n(h),
        c = t("mini-signals"),
        d = n(c),
        f = !(!window.XDomainRequest || "withCredentials" in new XMLHttpRequest()),
        p = null,
        v = r.Resource = function () {
          function t(e, r, n) {
            if (i(this, t), "string" != typeof e || "string" != typeof r) throw new Error("Both name and url are required for constructing a resource.");
            n = n || {}, this._flags = 0, this._setFlag(t.STATUS_FLAGS.DATA_URL, 0 === r.indexOf("data:")), this.name = e, this.url = r, this.extension = this._getExtension(), this.data = null, this.crossOrigin = !0 === n.crossOrigin ? "anonymous" : n.crossOrigin, this.timeout = n.timeout || 0, this.loadType = n.loadType || this._determineLoadType(), this.xhrType = n.xhrType, this.metadata = n.metadata || {}, this.error = null, this.xhr = null, this.children = [], this.type = t.TYPE.UNKNOWN, this.progressChunk = 0, this._dequeue = o, this._onLoadBinding = null, this._elementTimer = 0, this._boundComplete = this.complete.bind(this), this._boundOnError = this._onError.bind(this), this._boundOnProgress = this._onProgress.bind(this), this._boundOnTimeout = this._onTimeout.bind(this), this._boundXhrOnError = this._xhrOnError.bind(this), this._boundXhrOnTimeout = this._xhrOnTimeout.bind(this), this._boundXhrOnAbort = this._xhrOnAbort.bind(this), this._boundXhrOnLoad = this._xhrOnLoad.bind(this), this.onStart = new d.default(), this.onProgress = new d.default(), this.onComplete = new d.default(), this.onAfterMiddleware = new d.default();
          }
          return t.setExtensionLoadType = function (e, r) {
            s(t._loadTypeMap, e, r);
          }, t.setExtensionXhrType = function (e, r) {
            s(t._xhrTypeMap, e, r);
          }, t.prototype.complete = function () {
            this._clearEvents(), this._finish();
          }, t.prototype.abort = function (e) {
            if (!this.error) {
              if (this.error = new Error(e), this._clearEvents(), this.xhr) this.xhr.abort();else if (this.xdr) this.xdr.abort();else if (this.data) if (this.data.src) this.data.src = t.EMPTY_GIF;else for (; this.data.firstChild;) this.data.removeChild(this.data.firstChild);
              this._finish();
            }
          }, t.prototype.load = function (e) {
            var r = this;
            if (!this.isLoading) {
              if (this.isComplete) return void (e && setTimeout(function () {
                return e(r);
              }, 1));
              switch (e && this.onComplete.once(e), this._setFlag(t.STATUS_FLAGS.LOADING, !0), this.onStart.dispatch(this), !1 !== this.crossOrigin && "string" == typeof this.crossOrigin || (this.crossOrigin = this._determineCrossOrigin(this.url)), this.loadType) {
                case t.LOAD_TYPE.IMAGE:
                  this.type = t.TYPE.IMAGE, this._loadElement("image");
                  break;
                case t.LOAD_TYPE.AUDIO:
                  this.type = t.TYPE.AUDIO, this._loadSourceElement("audio");
                  break;
                case t.LOAD_TYPE.VIDEO:
                  this.type = t.TYPE.VIDEO, this._loadSourceElement("video");
                  break;
                case t.LOAD_TYPE.XHR:
                default:
                  f && this.crossOrigin ? this._loadXdr() : this._loadXhr();
              }
            }
          }, t.prototype._hasFlag = function (t) {
            return 0 != (this._flags & t);
          }, t.prototype._setFlag = function (t, e) {
            this._flags = e ? this._flags | t : this._flags & ~t;
          }, t.prototype._clearEvents = function () {
            clearTimeout(this._elementTimer), this.data && this.data.removeEventListener && (this.data.removeEventListener("error", this._boundOnError, !1), this.data.removeEventListener("load", this._boundComplete, !1), this.data.removeEventListener("progress", this._boundOnProgress, !1), this.data.removeEventListener("canplaythrough", this._boundComplete, !1)), this.xhr && (this.xhr.removeEventListener ? (this.xhr.removeEventListener("error", this._boundXhrOnError, !1), this.xhr.removeEventListener("timeout", this._boundXhrOnTimeout, !1), this.xhr.removeEventListener("abort", this._boundXhrOnAbort, !1), this.xhr.removeEventListener("progress", this._boundOnProgress, !1), this.xhr.removeEventListener("load", this._boundXhrOnLoad, !1)) : (this.xhr.onerror = null, this.xhr.ontimeout = null, this.xhr.onprogress = null, this.xhr.onload = null));
          }, t.prototype._finish = function () {
            if (this.isComplete) throw new Error("Complete called again for an already completed resource.");
            this._setFlag(t.STATUS_FLAGS.COMPLETE, !0), this._setFlag(t.STATUS_FLAGS.LOADING, !1), this.onComplete.dispatch(this);
          }, t.prototype._loadElement = function (t) {
            this.metadata.loadElement ? this.data = this.metadata.loadElement : "image" === t && void 0 !== window.Image ? this.data = new Image() : this.data = document.createElement(t), this.crossOrigin && (this.data.crossOrigin = this.crossOrigin), this.metadata.skipSource || (this.data.src = this.url), this.data.addEventListener("error", this._boundOnError, !1), this.data.addEventListener("load", this._boundComplete, !1), this.data.addEventListener("progress", this._boundOnProgress, !1), this.timeout && (this._elementTimer = setTimeout(this._boundOnTimeout, this.timeout));
          }, t.prototype._loadSourceElement = function (t) {
            if (this.metadata.loadElement ? this.data = this.metadata.loadElement : "audio" === t && void 0 !== window.Audio ? this.data = new Audio() : this.data = document.createElement(t), null === this.data) return void this.abort("Unsupported element: " + t);
            if (this.crossOrigin && (this.data.crossOrigin = this.crossOrigin), !this.metadata.skipSource) if (navigator.isCocoonJS) this.data.src = Array.isArray(this.url) ? this.url[0] : this.url;else if (Array.isArray(this.url)) for (var e = this.metadata.mimeType, r = 0; r < this.url.length; ++r) this.data.appendChild(this._createSource(t, this.url[r], Array.isArray(e) ? e[r] : e));else {
              var n = this.metadata.mimeType;
              this.data.appendChild(this._createSource(t, this.url, Array.isArray(n) ? n[0] : n));
            }
            this.data.addEventListener("error", this._boundOnError, !1), this.data.addEventListener("load", this._boundComplete, !1), this.data.addEventListener("progress", this._boundOnProgress, !1), this.data.addEventListener("canplaythrough", this._boundComplete, !1), this.data.load(), this.timeout && (this._elementTimer = setTimeout(this._boundOnTimeout, this.timeout));
          }, t.prototype._loadXhr = function () {
            "string" != typeof this.xhrType && (this.xhrType = this._determineXhrType());
            var e = this.xhr = new XMLHttpRequest();
            e.open("GET", this.url, !0), e.timeout = this.timeout, this.xhrType === t.XHR_RESPONSE_TYPE.JSON || this.xhrType === t.XHR_RESPONSE_TYPE.DOCUMENT ? e.responseType = t.XHR_RESPONSE_TYPE.TEXT : e.responseType = this.xhrType, e.addEventListener("error", this._boundXhrOnError, !1), e.addEventListener("timeout", this._boundXhrOnTimeout, !1), e.addEventListener("abort", this._boundXhrOnAbort, !1), e.addEventListener("progress", this._boundOnProgress, !1), e.addEventListener("load", this._boundXhrOnLoad, !1), e.send();
          }, t.prototype._loadXdr = function () {
            "string" != typeof this.xhrType && (this.xhrType = this._determineXhrType());
            var t = this.xhr = new XDomainRequest();
            t.timeout = this.timeout || 5e3, t.onerror = this._boundXhrOnError, t.ontimeout = this._boundXhrOnTimeout, t.onprogress = this._boundOnProgress, t.onload = this._boundXhrOnLoad, t.open("GET", this.url, !0), setTimeout(function () {
              return t.send();
            }, 1);
          }, t.prototype._createSource = function (t, e, r) {
            r || (r = t + "/" + this._getExtension(e));
            var n = document.createElement("source");
            return n.src = e, n.type = r, n;
          }, t.prototype._onError = function (t) {
            this.abort("Failed to load element using: " + t.target.nodeName);
          }, t.prototype._onProgress = function (t) {
            t && t.lengthComputable && this.onProgress.dispatch(this, t.loaded / t.total);
          }, t.prototype._onTimeout = function () {
            this.abort("Load timed out.");
          }, t.prototype._xhrOnError = function () {
            var t = this.xhr;
            this.abort(a(t) + " Request failed. Status: " + t.status + ', text: "' + t.statusText + '"');
          }, t.prototype._xhrOnTimeout = function () {
            var t = this.xhr;
            this.abort(a(t) + " Request timed out.");
          }, t.prototype._xhrOnAbort = function () {
            var t = this.xhr;
            this.abort(a(t) + " Request was aborted by the user.");
          }, t.prototype._xhrOnLoad = function () {
            var e = this.xhr,
              r = "",
              n = void 0 === e.status ? 200 : e.status;
            if ("" !== e.responseType && "text" !== e.responseType && void 0 !== e.responseType || (r = e.responseText), 0 === n && (r.length > 0 || e.responseType === t.XHR_RESPONSE_TYPE.BUFFER) ? n = 200 : 1223 === n && (n = 204), 2 != (n / 100 | 0)) return void this.abort("[" + e.status + "] " + e.statusText + ": " + e.responseURL);
            if (this.xhrType === t.XHR_RESPONSE_TYPE.TEXT) this.data = r, this.type = t.TYPE.TEXT;else if (this.xhrType === t.XHR_RESPONSE_TYPE.JSON) try {
              this.data = JSON.parse(r), this.type = t.TYPE.JSON;
            } catch (t) {
              return void this.abort("Error trying to parse loaded json: " + t);
            } else if (this.xhrType === t.XHR_RESPONSE_TYPE.DOCUMENT) try {
              if (window.DOMParser) {
                var i = new DOMParser();
                this.data = i.parseFromString(r, "text/xml");
              } else {
                var o = document.createElement("div");
                o.innerHTML = r, this.data = o;
              }
              this.type = t.TYPE.XML;
            } catch (t) {
              return void this.abort("Error trying to parse loaded xml: " + t);
            } else this.data = e.response || r;
            this.complete();
          }, t.prototype._determineCrossOrigin = function (t, e) {
            if (0 === t.indexOf("data:")) return "";
            if (window.origin !== window.location.origin) return "anonymous";
            e = e || window.location, p || (p = document.createElement("a")), p.href = t, t = (0, l.default)(p.href, {
              strictMode: !0
            });
            var r = !t.port && "" === e.port || t.port === e.port,
              n = t.protocol ? t.protocol + ":" : "";
            return t.host === e.hostname && r && n === e.protocol ? "" : "anonymous";
          }, t.prototype._determineXhrType = function () {
            return t._xhrTypeMap[this.extension] || t.XHR_RESPONSE_TYPE.TEXT;
          }, t.prototype._determineLoadType = function () {
            return t._loadTypeMap[this.extension] || t.LOAD_TYPE.XHR;
          }, t.prototype._getExtension = function () {
            var t = this.url,
              e = "";
            if (this.isDataUrl) {
              var r = t.indexOf("/");
              e = t.substring(r + 1, t.indexOf(";", r));
            } else {
              var n = t.indexOf("?"),
                i = t.indexOf("#"),
                o = Math.min(n > -1 ? n : t.length, i > -1 ? i : t.length);
              t = t.substring(0, o), e = t.substring(t.lastIndexOf(".") + 1);
            }
            return e.toLowerCase();
          }, t.prototype._getMimeFromXhrType = function (e) {
            switch (e) {
              case t.XHR_RESPONSE_TYPE.BUFFER:
                return "application/octet-binary";
              case t.XHR_RESPONSE_TYPE.BLOB:
                return "application/blob";
              case t.XHR_RESPONSE_TYPE.DOCUMENT:
                return "application/xml";
              case t.XHR_RESPONSE_TYPE.JSON:
                return "application/json";
              case t.XHR_RESPONSE_TYPE.DEFAULT:
              case t.XHR_RESPONSE_TYPE.TEXT:
              default:
                return "text/plain";
            }
          }, u(t, [{
            key: "isDataUrl",
            get: function get() {
              return this._hasFlag(t.STATUS_FLAGS.DATA_URL);
            }
          }, {
            key: "isComplete",
            get: function get() {
              return this._hasFlag(t.STATUS_FLAGS.COMPLETE);
            }
          }, {
            key: "isLoading",
            get: function get() {
              return this._hasFlag(t.STATUS_FLAGS.LOADING);
            }
          }]), t;
        }();
      v.STATUS_FLAGS = {
        NONE: 0,
        DATA_URL: 1,
        COMPLETE: 2,
        LOADING: 4
      }, v.TYPE = {
        UNKNOWN: 0,
        JSON: 1,
        XML: 2,
        IMAGE: 3,
        AUDIO: 4,
        VIDEO: 5,
        TEXT: 6
      }, v.LOAD_TYPE = {
        XHR: 1,
        IMAGE: 2,
        AUDIO: 3,
        VIDEO: 4
      }, v.XHR_RESPONSE_TYPE = {
        DEFAULT: "text",
        BUFFER: "arraybuffer",
        BLOB: "blob",
        DOCUMENT: "document",
        JSON: "json",
        TEXT: "text"
      }, v._loadTypeMap = {
        gif: v.LOAD_TYPE.IMAGE,
        png: v.LOAD_TYPE.IMAGE,
        bmp: v.LOAD_TYPE.IMAGE,
        jpg: v.LOAD_TYPE.IMAGE,
        jpeg: v.LOAD_TYPE.IMAGE,
        tif: v.LOAD_TYPE.IMAGE,
        tiff: v.LOAD_TYPE.IMAGE,
        webp: v.LOAD_TYPE.IMAGE,
        tga: v.LOAD_TYPE.IMAGE,
        svg: v.LOAD_TYPE.IMAGE,
        "svg+xml": v.LOAD_TYPE.IMAGE,
        mp3: v.LOAD_TYPE.AUDIO,
        ogg: v.LOAD_TYPE.AUDIO,
        wav: v.LOAD_TYPE.AUDIO,
        mp4: v.LOAD_TYPE.VIDEO,
        webm: v.LOAD_TYPE.VIDEO
      }, v._xhrTypeMap = {
        xhtml: v.XHR_RESPONSE_TYPE.DOCUMENT,
        html: v.XHR_RESPONSE_TYPE.DOCUMENT,
        htm: v.XHR_RESPONSE_TYPE.DOCUMENT,
        xml: v.XHR_RESPONSE_TYPE.DOCUMENT,
        tmx: v.XHR_RESPONSE_TYPE.DOCUMENT,
        svg: v.XHR_RESPONSE_TYPE.DOCUMENT,
        tsx: v.XHR_RESPONSE_TYPE.DOCUMENT,
        gif: v.XHR_RESPONSE_TYPE.BLOB,
        png: v.XHR_RESPONSE_TYPE.BLOB,
        bmp: v.XHR_RESPONSE_TYPE.BLOB,
        jpg: v.XHR_RESPONSE_TYPE.BLOB,
        jpeg: v.XHR_RESPONSE_TYPE.BLOB,
        tif: v.XHR_RESPONSE_TYPE.BLOB,
        tiff: v.XHR_RESPONSE_TYPE.BLOB,
        webp: v.XHR_RESPONSE_TYPE.BLOB,
        tga: v.XHR_RESPONSE_TYPE.BLOB,
        json: v.XHR_RESPONSE_TYPE.JSON,
        text: v.XHR_RESPONSE_TYPE.TEXT,
        txt: v.XHR_RESPONSE_TYPE.TEXT,
        ttf: v.XHR_RESPONSE_TYPE.BUFFER,
        otf: v.XHR_RESPONSE_TYPE.BUFFER
      }, v.EMPTY_GIF = "data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==", void 0 !== e && (e.exports.default = v);
    }, {
      "mini-signals": 5,
      "parse-uri": 7
    }],
    34: [function (t, e, r) {
      "use strict";

      function n() {}
      function i(t, e, r, n) {
        var i = 0,
          o = t.length;
        !function s(a) {
          if (a || i === o) return void (r && r(a));
          n ? setTimeout(function () {
            e(t[i++], s);
          }, 1) : e(t[i++], s);
        }();
      }
      function o(t) {
        return function () {
          if (null === t) throw new Error("Callback was already called.");
          var e = t;
          t = null, e.apply(this, arguments);
        };
      }
      function s(t, e) {
        function r(t, e, r) {
          if (null != r && "function" != typeof r) throw new Error("task callback must be a function");
          if (a.started = !0, null == t && a.idle()) return void setTimeout(function () {
            return a.drain();
          }, 1);
          var i = {
            data: t,
            callback: "function" == typeof r ? r : n
          };
          e ? a._tasks.unshift(i) : a._tasks.push(i), setTimeout(function () {
            return a.process();
          }, 1);
        }
        function i(t) {
          return function () {
            s -= 1, t.callback.apply(t, arguments), null != arguments[0] && a.error(arguments[0], t.data), s <= a.concurrency - a.buffer && a.unsaturated(), a.idle() && a.drain(), a.process();
          };
        }
        if (null == e) e = 1;else if (0 === e) throw new Error("Concurrency must not be zero");
        var s = 0,
          a = {
            _tasks: [],
            concurrency: e,
            saturated: n,
            unsaturated: n,
            buffer: e / 4,
            empty: n,
            drain: n,
            error: n,
            started: !1,
            paused: !1,
            push: function push(t, e) {
              r(t, !1, e);
            },
            kill: function kill() {
              s = 0, a.drain = n, a.started = !1, a._tasks = [];
            },
            unshift: function unshift(t, e) {
              r(t, !0, e);
            },
            process: function process() {
              for (; !a.paused && s < a.concurrency && a._tasks.length;) {
                var e = a._tasks.shift();
                0 === a._tasks.length && a.empty(), s += 1, s === a.concurrency && a.saturated(), t(e.data, o(i(e)));
              }
            },
            length: function length() {
              return a._tasks.length;
            },
            running: function running() {
              return s;
            },
            idle: function idle() {
              return a._tasks.length + s === 0;
            },
            pause: function pause() {
              !0 !== a.paused && (a.paused = !0);
            },
            resume: function resume() {
              if (!1 !== a.paused) {
                a.paused = !1;
                for (var t = 1; t <= a.concurrency; t++) a.process();
              }
            }
          };
        return a;
      }
      r.__esModule = !0, r.eachSeries = i, r.queue = s;
    }, {}],
    35: [function (t, e, r) {
      "use strict";

      function n(t) {
        for (var e = "", r = 0; r < t.length;) {
          for (var n = [0, 0, 0], o = [0, 0, 0, 0], s = 0; s < n.length; ++s) r < t.length ? n[s] = 255 & t.charCodeAt(r++) : n[s] = 0;
          o[0] = n[0] >> 2, o[1] = (3 & n[0]) << 4 | n[1] >> 4, o[2] = (15 & n[1]) << 2 | n[2] >> 6, o[3] = 63 & n[2];
          switch (r - (t.length - 1)) {
            case 2:
              o[3] = 64, o[2] = 64;
              break;
            case 1:
              o[3] = 64;
          }
          for (var a = 0; a < o.length; ++a) e += i.charAt(o[a]);
        }
        return e;
      }
      r.__esModule = !0, r.encodeBinary = n;
      var i = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
      void 0 !== e && (e.exports.default = n);
    }, {}],
    36: [function (t, e, r) {
      "use strict";

      var n = t("./Loader").Loader,
        i = t("./Resource").Resource,
        o = t("./async"),
        s = t("./b64");
      n.Resource = i, n.async = o, n.encodeBinary = s, n.base64 = s, e.exports = n, e.exports.Loader = n, e.exports.default = n;
    }, {
      "./Loader": 32,
      "./Resource": 33,
      "./async": 34,
      "./b64": 35
    }],
    37: [function (t, e, r) {
      "use strict";

      function n() {
        return function (t, e) {
          if (!t.data) return void e();
          if (t.xhr && t.xhrType === i.Resource.XHR_RESPONSE_TYPE.BLOB) if (window.Blob && "string" != typeof t.data) {
            if (0 === t.data.type.indexOf("image")) {
              var r = s.createObjectURL(t.data);
              return t.blob = t.data, t.data = new Image(), t.data.src = r, t.type = i.Resource.TYPE.IMAGE, void (t.data.onload = function () {
                s.revokeObjectURL(r), t.data.onload = null, e();
              });
            }
          } else {
            var n = t.xhr.getResponseHeader("content-type");
            if (n && 0 === n.indexOf("image")) return t.data = new Image(), t.data.src = "data:" + n + ";base64," + (0, o.encodeBinary)(t.xhr.responseText), t.type = i.Resource.TYPE.IMAGE, void (t.data.onload = function () {
              t.data.onload = null, e();
            });
          }
          e();
        };
      }
      r.__esModule = !0, r.blobMiddlewareFactory = n;
      var i = t("../../Resource"),
        o = t("../../b64"),
        s = window.URL || window.webkitURL;
    }, {
      "../../Resource": 33,
      "../../b64": 35
    }],
    38: [function (t, e, r) {
      "use strict";

      function n() {
        this.protocol = null, this.slashes = null, this.auth = null, this.host = null, this.port = null, this.hostname = null, this.hash = null, this.search = null, this.query = null, this.pathname = null, this.path = null, this.href = null;
      }
      function i(t, e, r) {
        if (t && h.isObject(t) && t instanceof n) return t;
        var i = new n();
        return i.parse(t, e, r), i;
      }
      function o(t) {
        return h.isString(t) && (t = i(t)), t instanceof n ? t.format() : n.prototype.format.call(t);
      }
      function s(t, e) {
        return i(t, !1, !0).resolve(e);
      }
      function a(t, e) {
        return t ? i(t, !1, !0).resolveObject(e) : e;
      }
      var u = t("punycode"),
        h = t("./util");
      r.parse = i, r.resolve = s, r.resolveObject = a, r.format = o, r.Url = n;
      var l = /^([a-z0-9.+-]+:)/i,
        c = /:[0-9]*$/,
        d = /^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,
        f = ["<", ">", '"', "`", " ", "\r", "\n", "\t"],
        p = ["{", "}", "|", "\\", "^", "`"].concat(f),
        v = ["'"].concat(p),
        g = ["%", "/", "?", ";", "#"].concat(v),
        y = ["/", "?", "#"],
        m = /^[+a-z0-9A-Z_-]{0,63}$/,
        _ = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,
        b = {
          javascript: !0,
          "javascript:": !0
        },
        x = {
          javascript: !0,
          "javascript:": !0
        },
        T = {
          http: !0,
          https: !0,
          ftp: !0,
          gopher: !0,
          file: !0,
          "http:": !0,
          "https:": !0,
          "ftp:": !0,
          "gopher:": !0,
          "file:": !0
        },
        w = t("querystring");
      n.prototype.parse = function (t, e, r) {
        if (!h.isString(t)) throw new TypeError("Parameter 'url' must be a string, not " + _typeof(t));
        var n = t.indexOf("?"),
          i = -1 !== n && n < t.indexOf("#") ? "?" : "#",
          o = t.split(i),
          s = /\\/g;
        o[0] = o[0].replace(s, "/"), t = o.join(i);
        var a = t;
        if (a = a.trim(), !r && 1 === t.split("#").length) {
          var c = d.exec(a);
          if (c) return this.path = a, this.href = a, this.pathname = c[1], c[2] ? (this.search = c[2], this.query = e ? w.parse(this.search.substr(1)) : this.search.substr(1)) : e && (this.search = "", this.query = {}), this;
        }
        var f = l.exec(a);
        if (f) {
          f = f[0];
          var p = f.toLowerCase();
          this.protocol = p, a = a.substr(f.length);
        }
        if (r || f || a.match(/^\/\/[^@\/]+@[^@\/]+/)) {
          var E = "//" === a.substr(0, 2);
          !E || f && x[f] || (a = a.substr(2), this.slashes = !0);
        }
        if (!x[f] && (E || f && !T[f])) {
          for (var S = -1, O = 0; O < y.length; O++) {
            var M = a.indexOf(y[O]);
            -1 !== M && (-1 === S || M < S) && (S = M);
          }
          var P, C;
          C = -1 === S ? a.lastIndexOf("@") : a.lastIndexOf("@", S), -1 !== C && (P = a.slice(0, C), a = a.slice(C + 1), this.auth = decodeURIComponent(P)), S = -1;
          for (var O = 0; O < g.length; O++) {
            var M = a.indexOf(g[O]);
            -1 !== M && (-1 === S || M < S) && (S = M);
          }
          -1 === S && (S = a.length), this.host = a.slice(0, S), a = a.slice(S), this.parseHost(), this.hostname = this.hostname || "";
          var R = "[" === this.hostname[0] && "]" === this.hostname[this.hostname.length - 1];
          if (!R) for (var A = this.hostname.split(/\./), O = 0, I = A.length; O < I; O++) {
            var D = A[O];
            if (D && !D.match(m)) {
              for (var L = "", N = 0, B = D.length; N < B; N++) D.charCodeAt(N) > 127 ? L += "x" : L += D[N];
              if (!L.match(m)) {
                var k = A.slice(0, O),
                  F = A.slice(O + 1),
                  j = D.match(_);
                j && (k.push(j[1]), F.unshift(j[2])), F.length && (a = "/" + F.join(".") + a), this.hostname = k.join(".");
                break;
              }
            }
          }
          this.hostname.length > 255 ? this.hostname = "" : this.hostname = this.hostname.toLowerCase(), R || (this.hostname = u.toASCII(this.hostname));
          var U = this.port ? ":" + this.port : "",
            X = this.hostname || "";
          this.host = X + U, this.href += this.host, R && (this.hostname = this.hostname.substr(1, this.hostname.length - 2), "/" !== a[0] && (a = "/" + a));
        }
        if (!b[p]) for (var O = 0, I = v.length; O < I; O++) {
          var G = v[O];
          if (-1 !== a.indexOf(G)) {
            var W = encodeURIComponent(G);
            W === G && (W = escape(G)), a = a.split(G).join(W);
          }
        }
        var H = a.indexOf("#");
        -1 !== H && (this.hash = a.substr(H), a = a.slice(0, H));
        var Y = a.indexOf("?");
        if (-1 !== Y ? (this.search = a.substr(Y), this.query = a.substr(Y + 1), e && (this.query = w.parse(this.query)), a = a.slice(0, Y)) : e && (this.search = "", this.query = {}), a && (this.pathname = a), T[p] && this.hostname && !this.pathname && (this.pathname = "/"), this.pathname || this.search) {
          var U = this.pathname || "",
            V = this.search || "";
          this.path = U + V;
        }
        return this.href = this.format(), this;
      }, n.prototype.format = function () {
        var t = this.auth || "";
        t && (t = encodeURIComponent(t), t = t.replace(/%3A/i, ":"), t += "@");
        var e = this.protocol || "",
          r = this.pathname || "",
          n = this.hash || "",
          i = !1,
          o = "";
        this.host ? i = t + this.host : this.hostname && (i = t + (-1 === this.hostname.indexOf(":") ? this.hostname : "[" + this.hostname + "]"), this.port && (i += ":" + this.port)), this.query && h.isObject(this.query) && Object.keys(this.query).length && (o = w.stringify(this.query));
        var s = this.search || o && "?" + o || "";
        return e && ":" !== e.substr(-1) && (e += ":"), this.slashes || (!e || T[e]) && !1 !== i ? (i = "//" + (i || ""), r && "/" !== r.charAt(0) && (r = "/" + r)) : i || (i = ""), n && "#" !== n.charAt(0) && (n = "#" + n), s && "?" !== s.charAt(0) && (s = "?" + s), r = r.replace(/[?#]/g, function (t) {
          return encodeURIComponent(t);
        }), s = s.replace("#", "%23"), e + i + r + s + n;
      }, n.prototype.resolve = function (t) {
        return this.resolveObject(i(t, !1, !0)).format();
      }, n.prototype.resolveObject = function (t) {
        if (h.isString(t)) {
          var e = new n();
          e.parse(t, !1, !0), t = e;
        }
        for (var r = new n(), i = Object.keys(this), o = 0; o < i.length; o++) {
          var s = i[o];
          r[s] = this[s];
        }
        if (r.hash = t.hash, "" === t.href) return r.href = r.format(), r;
        if (t.slashes && !t.protocol) {
          for (var a = Object.keys(t), u = 0; u < a.length; u++) {
            var l = a[u];
            "protocol" !== l && (r[l] = t[l]);
          }
          return T[r.protocol] && r.hostname && !r.pathname && (r.path = r.pathname = "/"), r.href = r.format(), r;
        }
        if (t.protocol && t.protocol !== r.protocol) {
          if (!T[t.protocol]) {
            for (var c = Object.keys(t), d = 0; d < c.length; d++) {
              var f = c[d];
              r[f] = t[f];
            }
            return r.href = r.format(), r;
          }
          if (r.protocol = t.protocol, t.host || x[t.protocol]) r.pathname = t.pathname;else {
            for (var p = (t.pathname || "").split("/"); p.length && !(t.host = p.shift()););
            t.host || (t.host = ""), t.hostname || (t.hostname = ""), "" !== p[0] && p.unshift(""), p.length < 2 && p.unshift(""), r.pathname = p.join("/");
          }
          if (r.search = t.search, r.query = t.query, r.host = t.host || "", r.auth = t.auth, r.hostname = t.hostname || t.host, r.port = t.port, r.pathname || r.search) {
            var v = r.pathname || "",
              g = r.search || "";
            r.path = v + g;
          }
          return r.slashes = r.slashes || t.slashes, r.href = r.format(), r;
        }
        var y = r.pathname && "/" === r.pathname.charAt(0),
          m = t.host || t.pathname && "/" === t.pathname.charAt(0),
          _ = m || y || r.host && t.pathname,
          b = _,
          w = r.pathname && r.pathname.split("/") || [],
          p = t.pathname && t.pathname.split("/") || [],
          E = r.protocol && !T[r.protocol];
        if (E && (r.hostname = "", r.port = null, r.host && ("" === w[0] ? w[0] = r.host : w.unshift(r.host)), r.host = "", t.protocol && (t.hostname = null, t.port = null, t.host && ("" === p[0] ? p[0] = t.host : p.unshift(t.host)), t.host = null), _ = _ && ("" === p[0] || "" === w[0])), m) r.host = t.host || "" === t.host ? t.host : r.host, r.hostname = t.hostname || "" === t.hostname ? t.hostname : r.hostname, r.search = t.search, r.query = t.query, w = p;else if (p.length) w || (w = []), w.pop(), w = w.concat(p), r.search = t.search, r.query = t.query;else if (!h.isNullOrUndefined(t.search)) {
          if (E) {
            r.hostname = r.host = w.shift();
            var S = !!(r.host && r.host.indexOf("@") > 0) && r.host.split("@");
            S && (r.auth = S.shift(), r.host = r.hostname = S.shift());
          }
          return r.search = t.search, r.query = t.query, h.isNull(r.pathname) && h.isNull(r.search) || (r.path = (r.pathname ? r.pathname : "") + (r.search ? r.search : "")), r.href = r.format(), r;
        }
        if (!w.length) return r.pathname = null, r.search ? r.path = "/" + r.search : r.path = null, r.href = r.format(), r;
        for (var O = w.slice(-1)[0], M = (r.host || t.host || w.length > 1) && ("." === O || ".." === O) || "" === O, P = 0, C = w.length; C >= 0; C--) O = w[C], "." === O ? w.splice(C, 1) : ".." === O ? (w.splice(C, 1), P++) : P && (w.splice(C, 1), P--);
        if (!_ && !b) for (; P--; P) w.unshift("..");
        !_ || "" === w[0] || w[0] && "/" === w[0].charAt(0) || w.unshift(""), M && "/" !== w.join("/").substr(-1) && w.push("");
        var R = "" === w[0] || w[0] && "/" === w[0].charAt(0);
        if (E) {
          r.hostname = r.host = R ? "" : w.length ? w.shift() : "";
          var S = !!(r.host && r.host.indexOf("@") > 0) && r.host.split("@");
          S && (r.auth = S.shift(), r.host = r.hostname = S.shift());
        }
        return _ = _ || r.host && w.length, _ && !R && w.unshift(""), w.length ? r.pathname = w.join("/") : (r.pathname = null, r.path = null), h.isNull(r.pathname) && h.isNull(r.search) || (r.path = (r.pathname ? r.pathname : "") + (r.search ? r.search : "")), r.auth = t.auth || r.auth, r.slashes = r.slashes || t.slashes, r.href = r.format(), r;
      }, n.prototype.parseHost = function () {
        var t = this.host,
          e = c.exec(t);
        e && (e = e[0], ":" !== e && (this.port = e.substr(1)), t = t.substr(0, t.length - e.length)), t && (this.hostname = t);
      };
    }, {
      "./util": 39,
      punycode: 27,
      querystring: 30
    }],
    39: [function (t, e, r) {
      "use strict";

      e.exports = {
        isString: function isString(t) {
          return "string" == typeof t;
        },
        isObject: function isObject(t) {
          return "object" == _typeof(t) && null !== t;
        },
        isNull: function isNull(t) {
          return null === t;
        },
        isNullOrUndefined: function isNullOrUndefined(t) {
          return null == t;
        }
      };
    }, {}],
    40: [function (t, e, r) {
      "use strict";

      function n(t) {
        return t && t.__esModule ? t : {
          default: t
        };
      }
      function i(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      r.__esModule = !0;
      var o = t("../core"),
        s = function (t) {
          if (t && t.__esModule) return t;
          var e = {};
          if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
          return e.default = t, e;
        }(o),
        a = t("ismobilejs"),
        u = n(a),
        h = t("./accessibleTarget"),
        l = n(h);
      s.utils.mixins.delayMixin(s.DisplayObject.prototype, l.default);
      var c = 100,
        d = 0,
        f = 0,
        p = 2,
        v = function () {
          function t(e) {
            i(this, t), !u.default.tablet && !u.default.phone || navigator.isCocoonJS || this.createTouchHook();
            var r = document.createElement("div");
            r.style.width = c + "px", r.style.height = c + "px", r.style.position = "absolute", r.style.top = d + "px", r.style.left = f + "px", r.style.zIndex = p, this.div = r, this.pool = [], this.renderId = 0, this.debug = !1, this.renderer = e, this.children = [], this._onKeyDown = this._onKeyDown.bind(this), this._onMouseMove = this._onMouseMove.bind(this), this.isActive = !1, this.isMobileAccessabillity = !1, window.addEventListener("keydown", this._onKeyDown, !1);
          }
          return t.prototype.createTouchHook = function () {
            var t = this,
              e = document.createElement("button");
            e.style.width = "1px", e.style.height = "1px", e.style.position = "absolute", e.style.top = "-1000px", e.style.left = "-1000px", e.style.zIndex = 2, e.style.backgroundColor = "#FF0000", e.title = "HOOK DIV", e.addEventListener("focus", function () {
              t.isMobileAccessabillity = !0, t.activate(), document.body.removeChild(e);
            }), document.body.appendChild(e);
          }, t.prototype.activate = function () {
            this.isActive || (this.isActive = !0, window.document.addEventListener("mousemove", this._onMouseMove, !0), window.removeEventListener("keydown", this._onKeyDown, !1), this.renderer.on("postrender", this.update, this), this.renderer.view.parentNode && this.renderer.view.parentNode.appendChild(this.div));
          }, t.prototype.deactivate = function () {
            this.isActive && !this.isMobileAccessabillity && (this.isActive = !1, window.document.removeEventListener("mousemove", this._onMouseMove, !0), window.addEventListener("keydown", this._onKeyDown, !1), this.renderer.off("postrender", this.update), this.div.parentNode && this.div.parentNode.removeChild(this.div));
          }, t.prototype.updateAccessibleObjects = function (t) {
            if (t.visible) {
              t.accessible && t.interactive && (t._accessibleActive || this.addChild(t), t.renderId = this.renderId);
              for (var e = t.children, r = 0; r < e.length; r++) this.updateAccessibleObjects(e[r]);
            }
          }, t.prototype.update = function () {
            if (this.renderer.renderingToScreen) {
              this.updateAccessibleObjects(this.renderer._lastObjectRendered);
              var t = this.renderer.view.getBoundingClientRect(),
                e = t.width / this.renderer.width,
                r = t.height / this.renderer.height,
                n = this.div;
              n.style.left = t.left + "px", n.style.top = t.top + "px", n.style.width = this.renderer.width + "px", n.style.height = this.renderer.height + "px";
              for (var i = 0; i < this.children.length; i++) {
                var o = this.children[i];
                if (o.renderId !== this.renderId) o._accessibleActive = !1, s.utils.removeItems(this.children, i, 1), this.div.removeChild(o._accessibleDiv), this.pool.push(o._accessibleDiv), o._accessibleDiv = null, i--, 0 === this.children.length && this.deactivate();else {
                  n = o._accessibleDiv;
                  var a = o.hitArea,
                    u = o.worldTransform;
                  o.hitArea ? (n.style.left = (u.tx + a.x * u.a) * e + "px", n.style.top = (u.ty + a.y * u.d) * r + "px", n.style.width = a.width * u.a * e + "px", n.style.height = a.height * u.d * r + "px") : (a = o.getBounds(), this.capHitArea(a), n.style.left = a.x * e + "px", n.style.top = a.y * r + "px", n.style.width = a.width * e + "px", n.style.height = a.height * r + "px", n.title !== o.accessibleTitle && null !== o.accessibleTitle && (n.title = o.accessibleTitle), n.getAttribute("aria-label") !== o.accessibleHint && null !== o.accessibleHint && n.setAttribute("aria-label", o.accessibleHint));
                }
              }
              this.renderId++;
            }
          }, t.prototype.capHitArea = function (t) {
            t.x < 0 && (t.width += t.x, t.x = 0), t.y < 0 && (t.height += t.y, t.y = 0), t.x + t.width > this.renderer.width && (t.width = this.renderer.width - t.x), t.y + t.height > this.renderer.height && (t.height = this.renderer.height - t.y);
          }, t.prototype.addChild = function (t) {
            var e = this.pool.pop();
            e || (e = document.createElement("button"), e.style.width = c + "px", e.style.height = c + "px", e.style.backgroundColor = this.debug ? "rgba(255,0,0,0.5)" : "transparent", e.style.position = "absolute", e.style.zIndex = p, e.style.borderStyle = "none", navigator.userAgent.toLowerCase().indexOf("chrome") > -1 ? e.setAttribute("aria-live", "off") : e.setAttribute("aria-live", "polite"), navigator.userAgent.match(/rv:.*Gecko\//) ? e.setAttribute("aria-relevant", "additions") : e.setAttribute("aria-relevant", "text"), e.addEventListener("click", this._onClick.bind(this)), e.addEventListener("focus", this._onFocus.bind(this)), e.addEventListener("focusout", this._onFocusOut.bind(this))), t.accessibleTitle && null !== t.accessibleTitle ? e.title = t.accessibleTitle : t.accessibleHint && null !== t.accessibleHint || (e.title = "displayObject " + t.tabIndex), t.accessibleHint && null !== t.accessibleHint && e.setAttribute("aria-label", t.accessibleHint), t._accessibleActive = !0, t._accessibleDiv = e, e.displayObject = t, this.children.push(t), this.div.appendChild(t._accessibleDiv), t._accessibleDiv.tabIndex = t.tabIndex;
          }, t.prototype._onClick = function (t) {
            var e = this.renderer.plugins.interaction;
            e.dispatchEvent(t.target.displayObject, "click", e.eventData);
          }, t.prototype._onFocus = function (t) {
            t.target.getAttribute("aria-live", "off") || t.target.setAttribute("aria-live", "assertive");
            var e = this.renderer.plugins.interaction;
            e.dispatchEvent(t.target.displayObject, "mouseover", e.eventData);
          }, t.prototype._onFocusOut = function (t) {
            t.target.getAttribute("aria-live", "off") || t.target.setAttribute("aria-live", "polite");
            var e = this.renderer.plugins.interaction;
            e.dispatchEvent(t.target.displayObject, "mouseout", e.eventData);
          }, t.prototype._onKeyDown = function (t) {
            9 === t.keyCode && this.activate();
          }, t.prototype._onMouseMove = function (t) {
            0 === t.movementX && 0 === t.movementY || this.deactivate();
          }, t.prototype.destroy = function () {
            this.div = null;
            for (var t = 0; t < this.children.length; t++) this.children[t].div = null;
            window.document.removeEventListener("mousemove", this._onMouseMove, !0), window.removeEventListener("keydown", this._onKeyDown), this.pool = null, this.children = null, this.renderer = null;
          }, t;
        }();
      r.default = v, s.WebGLRenderer.registerPlugin("accessibility", v), s.CanvasRenderer.registerPlugin("accessibility", v);
    }, {
      "../core": 65,
      "./accessibleTarget": 41,
      ismobilejs: 4
    }],
    41: [function (t, e, r) {
      "use strict";

      r.__esModule = !0, r.default = {
        accessible: !1,
        accessibleTitle: null,
        accessibleHint: null,
        tabIndex: 0,
        _accessibleActive: !1,
        _accessibleDiv: !1
      };
    }, {}],
    42: [function (t, e, r) {
      "use strict";

      function n(t) {
        return t && t.__esModule ? t : {
          default: t
        };
      }
      r.__esModule = !0;
      var i = t("./accessibleTarget");
      Object.defineProperty(r, "accessibleTarget", {
        enumerable: !0,
        get: function get() {
          return n(i).default;
        }
      });
      var o = t("./AccessibilityManager");
      Object.defineProperty(r, "AccessibilityManager", {
        enumerable: !0,
        get: function get() {
          return n(o).default;
        }
      });
    }, {
      "./AccessibilityManager": 40,
      "./accessibleTarget": 41
    }],
    43: [function (t, e, r) {
      "use strict";

      function n(t) {
        return t && t.__esModule ? t : {
          default: t
        };
      }
      function i(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      r.__esModule = !0;
      var o = function () {
          function t(t, e) {
            for (var r = 0; r < e.length; r++) {
              var n = e[r];
              n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n);
            }
          }
          return function (e, r, n) {
            return r && t(e.prototype, r), n && t(e, n), e;
          };
        }(),
        s = t("./autoDetectRenderer"),
        a = t("./display/Container"),
        u = n(a),
        h = t("./ticker"),
        l = t("./settings"),
        c = n(l),
        d = t("./const"),
        f = function () {
          function t(e, r, n, o, a) {
            i(this, t), "number" == typeof e && (e = Object.assign({
              width: e,
              height: r || c.default.RENDER_OPTIONS.height,
              forceCanvas: !!o,
              sharedTicker: !!a
            }, n)), this._options = e = Object.assign({
              autoStart: !0,
              sharedTicker: !1,
              forceCanvas: !1,
              sharedLoader: !1
            }, e), this.renderer = (0, s.autoDetectRenderer)(e), this.stage = new u.default(), this._ticker = null, this.ticker = e.sharedTicker ? h.shared : new h.Ticker(), e.autoStart && this.start();
          }
          return t.prototype.render = function () {
            this.renderer.render(this.stage);
          }, t.prototype.stop = function () {
            this._ticker.stop();
          }, t.prototype.start = function () {
            this._ticker.start();
          }, t.prototype.destroy = function (t, e) {
            if (this._ticker) {
              var r = this._ticker;
              this.ticker = null, r.destroy();
            }
            this.stage.destroy(e), this.stage = null, this.renderer.destroy(t), this.renderer = null, this._options = null;
          }, o(t, [{
            key: "ticker",
            set: function set(t) {
              this._ticker && this._ticker.remove(this.render, this), this._ticker = t, t && t.add(this.render, this, d.UPDATE_PRIORITY.LOW);
            },
            get: function get() {
              return this._ticker;
            }
          }, {
            key: "view",
            get: function get() {
              return this.renderer.view;
            }
          }, {
            key: "screen",
            get: function get() {
              return this.renderer.screen;
            }
          }]), t;
        }();
      r.default = f;
    }, {
      "./autoDetectRenderer": 45,
      "./const": 46,
      "./display/Container": 48,
      "./settings": 101,
      "./ticker": 121
    }],
    44: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      function i(t, e) {
        if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !e || "object" != _typeof(e) && "function" != typeof e ? t : e;
      }
      function o(t, e) {
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + _typeof(e));
        t.prototype = Object.create(e && e.prototype, {
          constructor: {
            value: t,
            enumerable: !1,
            writable: !0,
            configurable: !0
          }
        }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e);
      }
      function s(t, e) {
        if (t instanceof Array) {
          if ("precision" !== t[0].substring(0, 9)) {
            var r = t.slice(0);
            return r.unshift("precision " + e + " float;"), r;
          }
        } else if ("precision" !== t.trim().substring(0, 9)) return "precision " + e + " float;\n" + t;
        return t;
      }
      r.__esModule = !0;
      var a = t("pixi-gl-core"),
        u = t("./settings"),
        h = function (t) {
          return t && t.__esModule ? t : {
            default: t
          };
        }(u),
        l = function (t) {
          function e(r, o, a, u, l) {
            return n(this, e), i(this, t.call(this, r, s(o, l || h.default.PRECISION_VERTEX), s(a, l || h.default.PRECISION_FRAGMENT), void 0, u));
          }
          return o(e, t), e;
        }(a.GLShader);
      r.default = l;
    }, {
      "./settings": 101,
      "pixi-gl-core": 15
    }],
    45: [function (t, e, r) {
      "use strict";

      function n(t) {
        return t && t.__esModule ? t : {
          default: t
        };
      }
      function i(t, e, r, n) {
        var i = t && t.forceCanvas;
        return void 0 !== n && (i = n), !i && s.isWebGLSupported() ? new l.default(t, e, r) : new u.default(t, e, r);
      }
      r.__esModule = !0, r.autoDetectRenderer = i;
      var o = t("./utils"),
        s = function (t) {
          if (t && t.__esModule) return t;
          var e = {};
          if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
          return e.default = t, e;
        }(o),
        a = t("./renderers/canvas/CanvasRenderer"),
        u = n(a),
        h = t("./renderers/webgl/WebGLRenderer"),
        l = n(h);
    }, {
      "./renderers/canvas/CanvasRenderer": 77,
      "./renderers/webgl/WebGLRenderer": 84,
      "./utils": 125
    }],
    46: [function (t, e, r) {
      "use strict";

      r.__esModule = !0;
      r.VERSION = "4.8.7", r.PI_2 = 2 * Math.PI, r.RAD_TO_DEG = 180 / Math.PI, r.DEG_TO_RAD = Math.PI / 180, r.RENDERER_TYPE = {
        UNKNOWN: 0,
        WEBGL: 1,
        CANVAS: 2
      }, r.BLEND_MODES = {
        NORMAL: 0,
        ADD: 1,
        MULTIPLY: 2,
        SCREEN: 3,
        OVERLAY: 4,
        DARKEN: 5,
        LIGHTEN: 6,
        COLOR_DODGE: 7,
        COLOR_BURN: 8,
        HARD_LIGHT: 9,
        SOFT_LIGHT: 10,
        DIFFERENCE: 11,
        EXCLUSION: 12,
        HUE: 13,
        SATURATION: 14,
        COLOR: 15,
        LUMINOSITY: 16,
        NORMAL_NPM: 17,
        ADD_NPM: 18,
        SCREEN_NPM: 19
      }, r.DRAW_MODES = {
        POINTS: 0,
        LINES: 1,
        LINE_LOOP: 2,
        LINE_STRIP: 3,
        TRIANGLES: 4,
        TRIANGLE_STRIP: 5,
        TRIANGLE_FAN: 6
      }, r.SCALE_MODES = {
        LINEAR: 0,
        NEAREST: 1
      }, r.WRAP_MODES = {
        CLAMP: 0,
        REPEAT: 1,
        MIRRORED_REPEAT: 2
      }, r.GC_MODES = {
        AUTO: 0,
        MANUAL: 1
      }, r.URL_FILE_EXTENSION = /\.(\w{3,4})(?:$|\?|#)/i, r.DATA_URI = /^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i, r.SVG_SIZE = /<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i, r.SHAPES = {
        POLY: 0,
        RECT: 1,
        CIRC: 2,
        ELIP: 3,
        RREC: 4
      }, r.PRECISION = {
        LOW: "lowp",
        MEDIUM: "mediump",
        HIGH: "highp"
      }, r.TRANSFORM_MODE = {
        STATIC: 0,
        DYNAMIC: 1
      }, r.TEXT_GRADIENT = {
        LINEAR_VERTICAL: 0,
        LINEAR_HORIZONTAL: 1
      }, r.UPDATE_PRIORITY = {
        INTERACTION: 50,
        HIGH: 25,
        NORMAL: 0,
        LOW: -25,
        UTILITY: -50
      };
    }, {}],
    47: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      r.__esModule = !0;
      var i = t("../math"),
        o = function () {
          function t() {
            n(this, t), this.minX = 1 / 0, this.minY = 1 / 0, this.maxX = -1 / 0, this.maxY = -1 / 0, this.rect = null;
          }
          return t.prototype.isEmpty = function () {
            return this.minX > this.maxX || this.minY > this.maxY;
          }, t.prototype.clear = function () {
            this.updateID++, this.minX = 1 / 0, this.minY = 1 / 0, this.maxX = -1 / 0, this.maxY = -1 / 0;
          }, t.prototype.getRectangle = function (t) {
            return this.minX > this.maxX || this.minY > this.maxY ? i.Rectangle.EMPTY : (t = t || new i.Rectangle(0, 0, 1, 1), t.x = this.minX, t.y = this.minY, t.width = this.maxX - this.minX, t.height = this.maxY - this.minY, t);
          }, t.prototype.addPoint = function (t) {
            this.minX = Math.min(this.minX, t.x), this.maxX = Math.max(this.maxX, t.x), this.minY = Math.min(this.minY, t.y), this.maxY = Math.max(this.maxY, t.y);
          }, t.prototype.addQuad = function (t) {
            var e = this.minX,
              r = this.minY,
              n = this.maxX,
              i = this.maxY,
              o = t[0],
              s = t[1];
            e = o < e ? o : e, r = s < r ? s : r, n = o > n ? o : n, i = s > i ? s : i, o = t[2], s = t[3], e = o < e ? o : e, r = s < r ? s : r, n = o > n ? o : n, i = s > i ? s : i, o = t[4], s = t[5], e = o < e ? o : e, r = s < r ? s : r, n = o > n ? o : n, i = s > i ? s : i, o = t[6], s = t[7], e = o < e ? o : e, r = s < r ? s : r, n = o > n ? o : n, i = s > i ? s : i, this.minX = e, this.minY = r, this.maxX = n, this.maxY = i;
          }, t.prototype.addFrame = function (t, e, r, n, i) {
            var o = t.worldTransform,
              s = o.a,
              a = o.b,
              u = o.c,
              h = o.d,
              l = o.tx,
              c = o.ty,
              d = this.minX,
              f = this.minY,
              p = this.maxX,
              v = this.maxY,
              g = s * e + u * r + l,
              y = a * e + h * r + c;
            d = g < d ? g : d, f = y < f ? y : f, p = g > p ? g : p, v = y > v ? y : v, g = s * n + u * r + l, y = a * n + h * r + c, d = g < d ? g : d, f = y < f ? y : f, p = g > p ? g : p, v = y > v ? y : v, g = s * e + u * i + l, y = a * e + h * i + c, d = g < d ? g : d, f = y < f ? y : f, p = g > p ? g : p, v = y > v ? y : v, g = s * n + u * i + l, y = a * n + h * i + c, d = g < d ? g : d, f = y < f ? y : f, p = g > p ? g : p, v = y > v ? y : v, this.minX = d, this.minY = f, this.maxX = p, this.maxY = v;
          }, t.prototype.addVertices = function (t, e, r, n) {
            for (var i = t.worldTransform, o = i.a, s = i.b, a = i.c, u = i.d, h = i.tx, l = i.ty, c = this.minX, d = this.minY, f = this.maxX, p = this.maxY, v = r; v < n; v += 2) {
              var g = e[v],
                y = e[v + 1],
                m = o * g + a * y + h,
                _ = u * y + s * g + l;
              c = m < c ? m : c, d = _ < d ? _ : d, f = m > f ? m : f, p = _ > p ? _ : p;
            }
            this.minX = c, this.minY = d, this.maxX = f, this.maxY = p;
          }, t.prototype.addBounds = function (t) {
            var e = this.minX,
              r = this.minY,
              n = this.maxX,
              i = this.maxY;
            this.minX = t.minX < e ? t.minX : e, this.minY = t.minY < r ? t.minY : r, this.maxX = t.maxX > n ? t.maxX : n, this.maxY = t.maxY > i ? t.maxY : i;
          }, t.prototype.addBoundsMask = function (t, e) {
            var r = t.minX > e.minX ? t.minX : e.minX,
              n = t.minY > e.minY ? t.minY : e.minY,
              i = t.maxX < e.maxX ? t.maxX : e.maxX,
              o = t.maxY < e.maxY ? t.maxY : e.maxY;
            if (r <= i && n <= o) {
              var s = this.minX,
                a = this.minY,
                u = this.maxX,
                h = this.maxY;
              this.minX = r < s ? r : s, this.minY = n < a ? n : a, this.maxX = i > u ? i : u, this.maxY = o > h ? o : h;
            }
          }, t.prototype.addBoundsArea = function (t, e) {
            var r = t.minX > e.x ? t.minX : e.x,
              n = t.minY > e.y ? t.minY : e.y,
              i = t.maxX < e.x + e.width ? t.maxX : e.x + e.width,
              o = t.maxY < e.y + e.height ? t.maxY : e.y + e.height;
            if (r <= i && n <= o) {
              var s = this.minX,
                a = this.minY,
                u = this.maxX,
                h = this.maxY;
              this.minX = r < s ? r : s, this.minY = n < a ? n : a, this.maxX = i > u ? i : u, this.maxY = o > h ? o : h;
            }
          }, t;
        }();
      r.default = o;
    }, {
      "../math": 70
    }],
    48: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      function i(t, e) {
        if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !e || "object" != _typeof(e) && "function" != typeof e ? t : e;
      }
      function o(t, e) {
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + _typeof(e));
        t.prototype = Object.create(e && e.prototype, {
          constructor: {
            value: t,
            enumerable: !1,
            writable: !0,
            configurable: !0
          }
        }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e);
      }
      r.__esModule = !0;
      var s = function () {
          function t(t, e) {
            for (var r = 0; r < e.length; r++) {
              var n = e[r];
              n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n);
            }
          }
          return function (e, r, n) {
            return r && t(e.prototype, r), n && t(e, n), e;
          };
        }(),
        a = t("../utils"),
        u = t("./DisplayObject"),
        h = function (t) {
          return t && t.__esModule ? t : {
            default: t
          };
        }(u),
        l = function (t) {
          function e() {
            n(this, e);
            var r = i(this, t.call(this));
            return r.children = [], r;
          }
          return o(e, t), e.prototype.onChildrenChange = function () {}, e.prototype.addChild = function (t) {
            var e = arguments.length;
            if (e > 1) for (var r = 0; r < e; r++) this.addChild(arguments[r]);else t.parent && t.parent.removeChild(t), t.parent = this, t.transform._parentID = -1, this.children.push(t), this._boundsID++, this.onChildrenChange(this.children.length - 1), t.emit("added", this);
            return t;
          }, e.prototype.addChildAt = function (t, e) {
            if (e < 0 || e > this.children.length) throw new Error(t + "addChildAt: The index " + e + " supplied is out of bounds " + this.children.length);
            return t.parent && t.parent.removeChild(t), t.parent = this, t.transform._parentID = -1, this.children.splice(e, 0, t), this._boundsID++, this.onChildrenChange(e), t.emit("added", this), t;
          }, e.prototype.swapChildren = function (t, e) {
            if (t !== e) {
              var r = this.getChildIndex(t),
                n = this.getChildIndex(e);
              this.children[r] = e, this.children[n] = t, this.onChildrenChange(r < n ? r : n);
            }
          }, e.prototype.getChildIndex = function (t) {
            var e = this.children.indexOf(t);
            if (-1 === e) throw new Error("The supplied DisplayObject must be a child of the caller");
            return e;
          }, e.prototype.setChildIndex = function (t, e) {
            if (e < 0 || e >= this.children.length) throw new Error("The index " + e + " supplied is out of bounds " + this.children.length);
            var r = this.getChildIndex(t);
            (0, a.removeItems)(this.children, r, 1), this.children.splice(e, 0, t), this.onChildrenChange(e);
          }, e.prototype.getChildAt = function (t) {
            if (t < 0 || t >= this.children.length) throw new Error("getChildAt: Index (" + t + ") does not exist.");
            return this.children[t];
          }, e.prototype.removeChild = function (t) {
            var e = arguments.length;
            if (e > 1) for (var r = 0; r < e; r++) this.removeChild(arguments[r]);else {
              var n = this.children.indexOf(t);
              if (-1 === n) return null;
              t.parent = null, t.transform._parentID = -1, (0, a.removeItems)(this.children, n, 1), this._boundsID++, this.onChildrenChange(n), t.emit("removed", this);
            }
            return t;
          }, e.prototype.removeChildAt = function (t) {
            var e = this.getChildAt(t);
            return e.parent = null, e.transform._parentID = -1, (0, a.removeItems)(this.children, t, 1), this._boundsID++, this.onChildrenChange(t), e.emit("removed", this), e;
          }, e.prototype.removeChildren = function () {
            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
              e = arguments[1],
              r = t,
              n = "number" == typeof e ? e : this.children.length,
              i = n - r,
              o = void 0;
            if (i > 0 && i <= n) {
              o = this.children.splice(r, i);
              for (var s = 0; s < o.length; ++s) o[s].parent = null, o[s].transform && (o[s].transform._parentID = -1);
              this._boundsID++, this.onChildrenChange(t);
              for (var a = 0; a < o.length; ++a) o[a].emit("removed", this);
              return o;
            }
            if (0 === i && 0 === this.children.length) return [];
            throw new RangeError("removeChildren: numeric values are outside the acceptable range.");
          }, e.prototype.updateTransform = function () {
            this._boundsID++, this.transform.updateTransform(this.parent.transform), this.worldAlpha = this.alpha * this.parent.worldAlpha;
            for (var t = 0, e = this.children.length; t < e; ++t) {
              var r = this.children[t];
              r.visible && r.updateTransform();
            }
          }, e.prototype.calculateBounds = function () {
            this._bounds.clear(), this._calculateBounds();
            for (var t = 0; t < this.children.length; t++) {
              var e = this.children[t];
              e.visible && e.renderable && (e.calculateBounds(), e._mask ? (e._mask.calculateBounds(), this._bounds.addBoundsMask(e._bounds, e._mask._bounds)) : e.filterArea ? this._bounds.addBoundsArea(e._bounds, e.filterArea) : this._bounds.addBounds(e._bounds));
            }
            this._lastBoundsID = this._boundsID;
          }, e.prototype._calculateBounds = function () {}, e.prototype.renderWebGL = function (t) {
            if (this.visible && !(this.worldAlpha <= 0) && this.renderable) if (this._mask || this._filters) this.renderAdvancedWebGL(t);else {
              this._renderWebGL(t);
              for (var e = 0, r = this.children.length; e < r; ++e) this.children[e].renderWebGL(t);
            }
          }, e.prototype.renderAdvancedWebGL = function (t) {
            t.flush();
            var e = this._filters,
              r = this._mask;
            if (e) {
              this._enabledFilters || (this._enabledFilters = []), this._enabledFilters.length = 0;
              for (var n = 0; n < e.length; n++) e[n].enabled && this._enabledFilters.push(e[n]);
              this._enabledFilters.length && t.filterManager.pushFilter(this, this._enabledFilters);
            }
            r && t.maskManager.pushMask(this, this._mask), this._renderWebGL(t);
            for (var i = 0, o = this.children.length; i < o; i++) this.children[i].renderWebGL(t);
            t.flush(), r && t.maskManager.popMask(this, this._mask), e && this._enabledFilters && this._enabledFilters.length && t.filterManager.popFilter();
          }, e.prototype._renderWebGL = function (t) {}, e.prototype._renderCanvas = function (t) {}, e.prototype.renderCanvas = function (t) {
            if (this.visible && !(this.worldAlpha <= 0) && this.renderable) {
              this._mask && t.maskManager.pushMask(this._mask), this._renderCanvas(t);
              for (var e = 0, r = this.children.length; e < r; ++e) this.children[e].renderCanvas(t);
              this._mask && t.maskManager.popMask(t);
            }
          }, e.prototype.destroy = function (e) {
            t.prototype.destroy.call(this);
            var r = "boolean" == typeof e ? e : e && e.children,
              n = this.removeChildren(0, this.children.length);
            if (r) for (var i = 0; i < n.length; ++i) n[i].destroy(e);
          }, s(e, [{
            key: "width",
            get: function get() {
              return this.scale.x * this.getLocalBounds().width;
            },
            set: function set(t) {
              var e = this.getLocalBounds().width;
              this.scale.x = 0 !== e ? t / e : 1, this._width = t;
            }
          }, {
            key: "height",
            get: function get() {
              return this.scale.y * this.getLocalBounds().height;
            },
            set: function set(t) {
              var e = this.getLocalBounds().height;
              this.scale.y = 0 !== e ? t / e : 1, this._height = t;
            }
          }]), e;
        }(h.default);
      r.default = l, l.prototype.containerUpdateTransform = l.prototype.updateTransform;
    }, {
      "../utils": 125,
      "./DisplayObject": 49
    }],
    49: [function (t, e, r) {
      "use strict";

      function n(t) {
        return t && t.__esModule ? t : {
          default: t
        };
      }
      function i(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      function o(t, e) {
        if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !e || "object" != _typeof(e) && "function" != typeof e ? t : e;
      }
      function s(t, e) {
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + _typeof(e));
        t.prototype = Object.create(e && e.prototype, {
          constructor: {
            value: t,
            enumerable: !1,
            writable: !0,
            configurable: !0
          }
        }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e);
      }
      r.__esModule = !0;
      var a = function () {
          function t(t, e) {
            for (var r = 0; r < e.length; r++) {
              var n = e[r];
              n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n);
            }
          }
          return function (e, r, n) {
            return r && t(e.prototype, r), n && t(e, n), e;
          };
        }(),
        u = t("eventemitter3"),
        h = n(u),
        l = t("../const"),
        c = t("../settings"),
        d = n(c),
        f = t("./TransformStatic"),
        p = n(f),
        v = t("./Transform"),
        g = n(v),
        y = t("./Bounds"),
        m = n(y),
        _ = t("../math"),
        b = function (t) {
          function e() {
            i(this, e);
            var r = o(this, t.call(this)),
              n = d.default.TRANSFORM_MODE === l.TRANSFORM_MODE.STATIC ? p.default : g.default;
            return r.tempDisplayObjectParent = null, r.transform = new n(), r.alpha = 1, r.visible = !0, r.renderable = !0, r.parent = null, r.worldAlpha = 1, r.filterArea = null, r._filters = null, r._enabledFilters = null, r._bounds = new m.default(), r._boundsID = 0, r._lastBoundsID = -1, r._boundsRect = null, r._localBoundsRect = null, r._mask = null, r._destroyed = !1, r;
          }
          return s(e, t), e.prototype.updateTransform = function () {
            this.transform.updateTransform(this.parent.transform), this.worldAlpha = this.alpha * this.parent.worldAlpha, this._bounds.updateID++;
          }, e.prototype._recursivePostUpdateTransform = function () {
            this.parent ? (this.parent._recursivePostUpdateTransform(), this.transform.updateTransform(this.parent.transform)) : this.transform.updateTransform(this._tempDisplayObjectParent.transform);
          }, e.prototype.getBounds = function (t, e) {
            return t || (this.parent ? (this._recursivePostUpdateTransform(), this.updateTransform()) : (this.parent = this._tempDisplayObjectParent, this.updateTransform(), this.parent = null)), this._boundsID !== this._lastBoundsID && this.calculateBounds(), e || (this._boundsRect || (this._boundsRect = new _.Rectangle()), e = this._boundsRect), this._bounds.getRectangle(e);
          }, e.prototype.getLocalBounds = function (t) {
            var e = this.transform,
              r = this.parent;
            this.parent = null, this.transform = this._tempDisplayObjectParent.transform, t || (this._localBoundsRect || (this._localBoundsRect = new _.Rectangle()), t = this._localBoundsRect);
            var n = this.getBounds(!1, t);
            return this.parent = r, this.transform = e, n;
          }, e.prototype.toGlobal = function (t, e) {
            return arguments.length > 2 && void 0 !== arguments[2] && arguments[2] || (this._recursivePostUpdateTransform(), this.parent ? this.displayObjectUpdateTransform() : (this.parent = this._tempDisplayObjectParent, this.displayObjectUpdateTransform(), this.parent = null)), this.worldTransform.apply(t, e);
          }, e.prototype.toLocal = function (t, e, r, n) {
            return e && (t = e.toGlobal(t, r, n)), n || (this._recursivePostUpdateTransform(), this.parent ? this.displayObjectUpdateTransform() : (this.parent = this._tempDisplayObjectParent, this.displayObjectUpdateTransform(), this.parent = null)), this.worldTransform.applyInverse(t, r);
          }, e.prototype.renderWebGL = function (t) {}, e.prototype.renderCanvas = function (t) {}, e.prototype.setParent = function (t) {
            if (!t || !t.addChild) throw new Error("setParent: Argument must be a Container");
            return t.addChild(this), t;
          }, e.prototype.setTransform = function () {
            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
              e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
              r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1,
              n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1,
              i = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 0,
              o = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : 0,
              s = arguments.length > 6 && void 0 !== arguments[6] ? arguments[6] : 0,
              a = arguments.length > 7 && void 0 !== arguments[7] ? arguments[7] : 0,
              u = arguments.length > 8 && void 0 !== arguments[8] ? arguments[8] : 0;
            return this.position.x = t, this.position.y = e, this.scale.x = r || 1, this.scale.y = n || 1, this.rotation = i, this.skew.x = o, this.skew.y = s, this.pivot.x = a, this.pivot.y = u, this;
          }, e.prototype.destroy = function () {
            this.removeAllListeners(), this.parent && this.parent.removeChild(this), this.transform = null, this.parent = null, this._bounds = null, this._currentBounds = null, this._mask = null, this.filterArea = null, this.interactive = !1, this.interactiveChildren = !1, this._destroyed = !0;
          }, a(e, [{
            key: "_tempDisplayObjectParent",
            get: function get() {
              return null === this.tempDisplayObjectParent && (this.tempDisplayObjectParent = new e()), this.tempDisplayObjectParent;
            }
          }, {
            key: "x",
            get: function get() {
              return this.position.x;
            },
            set: function set(t) {
              this.transform.position.x = t;
            }
          }, {
            key: "y",
            get: function get() {
              return this.position.y;
            },
            set: function set(t) {
              this.transform.position.y = t;
            }
          }, {
            key: "worldTransform",
            get: function get() {
              return this.transform.worldTransform;
            }
          }, {
            key: "localTransform",
            get: function get() {
              return this.transform.localTransform;
            }
          }, {
            key: "position",
            get: function get() {
              return this.transform.position;
            },
            set: function set(t) {
              this.transform.position.copy(t);
            }
          }, {
            key: "scale",
            get: function get() {
              return this.transform.scale;
            },
            set: function set(t) {
              this.transform.scale.copy(t);
            }
          }, {
            key: "pivot",
            get: function get() {
              return this.transform.pivot;
            },
            set: function set(t) {
              this.transform.pivot.copy(t);
            }
          }, {
            key: "skew",
            get: function get() {
              return this.transform.skew;
            },
            set: function set(t) {
              this.transform.skew.copy(t);
            }
          }, {
            key: "rotation",
            get: function get() {
              return this.transform.rotation;
            },
            set: function set(t) {
              this.transform.rotation = t;
            }
          }, {
            key: "worldVisible",
            get: function get() {
              var t = this;
              do {
                if (!t.visible) return !1;
                t = t.parent;
              } while (t);
              return !0;
            }
          }, {
            key: "mask",
            get: function get() {
              return this._mask;
            },
            set: function set(t) {
              this._mask && (this._mask.renderable = !0, this._mask.isMask = !1), this._mask = t, this._mask && (this._mask.renderable = !1, this._mask.isMask = !0);
            }
          }, {
            key: "filters",
            get: function get() {
              return this._filters && this._filters.slice();
            },
            set: function set(t) {
              this._filters = t && t.slice();
            }
          }]), e;
        }(h.default);
      r.default = b, b.prototype.displayObjectUpdateTransform = b.prototype.updateTransform;
    }, {
      "../const": 46,
      "../math": 70,
      "../settings": 101,
      "./Bounds": 47,
      "./Transform": 50,
      "./TransformStatic": 52,
      eventemitter3: 3
    }],
    50: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      function i(t, e) {
        if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !e || "object" != _typeof(e) && "function" != typeof e ? t : e;
      }
      function o(t, e) {
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + _typeof(e));
        t.prototype = Object.create(e && e.prototype, {
          constructor: {
            value: t,
            enumerable: !1,
            writable: !0,
            configurable: !0
          }
        }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e);
      }
      r.__esModule = !0;
      var s = function () {
          function t(t, e) {
            for (var r = 0; r < e.length; r++) {
              var n = e[r];
              n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n);
            }
          }
          return function (e, r, n) {
            return r && t(e.prototype, r), n && t(e, n), e;
          };
        }(),
        a = t("../math"),
        u = t("./TransformBase"),
        h = function (t) {
          return t && t.__esModule ? t : {
            default: t
          };
        }(u),
        l = function (t) {
          function e() {
            n(this, e);
            var r = i(this, t.call(this));
            return r.position = new a.Point(0, 0), r.scale = new a.Point(1, 1), r.skew = new a.ObservablePoint(r.updateSkew, r, 0, 0), r.pivot = new a.Point(0, 0), r._rotation = 0, r._cx = 1, r._sx = 0, r._cy = 0, r._sy = 1, r;
          }
          return o(e, t), e.prototype.updateSkew = function () {
            this._cx = Math.cos(this._rotation + this.skew._y), this._sx = Math.sin(this._rotation + this.skew._y), this._cy = -Math.sin(this._rotation - this.skew._x), this._sy = Math.cos(this._rotation - this.skew._x);
          }, e.prototype.updateLocalTransform = function () {
            var t = this.localTransform;
            t.a = this._cx * this.scale.x, t.b = this._sx * this.scale.x, t.c = this._cy * this.scale.y, t.d = this._sy * this.scale.y, t.tx = this.position.x - (this.pivot.x * t.a + this.pivot.y * t.c), t.ty = this.position.y - (this.pivot.x * t.b + this.pivot.y * t.d);
          }, e.prototype.updateTransform = function (t) {
            var e = this.localTransform;
            e.a = this._cx * this.scale.x, e.b = this._sx * this.scale.x, e.c = this._cy * this.scale.y, e.d = this._sy * this.scale.y, e.tx = this.position.x - (this.pivot.x * e.a + this.pivot.y * e.c), e.ty = this.position.y - (this.pivot.x * e.b + this.pivot.y * e.d);
            var r = t.worldTransform,
              n = this.worldTransform;
            n.a = e.a * r.a + e.b * r.c, n.b = e.a * r.b + e.b * r.d, n.c = e.c * r.a + e.d * r.c, n.d = e.c * r.b + e.d * r.d, n.tx = e.tx * r.a + e.ty * r.c + r.tx, n.ty = e.tx * r.b + e.ty * r.d + r.ty, this._worldID++;
          }, e.prototype.setFromMatrix = function (t) {
            t.decompose(this);
          }, s(e, [{
            key: "rotation",
            get: function get() {
              return this._rotation;
            },
            set: function set(t) {
              this._rotation = t, this.updateSkew();
            }
          }]), e;
        }(h.default);
      r.default = l;
    }, {
      "../math": 70,
      "./TransformBase": 51
    }],
    51: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      r.__esModule = !0;
      var i = t("../math"),
        o = function () {
          function t() {
            n(this, t), this.worldTransform = new i.Matrix(), this.localTransform = new i.Matrix(), this._worldID = 0, this._parentID = 0;
          }
          return t.prototype.updateLocalTransform = function () {}, t.prototype.updateTransform = function (t) {
            var e = t.worldTransform,
              r = this.worldTransform,
              n = this.localTransform;
            r.a = n.a * e.a + n.b * e.c, r.b = n.a * e.b + n.b * e.d, r.c = n.c * e.a + n.d * e.c, r.d = n.c * e.b + n.d * e.d, r.tx = n.tx * e.a + n.ty * e.c + e.tx, r.ty = n.tx * e.b + n.ty * e.d + e.ty, this._worldID++;
          }, t;
        }();
      r.default = o, o.prototype.updateWorldTransform = o.prototype.updateTransform, o.IDENTITY = new o();
    }, {
      "../math": 70
    }],
    52: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      function i(t, e) {
        if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !e || "object" != _typeof(e) && "function" != typeof e ? t : e;
      }
      function o(t, e) {
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + _typeof(e));
        t.prototype = Object.create(e && e.prototype, {
          constructor: {
            value: t,
            enumerable: !1,
            writable: !0,
            configurable: !0
          }
        }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e);
      }
      r.__esModule = !0;
      var s = function () {
          function t(t, e) {
            for (var r = 0; r < e.length; r++) {
              var n = e[r];
              n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n);
            }
          }
          return function (e, r, n) {
            return r && t(e.prototype, r), n && t(e, n), e;
          };
        }(),
        a = t("../math"),
        u = t("./TransformBase"),
        h = function (t) {
          return t && t.__esModule ? t : {
            default: t
          };
        }(u),
        l = function (t) {
          function e() {
            n(this, e);
            var r = i(this, t.call(this));
            return r.position = new a.ObservablePoint(r.onChange, r, 0, 0), r.scale = new a.ObservablePoint(r.onChange, r, 1, 1), r.pivot = new a.ObservablePoint(r.onChange, r, 0, 0), r.skew = new a.ObservablePoint(r.updateSkew, r, 0, 0), r._rotation = 0, r._cx = 1, r._sx = 0, r._cy = 0, r._sy = 1, r._localID = 0, r._currentLocalID = 0, r;
          }
          return o(e, t), e.prototype.onChange = function () {
            this._localID++;
          }, e.prototype.updateSkew = function () {
            this._cx = Math.cos(this._rotation + this.skew._y), this._sx = Math.sin(this._rotation + this.skew._y), this._cy = -Math.sin(this._rotation - this.skew._x), this._sy = Math.cos(this._rotation - this.skew._x), this._localID++;
          }, e.prototype.updateLocalTransform = function () {
            var t = this.localTransform;
            this._localID !== this._currentLocalID && (t.a = this._cx * this.scale._x, t.b = this._sx * this.scale._x, t.c = this._cy * this.scale._y, t.d = this._sy * this.scale._y, t.tx = this.position._x - (this.pivot._x * t.a + this.pivot._y * t.c), t.ty = this.position._y - (this.pivot._x * t.b + this.pivot._y * t.d), this._currentLocalID = this._localID, this._parentID = -1);
          }, e.prototype.updateTransform = function (t) {
            var e = this.localTransform;
            if (this._localID !== this._currentLocalID && (e.a = this._cx * this.scale._x, e.b = this._sx * this.scale._x, e.c = this._cy * this.scale._y, e.d = this._sy * this.scale._y, e.tx = this.position._x - (this.pivot._x * e.a + this.pivot._y * e.c), e.ty = this.position._y - (this.pivot._x * e.b + this.pivot._y * e.d), this._currentLocalID = this._localID, this._parentID = -1), this._parentID !== t._worldID) {
              var r = t.worldTransform,
                n = this.worldTransform;
              n.a = e.a * r.a + e.b * r.c, n.b = e.a * r.b + e.b * r.d, n.c = e.c * r.a + e.d * r.c, n.d = e.c * r.b + e.d * r.d, n.tx = e.tx * r.a + e.ty * r.c + r.tx, n.ty = e.tx * r.b + e.ty * r.d + r.ty, this._parentID = t._worldID, this._worldID++;
            }
          }, e.prototype.setFromMatrix = function (t) {
            t.decompose(this), this._localID++;
          }, s(e, [{
            key: "rotation",
            get: function get() {
              return this._rotation;
            },
            set: function set(t) {
              this._rotation !== t && (this._rotation = t, this.updateSkew());
            }
          }]), e;
        }(h.default);
      r.default = l;
    }, {
      "../math": 70,
      "./TransformBase": 51
    }],
    53: [function (t, e, r) {
      "use strict";

      function n(t) {
        return t && t.__esModule ? t : {
          default: t
        };
      }
      function i(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      function o(t, e) {
        if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !e || "object" != _typeof(e) && "function" != typeof e ? t : e;
      }
      function s(t, e) {
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + _typeof(e));
        t.prototype = Object.create(e && e.prototype, {
          constructor: {
            value: t,
            enumerable: !1,
            writable: !0,
            configurable: !0
          }
        }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e);
      }
      r.__esModule = !0;
      var a = t("../display/Container"),
        u = n(a),
        h = t("../textures/RenderTexture"),
        l = n(h),
        c = t("../textures/Texture"),
        d = n(c),
        f = t("./GraphicsData"),
        p = n(f),
        v = t("../sprites/Sprite"),
        g = n(v),
        y = t("../math"),
        m = t("../utils"),
        _ = t("../const"),
        b = t("../display/Bounds"),
        x = n(b),
        T = t("./utils/bezierCurveTo"),
        w = n(T),
        E = t("../renderers/canvas/CanvasRenderer"),
        S = n(E),
        O = void 0,
        M = new y.Matrix(),
        P = new y.Point(),
        C = new Float32Array(4),
        R = new Float32Array(4),
        A = function (t) {
          function e() {
            var r = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
            i(this, e);
            var n = o(this, t.call(this));
            return n.fillAlpha = 1, n.lineWidth = 0, n.nativeLines = r, n.lineColor = 0, n.lineAlignment = .5, n.graphicsData = [], n.tint = 16777215, n._prevTint = 16777215, n.blendMode = _.BLEND_MODES.NORMAL, n.currentPath = null, n._webGL = {}, n.isMask = !1, n.boundsPadding = 0, n._localBounds = new x.default(), n.dirty = 0, n.fastRectDirty = -1, n.clearDirty = 0, n.boundsDirty = -1, n.cachedSpriteDirty = !1, n._spriteRect = null, n._fastRect = !1, n._prevRectTint = null, n._prevRectFillColor = null, n;
          }
          return s(e, t), e.prototype.clone = function () {
            var t = new e();
            t.renderable = this.renderable, t.fillAlpha = this.fillAlpha, t.lineWidth = this.lineWidth, t.lineColor = this.lineColor, t.lineAlignment = this.lineAlignment, t.tint = this.tint, t.blendMode = this.blendMode, t.isMask = this.isMask, t.boundsPadding = this.boundsPadding, t.dirty = 0, t.cachedSpriteDirty = this.cachedSpriteDirty;
            for (var r = 0; r < this.graphicsData.length; ++r) t.graphicsData.push(this.graphicsData[r].clone());
            return t.currentPath = t.graphicsData[t.graphicsData.length - 1], t.updateLocalBounds(), t;
          }, e.prototype._quadraticCurveLength = function (t, e, r, n, i, o) {
            var s = t - 2 * r + i,
              a = e - 2 * n + o,
              u = 2 * r - 2 * t,
              h = 2 * n - 2 * e,
              l = 4 * (s * s + a * a),
              c = 4 * (s * u + a * h),
              d = u * u + h * h,
              f = 2 * Math.sqrt(l + c + d),
              p = Math.sqrt(l),
              v = 2 * l * p,
              g = 2 * Math.sqrt(d),
              y = c / p;
            return (v * f + p * c * (f - g) + (4 * d * l - c * c) * Math.log((2 * p + y + f) / (y + g))) / (4 * v);
          }, e.prototype._bezierCurveLength = function (t, e, r, n, i, o, s, a) {
            for (var u = 0, h = 0, l = 0, c = 0, d = 0, f = 0, p = 0, v = 0, g = 0, y = 0, m = 0, _ = t, b = e, x = 1; x <= 10; ++x) h = x / 10, l = h * h, c = l * h, d = 1 - h, f = d * d, p = f * d, v = p * t + 3 * f * h * r + 3 * d * l * i + c * s, g = p * e + 3 * f * h * n + 3 * d * l * o + c * a, y = _ - v, m = b - g, _ = v, b = g, u += Math.sqrt(y * y + m * m);
            return u;
          }, e.prototype._segmentsCount = function (t) {
            var r = Math.ceil(t / e.CURVES.maxLength);
            return r < e.CURVES.minSegments ? r = e.CURVES.minSegments : r > e.CURVES.maxSegments && (r = e.CURVES.maxSegments), r;
          }, e.prototype.lineStyle = function () {
            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
              e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
              r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1,
              n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : .5;
            if (this.lineWidth = t, this.lineColor = e, this.lineAlpha = r, this.lineAlignment = n, this.currentPath) if (this.currentPath.shape.points.length) {
              var i = new y.Polygon(this.currentPath.shape.points.slice(-2));
              i.closed = !1, this.drawShape(i);
            } else this.currentPath.lineWidth = this.lineWidth, this.currentPath.lineColor = this.lineColor, this.currentPath.lineAlpha = this.lineAlpha, this.currentPath.lineAlignment = this.lineAlignment;
            return this;
          }, e.prototype.moveTo = function (t, e) {
            var r = new y.Polygon([t, e]);
            return r.closed = !1, this.drawShape(r), this;
          }, e.prototype.lineTo = function (t, e) {
            var r = this.currentPath.shape.points,
              n = r[r.length - 2],
              i = r[r.length - 1];
            return n === t && i === e || (r.push(t, e), this.dirty++), this;
          }, e.prototype.quadraticCurveTo = function (t, r, n, i) {
            this.currentPath ? 0 === this.currentPath.shape.points.length && (this.currentPath.shape.points = [0, 0]) : this.moveTo(0, 0);
            var o = this.currentPath.shape.points,
              s = 0,
              a = 0;
            0 === o.length && this.moveTo(0, 0);
            for (var u = o[o.length - 2], h = o[o.length - 1], l = e.CURVES.adaptive ? this._segmentsCount(this._quadraticCurveLength(u, h, t, r, n, i)) : 20, c = 1; c <= l; ++c) {
              var d = c / l;
              s = u + (t - u) * d, a = h + (r - h) * d, o.push(s + (t + (n - t) * d - s) * d, a + (r + (i - r) * d - a) * d);
            }
            return this.dirty++, this;
          }, e.prototype.bezierCurveTo = function (t, r, n, i, o, s) {
            this.currentPath ? 0 === this.currentPath.shape.points.length && (this.currentPath.shape.points = [0, 0]) : this.moveTo(0, 0);
            var a = this.currentPath.shape.points,
              u = a[a.length - 2],
              h = a[a.length - 1];
            a.length -= 2;
            var l = e.CURVES.adaptive ? this._segmentsCount(this._bezierCurveLength(u, h, t, r, n, i, o, s)) : 20;
            return (0, w.default)(u, h, t, r, n, i, o, s, l, a), this.dirty++, this;
          }, e.prototype.arcTo = function (t, e, r, n, i) {
            this.currentPath ? 0 === this.currentPath.shape.points.length && this.currentPath.shape.points.push(t, e) : this.moveTo(t, e);
            var o = this.currentPath.shape.points,
              s = o[o.length - 2],
              a = o[o.length - 1],
              u = a - e,
              h = s - t,
              l = n - e,
              c = r - t,
              d = Math.abs(u * c - h * l);
            if (d < 1e-8 || 0 === i) o[o.length - 2] === t && o[o.length - 1] === e || o.push(t, e);else {
              var f = u * u + h * h,
                p = l * l + c * c,
                v = u * l + h * c,
                g = i * Math.sqrt(f) / d,
                y = i * Math.sqrt(p) / d,
                m = g * v / f,
                _ = y * v / p,
                b = g * c + y * h,
                x = g * l + y * u,
                T = h * (y + m),
                w = u * (y + m),
                E = c * (g + _),
                S = l * (g + _),
                O = Math.atan2(w - x, T - b),
                M = Math.atan2(S - x, E - b);
              this.arc(b + t, x + e, i, O, M, h * l > c * u);
            }
            return this.dirty++, this;
          }, e.prototype.arc = function (t, r, n, i, o) {
            var s = arguments.length > 5 && void 0 !== arguments[5] && arguments[5];
            if (i === o) return this;
            !s && o <= i ? o += _.PI_2 : s && i <= o && (i += _.PI_2);
            var a = o - i,
              u = e.CURVES.adaptive ? this._segmentsCount(Math.abs(a) * n) : 40 * Math.ceil(Math.abs(a) / _.PI_2);
            if (0 === a) return this;
            var h = t + Math.cos(i) * n,
              l = r + Math.sin(i) * n,
              c = this.currentPath ? this.currentPath.shape.points : null;
            if (c) {
              var d = Math.abs(c[c.length - 2] - h),
                f = Math.abs(c[c.length - 1] - l);
              d < .001 && f < .001 || c.push(h, l);
            } else this.moveTo(h, l), c = this.currentPath.shape.points;
            for (var p = a / (2 * u), v = 2 * p, g = Math.cos(p), y = Math.sin(p), m = u - 1, b = m % 1 / m, x = 0; x <= m; ++x) {
              var T = x + b * x,
                w = p + i + v * T,
                E = Math.cos(w),
                S = -Math.sin(w);
              c.push((g * E + y * S) * n + t, (g * -S + y * E) * n + r);
            }
            return this.dirty++, this;
          }, e.prototype.beginFill = function () {
            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
              e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1;
            return this.filling = !0, this.fillColor = t, this.fillAlpha = e, this.currentPath && this.currentPath.shape.points.length <= 2 && (this.currentPath.fill = this.filling, this.currentPath.fillColor = this.fillColor, this.currentPath.fillAlpha = this.fillAlpha), this;
          }, e.prototype.endFill = function () {
            return this.filling = !1, this.fillColor = null, this.fillAlpha = 1, this;
          }, e.prototype.drawRect = function (t, e, r, n) {
            return this.drawShape(new y.Rectangle(t, e, r, n)), this;
          }, e.prototype.drawRoundedRect = function (t, e, r, n, i) {
            return this.drawShape(new y.RoundedRectangle(t, e, r, n, i)), this;
          }, e.prototype.drawCircle = function (t, e, r) {
            return this.drawShape(new y.Circle(t, e, r)), this;
          }, e.prototype.drawEllipse = function (t, e, r, n) {
            return this.drawShape(new y.Ellipse(t, e, r, n)), this;
          }, e.prototype.drawPolygon = function (t) {
            var e = t,
              r = !0;
            if (e instanceof y.Polygon && (r = e.closed, e = e.points), !Array.isArray(e)) {
              e = new Array(arguments.length);
              for (var n = 0; n < e.length; ++n) e[n] = arguments[n];
            }
            var i = new y.Polygon(e);
            return i.closed = r, this.drawShape(i), this;
          }, e.prototype.drawStar = function (t, e, r, n, i) {
            var o = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : 0;
            i = i || n / 2;
            for (var s = -1 * Math.PI / 2 + o, a = 2 * r, u = _.PI_2 / a, h = [], l = 0; l < a; l++) {
              var c = l % 2 ? i : n,
                d = l * u + s;
              h.push(t + c * Math.cos(d), e + c * Math.sin(d));
            }
            return this.drawPolygon(h);
          }, e.prototype.clear = function () {
            return (this.lineWidth || this.filling || this.graphicsData.length > 0) && (this.lineWidth = 0, this.lineAlignment = .5, this.filling = !1, this.boundsDirty = -1, this.canvasTintDirty = -1, this.dirty++, this.clearDirty++, this.graphicsData.length = 0), this.currentPath = null, this._spriteRect = null, this;
          }, e.prototype.isFastRect = function () {
            return 1 === this.graphicsData.length && this.graphicsData[0].shape.type === _.SHAPES.RECT && !this.graphicsData[0].lineWidth;
          }, e.prototype._renderWebGL = function (t) {
            this.dirty !== this.fastRectDirty && (this.fastRectDirty = this.dirty, this._fastRect = this.isFastRect()), this._fastRect ? this._renderSpriteRect(t) : (t.setObjectRenderer(t.plugins.graphics), t.plugins.graphics.render(this));
          }, e.prototype._renderSpriteRect = function (t) {
            var e = this.graphicsData[0].shape;
            this._spriteRect || (this._spriteRect = new g.default(new d.default(d.default.WHITE)));
            var r = this._spriteRect,
              n = this.graphicsData[0].fillColor;
            if (16777215 === this.tint) r.tint = n;else if (this.tint !== this._prevRectTint || n !== this._prevRectFillColor) {
              var i = C,
                o = R;
              (0, m.hex2rgb)(n, i), (0, m.hex2rgb)(this.tint, o), i[0] *= o[0], i[1] *= o[1], i[2] *= o[2], r.tint = (0, m.rgb2hex)(i), this._prevRectTint = this.tint, this._prevRectFillColor = n;
            }
            r.alpha = this.graphicsData[0].fillAlpha, r.worldAlpha = this.worldAlpha * r.alpha, r.blendMode = this.blendMode, r._texture._frame.width = e.width, r._texture._frame.height = e.height, r.transform.worldTransform = this.transform.worldTransform, r.anchor.set(-e.x / e.width, -e.y / e.height), r._onAnchorUpdate(), r._renderWebGL(t);
          }, e.prototype._renderCanvas = function (t) {
            !0 !== this.isMask && t.plugins.graphics.render(this);
          }, e.prototype._calculateBounds = function () {
            this.boundsDirty !== this.dirty && (this.boundsDirty = this.dirty, this.updateLocalBounds(), this.cachedSpriteDirty = !0);
            var t = this._localBounds;
            this._bounds.addFrame(this.transform, t.minX, t.minY, t.maxX, t.maxY);
          }, e.prototype.containsPoint = function (t) {
            this.worldTransform.applyInverse(t, P);
            for (var e = this.graphicsData, r = 0; r < e.length; ++r) {
              var n = e[r];
              if (n.fill && n.shape && n.shape.contains(P.x, P.y)) {
                if (n.holes) for (var i = 0; i < n.holes.length; i++) {
                  var o = n.holes[i];
                  if (o.contains(P.x, P.y)) return !1;
                }
                return !0;
              }
            }
            return !1;
          }, e.prototype.updateLocalBounds = function () {
            var t = 1 / 0,
              e = -1 / 0,
              r = 1 / 0,
              n = -1 / 0;
            if (this.graphicsData.length) for (var i = 0, o = 0, s = 0, a = 0, u = 0, h = 0; h < this.graphicsData.length; h++) {
              var l = this.graphicsData[h],
                c = l.type,
                d = l.lineWidth,
                f = l.lineAlignment,
                p = d * f;
              if (i = l.shape, c === _.SHAPES.RECT || c === _.SHAPES.RREC) o = i.x - p, s = i.y - p, a = i.width + 2 * p, u = i.height + 2 * p, t = o < t ? o : t, e = o + a > e ? o + a : e, r = s < r ? s : r, n = s + u > n ? s + u : n;else if (c === _.SHAPES.CIRC) o = i.x, s = i.y, a = i.radius + p, u = i.radius + p, t = o - a < t ? o - a : t, e = o + a > e ? o + a : e, r = s - u < r ? s - u : r, n = s + u > n ? s + u : n;else if (c === _.SHAPES.ELIP) o = i.x, s = i.y, a = i.width + p, u = i.height + p, t = o - a < t ? o - a : t, e = o + a > e ? o + a : e, r = s - u < r ? s - u : r, n = s + u > n ? s + u : n;else for (var v = i.points, g = 0, y = 0, m = 0, b = 0, x = 0, T = 0, w = 0, E = 0, S = 0; S + 2 < v.length; S += 2) o = v[S], s = v[S + 1], g = v[S + 2], y = v[S + 3], m = Math.abs(g - o), b = Math.abs(y - s), u = 2 * p, (a = Math.sqrt(m * m + b * b)) < 1e-9 || (x = (u / a * b + m) / 2, T = (u / a * m + b) / 2, w = (g + o) / 2, E = (y + s) / 2, t = w - x < t ? w - x : t, e = w + x > e ? w + x : e, r = E - T < r ? E - T : r, n = E + T > n ? E + T : n);
            } else t = 0, e = 0, r = 0, n = 0;
            var O = this.boundsPadding;
            this._localBounds.minX = t - O, this._localBounds.maxX = e + O, this._localBounds.minY = r - O, this._localBounds.maxY = n + O;
          }, e.prototype.drawShape = function (t) {
            this.currentPath && this.currentPath.shape.points.length <= 2 && this.graphicsData.pop(), this.currentPath = null;
            var e = new p.default(this.lineWidth, this.lineColor, this.lineAlpha, this.fillColor, this.fillAlpha, this.filling, this.nativeLines, t, this.lineAlignment);
            return this.graphicsData.push(e), e.type === _.SHAPES.POLY && (e.shape.closed = e.shape.closed, this.currentPath = e), this.dirty++, e;
          }, e.prototype.generateCanvasTexture = function (t) {
            var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1,
              r = this.getLocalBounds(),
              n = l.default.create(r.width, r.height, t, e);
            O || (O = new S.default()), this.transform.updateLocalTransform(), this.transform.localTransform.copy(M), M.invert(), M.tx -= r.x, M.ty -= r.y, O.render(this, n, !0, M);
            var i = d.default.fromCanvas(n.baseTexture._canvasRenderTarget.canvas, t, "graphics");
            return i.baseTexture.resolution = e, i.baseTexture.update(), i;
          }, e.prototype.closePath = function () {
            var t = this.currentPath;
            return t && t.shape && t.shape.close(), this;
          }, e.prototype.addHole = function () {
            var t = this.graphicsData.pop();
            return this.currentPath = this.graphicsData[this.graphicsData.length - 1], this.currentPath.addHole(t.shape), this.currentPath = null, this;
          }, e.prototype.destroy = function (e) {
            t.prototype.destroy.call(this, e);
            for (var r = 0; r < this.graphicsData.length; ++r) this.graphicsData[r].destroy();
            for (var n in this._webGL) for (var i = 0; i < this._webGL[n].data.length; ++i) this._webGL[n].data[i].destroy();
            this._spriteRect && this._spriteRect.destroy(), this.graphicsData = null, this.currentPath = null, this._webGL = null, this._localBounds = null;
          }, e;
        }(u.default);
      r.default = A, A._SPRITE_TEXTURE = null, A.CURVES = {
        adaptive: !1,
        maxLength: 10,
        minSegments: 8,
        maxSegments: 2048
      };
    }, {
      "../const": 46,
      "../display/Bounds": 47,
      "../display/Container": 48,
      "../math": 70,
      "../renderers/canvas/CanvasRenderer": 77,
      "../sprites/Sprite": 102,
      "../textures/RenderTexture": 113,
      "../textures/Texture": 115,
      "../utils": 125,
      "./GraphicsData": 54,
      "./utils/bezierCurveTo": 56
    }],
    54: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      r.__esModule = !0;
      var i = function () {
        function t(e, r, i, o, s, a, u, h, l) {
          n(this, t), this.lineWidth = e, this.lineAlignment = l, this.nativeLines = u, this.lineColor = r, this.lineAlpha = i, this._lineTint = r, this.fillColor = o, this.fillAlpha = s, this._fillTint = o, this.fill = a, this.holes = [], this.shape = h, this.type = h.type;
        }
        return t.prototype.clone = function () {
          return new t(this.lineWidth, this.lineColor, this.lineAlpha, this.fillColor, this.fillAlpha, this.fill, this.nativeLines, this.shape, this.lineAlignment);
        }, t.prototype.addHole = function (t) {
          this.holes.push(t);
        }, t.prototype.destroy = function () {
          this.shape = null, this.holes = null;
        }, t;
      }();
      r.default = i;
    }, {}],
    55: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      r.__esModule = !0;
      var i = t("../../renderers/canvas/CanvasRenderer"),
        o = function (t) {
          return t && t.__esModule ? t : {
            default: t
          };
        }(i),
        s = t("../../const"),
        a = function () {
          function t(e) {
            n(this, t), this.renderer = e;
          }
          return t.prototype.render = function (t) {
            var e = this.renderer,
              r = e.context,
              n = t.worldAlpha,
              i = t.transform.worldTransform,
              o = e.resolution;
            r.setTransform(i.a * o, i.b * o, i.c * o, i.d * o, i.tx * o, i.ty * o), t.canvasTintDirty === t.dirty && t._prevTint === t.tint || this.updateGraphicsTint(t), e.setBlendMode(t.blendMode);
            for (var a = 0; a < t.graphicsData.length; a++) {
              var u = t.graphicsData[a],
                h = u.shape,
                l = u._fillTint,
                c = u._lineTint;
              if (r.lineWidth = u.lineWidth, u.type === s.SHAPES.POLY) {
                r.beginPath();
                var d = h.points,
                  f = u.holes,
                  p = void 0,
                  v = void 0;
                r.moveTo(d[0], d[1]);
                for (var g = 2; g < d.length; g += 2) r.lineTo(d[g], d[g + 1]);
                if (h.closed && r.closePath(), f.length > 0) {
                  p = 0;
                  for (var y = 0; y < d.length; y += 2) p += d[y] * d[y + 3] - d[y + 1] * d[y + 2];
                  for (var m = 0; m < f.length; m++) {
                    d = f[m].points, v = 0;
                    for (var _ = 0; _ < d.length; _ += 2) v += d[_] * d[_ + 3] - d[_ + 1] * d[_ + 2];
                    if (r.moveTo(d[0], d[1]), v * p < 0) for (var b = 2; b < d.length; b += 2) r.lineTo(d[b], d[b + 1]);else for (var x = d.length - 2; x >= 2; x -= 2) r.lineTo(d[x], d[x + 1]);
                    f[m].closed && r.closePath();
                  }
                }
                u.fill && (r.globalAlpha = u.fillAlpha * n, r.fillStyle = "#" + ("00000" + (0 | l).toString(16)).substr(-6), r.fill()), u.lineWidth && (r.globalAlpha = u.lineAlpha * n, r.strokeStyle = "#" + ("00000" + (0 | c).toString(16)).substr(-6), r.stroke());
              } else if (u.type === s.SHAPES.RECT) (u.fillColor || 0 === u.fillColor) && (r.globalAlpha = u.fillAlpha * n, r.fillStyle = "#" + ("00000" + (0 | l).toString(16)).substr(-6), r.fillRect(h.x, h.y, h.width, h.height)), u.lineWidth && (r.globalAlpha = u.lineAlpha * n, r.strokeStyle = "#" + ("00000" + (0 | c).toString(16)).substr(-6), r.strokeRect(h.x, h.y, h.width, h.height));else if (u.type === s.SHAPES.CIRC) r.beginPath(), r.arc(h.x, h.y, h.radius, 0, 2 * Math.PI), r.closePath(), u.fill && (r.globalAlpha = u.fillAlpha * n, r.fillStyle = "#" + ("00000" + (0 | l).toString(16)).substr(-6), r.fill()), u.lineWidth && (r.globalAlpha = u.lineAlpha * n, r.strokeStyle = "#" + ("00000" + (0 | c).toString(16)).substr(-6), r.stroke());else if (u.type === s.SHAPES.ELIP) {
                var T = 2 * h.width,
                  w = 2 * h.height,
                  E = h.x - T / 2,
                  S = h.y - w / 2;
                r.beginPath();
                var O = T / 2 * .5522848,
                  M = w / 2 * .5522848,
                  P = E + T,
                  C = S + w,
                  R = E + T / 2,
                  A = S + w / 2;
                r.moveTo(E, A), r.bezierCurveTo(E, A - M, R - O, S, R, S), r.bezierCurveTo(R + O, S, P, A - M, P, A), r.bezierCurveTo(P, A + M, R + O, C, R, C), r.bezierCurveTo(R - O, C, E, A + M, E, A), r.closePath(), u.fill && (r.globalAlpha = u.fillAlpha * n, r.fillStyle = "#" + ("00000" + (0 | l).toString(16)).substr(-6), r.fill()), u.lineWidth && (r.globalAlpha = u.lineAlpha * n, r.strokeStyle = "#" + ("00000" + (0 | c).toString(16)).substr(-6), r.stroke());
              } else if (u.type === s.SHAPES.RREC) {
                var I = h.x,
                  D = h.y,
                  L = h.width,
                  N = h.height,
                  B = h.radius,
                  k = Math.min(L, N) / 2 | 0;
                B = B > k ? k : B, r.beginPath(), r.moveTo(I, D + B), r.lineTo(I, D + N - B), r.quadraticCurveTo(I, D + N, I + B, D + N), r.lineTo(I + L - B, D + N), r.quadraticCurveTo(I + L, D + N, I + L, D + N - B), r.lineTo(I + L, D + B), r.quadraticCurveTo(I + L, D, I + L - B, D), r.lineTo(I + B, D), r.quadraticCurveTo(I, D, I, D + B), r.closePath(), (u.fillColor || 0 === u.fillColor) && (r.globalAlpha = u.fillAlpha * n, r.fillStyle = "#" + ("00000" + (0 | l).toString(16)).substr(-6), r.fill()), u.lineWidth && (r.globalAlpha = u.lineAlpha * n, r.strokeStyle = "#" + ("00000" + (0 | c).toString(16)).substr(-6), r.stroke());
              }
            }
          }, t.prototype.updateGraphicsTint = function (t) {
            t._prevTint = t.tint, t.canvasTintDirty = t.dirty;
            for (var e = (t.tint >> 16 & 255) / 255, r = (t.tint >> 8 & 255) / 255, n = (255 & t.tint) / 255, i = 0; i < t.graphicsData.length; ++i) {
              var o = t.graphicsData[i],
                s = 0 | o.fillColor,
                a = 0 | o.lineColor;
              o._fillTint = ((s >> 16 & 255) / 255 * e * 255 << 16) + ((s >> 8 & 255) / 255 * r * 255 << 8) + (255 & s) / 255 * n * 255, o._lineTint = ((a >> 16 & 255) / 255 * e * 255 << 16) + ((a >> 8 & 255) / 255 * r * 255 << 8) + (255 & a) / 255 * n * 255;
            }
          }, t.prototype.renderPolygon = function (t, e, r) {
            r.moveTo(t[0], t[1]);
            for (var n = 1; n < t.length / 2; ++n) r.lineTo(t[2 * n], t[2 * n + 1]);
            e && r.closePath();
          }, t.prototype.destroy = function () {
            this.renderer = null;
          }, t;
        }();
      r.default = a, o.default.registerPlugin("graphics", a);
    }, {
      "../../const": 46,
      "../../renderers/canvas/CanvasRenderer": 77
    }],
    56: [function (t, e, r) {
      "use strict";

      function n(t, e, r, n, i, o, s, a, u) {
        var h = arguments.length > 9 && void 0 !== arguments[9] ? arguments[9] : [],
          l = 0,
          c = 0,
          d = 0,
          f = 0,
          p = 0;
        h.push(t, e);
        for (var v = 1, g = 0; v <= u; ++v) g = v / u, l = 1 - g, c = l * l, d = c * l, f = g * g, p = f * g, h.push(d * t + 3 * c * g * r + 3 * l * f * i + p * s, d * e + 3 * c * g * n + 3 * l * f * o + p * a);
        return h;
      }
      r.__esModule = !0, r.default = n;
    }, {}],
    57: [function (t, e, r) {
      "use strict";

      function n(t) {
        return t && t.__esModule ? t : {
          default: t
        };
      }
      function i(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      function o(t, e) {
        if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !e || "object" != _typeof(e) && "function" != typeof e ? t : e;
      }
      function s(t, e) {
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + _typeof(e));
        t.prototype = Object.create(e && e.prototype, {
          constructor: {
            value: t,
            enumerable: !1,
            writable: !0,
            configurable: !0
          }
        }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e);
      }
      r.__esModule = !0;
      var a = t("../../utils"),
        u = t("../../const"),
        h = t("../../renderers/webgl/utils/ObjectRenderer"),
        l = n(h),
        c = t("../../renderers/webgl/WebGLRenderer"),
        d = n(c),
        f = t("./WebGLGraphicsData"),
        p = n(f),
        v = t("./shaders/PrimitiveShader"),
        g = n(v),
        y = t("./utils/buildPoly"),
        m = n(y),
        _ = t("./utils/buildRectangle"),
        b = n(_),
        x = t("./utils/buildRoundedRectangle"),
        T = n(x),
        w = t("./utils/buildCircle"),
        E = n(w),
        S = function (t) {
          function e(r) {
            i(this, e);
            var n = o(this, t.call(this, r));
            return n.graphicsDataPool = [], n.primitiveShader = null, n.gl = r.gl, n.CONTEXT_UID = 0, n;
          }
          return s(e, t), e.prototype.onContextChange = function () {
            this.gl = this.renderer.gl, this.CONTEXT_UID = this.renderer.CONTEXT_UID, this.primitiveShader = new g.default(this.gl);
          }, e.prototype.destroy = function () {
            l.default.prototype.destroy.call(this);
            for (var t = 0; t < this.graphicsDataPool.length; ++t) this.graphicsDataPool[t].destroy();
            this.graphicsDataPool = null;
          }, e.prototype.render = function (t) {
            var e = this.renderer,
              r = e.gl,
              n = void 0,
              i = t._webGL[this.CONTEXT_UID];
            i && t.dirty === i.dirty || (this.updateGraphics(t), i = t._webGL[this.CONTEXT_UID]);
            var o = this.primitiveShader;
            e.bindShader(o), e.state.setBlendMode(t.blendMode);
            for (var s = 0, u = i.data.length; s < u; s++) {
              n = i.data[s];
              var h = n.shader;
              e.bindShader(h), h.uniforms.translationMatrix = t.transform.worldTransform.toArray(!0), h.uniforms.tint = (0, a.hex2rgb)(t.tint), h.uniforms.alpha = t.worldAlpha, e.bindVao(n.vao), n.nativeLines ? r.drawArrays(r.LINES, 0, n.points.length / 6) : n.vao.draw(r.TRIANGLE_STRIP, n.indices.length);
            }
          }, e.prototype.updateGraphics = function (t) {
            var e = this.renderer.gl,
              r = t._webGL[this.CONTEXT_UID];
            if (r || (r = t._webGL[this.CONTEXT_UID] = {
              lastIndex: 0,
              data: [],
              gl: e,
              clearDirty: -1,
              dirty: -1
            }), r.dirty = t.dirty, t.clearDirty !== r.clearDirty) {
              r.clearDirty = t.clearDirty;
              for (var n = 0; n < r.data.length; n++) this.graphicsDataPool.push(r.data[n]);
              r.data.length = 0, r.lastIndex = 0;
            }
            for (var i = void 0, o = void 0, s = r.lastIndex; s < t.graphicsData.length; s++) {
              var a = t.graphicsData[s];
              i = this.getWebGLData(r, 0), a.nativeLines && a.lineWidth && (o = this.getWebGLData(r, 0, !0), r.lastIndex++), a.type === u.SHAPES.POLY && (0, m.default)(a, i, o), a.type === u.SHAPES.RECT ? (0, b.default)(a, i, o) : a.type === u.SHAPES.CIRC || a.type === u.SHAPES.ELIP ? (0, E.default)(a, i, o) : a.type === u.SHAPES.RREC && (0, T.default)(a, i, o), r.lastIndex++;
            }
            this.renderer.bindVao(null);
            for (var h = 0; h < r.data.length; h++) i = r.data[h], i.dirty && i.upload();
          }, e.prototype.getWebGLData = function (t, e, r) {
            var n = t.data[t.data.length - 1];
            return (!n || n.nativeLines !== r || n.points.length > 32e4) && (n = this.graphicsDataPool.pop() || new p.default(this.renderer.gl, this.primitiveShader, this.renderer.state.attribsState), n.nativeLines = r, n.reset(e), t.data.push(n)), n.dirty = !0, n;
          }, e;
        }(l.default);
      r.default = S, d.default.registerPlugin("graphics", S);
    }, {
      "../../const": 46,
      "../../renderers/webgl/WebGLRenderer": 84,
      "../../renderers/webgl/utils/ObjectRenderer": 94,
      "../../utils": 125,
      "./WebGLGraphicsData": 58,
      "./shaders/PrimitiveShader": 59,
      "./utils/buildCircle": 60,
      "./utils/buildPoly": 62,
      "./utils/buildRectangle": 63,
      "./utils/buildRoundedRectangle": 64
    }],
    58: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      r.__esModule = !0;
      var i = t("pixi-gl-core"),
        o = function (t) {
          return t && t.__esModule ? t : {
            default: t
          };
        }(i),
        s = function () {
          function t(e, r, i) {
            n(this, t), this.gl = e, this.color = [0, 0, 0], this.points = [], this.indices = [], this.buffer = o.default.GLBuffer.createVertexBuffer(e), this.indexBuffer = o.default.GLBuffer.createIndexBuffer(e), this.dirty = !0, this.nativeLines = !1, this.glPoints = null, this.glIndices = null, this.shader = r, this.vao = new o.default.VertexArrayObject(e, i).addIndex(this.indexBuffer).addAttribute(this.buffer, r.attributes.aVertexPosition, e.FLOAT, !1, 24, 0).addAttribute(this.buffer, r.attributes.aColor, e.FLOAT, !1, 24, 8);
          }
          return t.prototype.reset = function () {
            this.points.length = 0, this.indices.length = 0;
          }, t.prototype.upload = function () {
            this.glPoints = new Float32Array(this.points), this.buffer.upload(this.glPoints), this.glIndices = new Uint16Array(this.indices), this.indexBuffer.upload(this.glIndices), this.dirty = !1;
          }, t.prototype.destroy = function () {
            this.color = null, this.points = null, this.indices = null, this.vao.destroy(), this.buffer.destroy(), this.indexBuffer.destroy(), this.gl = null, this.buffer = null, this.indexBuffer = null, this.glPoints = null, this.glIndices = null;
          }, t;
        }();
      r.default = s;
    }, {
      "pixi-gl-core": 15
    }],
    59: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      function i(t, e) {
        if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !e || "object" != _typeof(e) && "function" != typeof e ? t : e;
      }
      function o(t, e) {
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + _typeof(e));
        t.prototype = Object.create(e && e.prototype, {
          constructor: {
            value: t,
            enumerable: !1,
            writable: !0,
            configurable: !0
          }
        }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e);
      }
      r.__esModule = !0;
      var s = t("../../../Shader"),
        a = function (t) {
          return t && t.__esModule ? t : {
            default: t
          };
        }(s),
        u = function (t) {
          function e(r) {
            return n(this, e), i(this, t.call(this, r, ["attribute vec2 aVertexPosition;", "attribute vec4 aColor;", "uniform mat3 translationMatrix;", "uniform mat3 projectionMatrix;", "uniform float alpha;", "uniform vec3 tint;", "varying vec4 vColor;", "void main(void){", "   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);", "   vColor = aColor * vec4(tint * alpha, alpha);", "}"].join("\n"), ["varying vec4 vColor;", "void main(void){", "   gl_FragColor = vColor;", "}"].join("\n")));
          }
          return o(e, t), e;
        }(a.default);
      r.default = u;
    }, {
      "../../../Shader": 44
    }],
    60: [function (t, e, r) {
      "use strict";

      function n(t, e, r) {
        var n = t.shape,
          i = n.x,
          u = n.y,
          h = void 0,
          l = void 0;
        if (t.type === s.SHAPES.CIRC ? (h = n.radius, l = n.radius) : (h = n.width, l = n.height), 0 !== h && 0 !== l) {
          var c = Math.floor(30 * Math.sqrt(n.radius)) || Math.floor(15 * Math.sqrt(n.width + n.height)),
            d = 2 * Math.PI / c;
          if (t.fill) {
            var f = (0, a.hex2rgb)(t.fillColor),
              p = t.fillAlpha,
              v = f[0] * p,
              g = f[1] * p,
              y = f[2] * p,
              m = e.points,
              _ = e.indices,
              b = m.length / 6;
            _.push(b);
            for (var x = 0; x < c + 1; x++) m.push(i, u, v, g, y, p), m.push(i + Math.sin(d * x) * h, u + Math.cos(d * x) * l, v, g, y, p), _.push(b++, b++);
            _.push(b - 1);
          }
          if (t.lineWidth) {
            var T = t.points;
            t.points = [];
            for (var w = 0; w < c; w++) t.points.push(i + Math.sin(d * -w) * h, u + Math.cos(d * -w) * l);
            t.points.push(t.points[0], t.points[1]), (0, o.default)(t, e, r), t.points = T;
          }
        }
      }
      r.__esModule = !0, r.default = n;
      var i = t("./buildLine"),
        o = function (t) {
          return t && t.__esModule ? t : {
            default: t
          };
        }(i),
        s = t("../../../const"),
        a = t("../../../utils");
    }, {
      "../../../const": 46,
      "../../../utils": 125,
      "./buildLine": 61
    }],
    61: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        var r = t.points;
        if (0 !== r.length) {
          var n = new o.Point(r[0], r[1]),
            i = new o.Point(r[r.length - 2], r[r.length - 1]);
          if (n.x === i.x && n.y === i.y) {
            r = r.slice(), r.pop(), r.pop(), i = new o.Point(r[r.length - 2], r[r.length - 1]);
            var a = i.x + .5 * (n.x - i.x),
              u = i.y + .5 * (n.y - i.y);
            r.unshift(a, u), r.push(a, u);
          }
          var h = e.points,
            l = e.indices,
            c = r.length / 2,
            d = r.length,
            f = h.length / 6,
            p = t.lineWidth / 2,
            v = (0, s.hex2rgb)(t.lineColor),
            g = t.lineAlpha,
            y = v[0] * g,
            m = v[1] * g,
            _ = v[2] * g,
            b = r[0],
            x = r[1],
            T = r[2],
            w = r[3],
            E = 0,
            S = 0,
            O = -(x - w),
            M = b - T,
            P = 0,
            C = 0,
            R = 0,
            A = 0,
            I = Math.sqrt(O * O + M * M);
          O /= I, M /= I, O *= p, M *= p;
          var D = t.lineAlignment,
            L = 2 * (1 - D),
            N = 2 * D;
          h.push(b - O * L, x - M * L, y, m, _, g), h.push(b + O * N, x + M * N, y, m, _, g);
          for (var B = 1; B < c - 1; ++B) {
            b = r[2 * (B - 1)], x = r[2 * (B - 1) + 1], T = r[2 * B], w = r[2 * B + 1], E = r[2 * (B + 1)], S = r[2 * (B + 1) + 1], O = -(x - w), M = b - T, I = Math.sqrt(O * O + M * M), O /= I, M /= I, O *= p, M *= p, P = -(w - S), C = T - E, I = Math.sqrt(P * P + C * C), P /= I, C /= I, P *= p, C *= p;
            var k = -M + x - (-M + w),
              F = -O + T - (-O + b),
              j = (-O + b) * (-M + w) - (-O + T) * (-M + x),
              U = -C + S - (-C + w),
              X = -P + T - (-P + E),
              G = (-P + E) * (-C + w) - (-P + T) * (-C + S),
              W = k * X - U * F;
            if (Math.abs(W) < .1) W += 10.1, h.push(T - O * L, w - M * L, y, m, _, g), h.push(T + O * N, w + M * N, y, m, _, g);else {
              var H = (F * G - X * j) / W,
                Y = (U * j - k * G) / W;
              (H - T) * (H - T) + (Y - w) * (Y - w) > 196 * p * p ? (R = O - P, A = M - C, I = Math.sqrt(R * R + A * A), R /= I, A /= I, R *= p, A *= p, h.push(T - R * L, w - A * L), h.push(y, m, _, g), h.push(T + R * N, w + A * N), h.push(y, m, _, g), h.push(T - R * N * L, w - A * L), h.push(y, m, _, g), d++) : (h.push(T + (H - T) * L, w + (Y - w) * L), h.push(y, m, _, g), h.push(T - (H - T) * N, w - (Y - w) * N), h.push(y, m, _, g));
            }
          }
          b = r[2 * (c - 2)], x = r[2 * (c - 2) + 1], T = r[2 * (c - 1)], w = r[2 * (c - 1) + 1], O = -(x - w), M = b - T, I = Math.sqrt(O * O + M * M), O /= I, M /= I, O *= p, M *= p, h.push(T - O * L, w - M * L), h.push(y, m, _, g), h.push(T + O * N, w + M * N), h.push(y, m, _, g), l.push(f);
          for (var V = 0; V < d; ++V) l.push(f++);
          l.push(f - 1);
        }
      }
      function i(t, e) {
        var r = 0,
          n = t.points;
        if (0 !== n.length) {
          var i = e.points,
            o = n.length / 2,
            a = (0, s.hex2rgb)(t.lineColor),
            u = t.lineAlpha,
            h = a[0] * u,
            l = a[1] * u,
            c = a[2] * u;
          for (r = 1; r < o; r++) {
            var d = n[2 * (r - 1)],
              f = n[2 * (r - 1) + 1],
              p = n[2 * r],
              v = n[2 * r + 1];
            i.push(d, f), i.push(h, l, c, u), i.push(p, v), i.push(h, l, c, u);
          }
        }
      }
      r.__esModule = !0, r.default = function (t, e, r) {
        t.nativeLines ? i(t, r) : n(t, e);
      };
      var o = t("../../../math"),
        s = t("../../../utils");
    }, {
      "../../../math": 70,
      "../../../utils": 125
    }],
    62: [function (t, e, r) {
      "use strict";

      function n(t) {
        return t && t.__esModule ? t : {
          default: t
        };
      }
      function i(t, e, r) {
        t.points = t.shape.points.slice();
        var n = t.points;
        if (t.fill && n.length >= 6) {
          for (var i = [], o = t.holes, u = 0; u < o.length; u++) {
            var l = o[u];
            i.push(n.length / 2), n = n.concat(l.points);
          }
          var c = e.points,
            d = e.indices,
            f = n.length / 2,
            p = (0, a.hex2rgb)(t.fillColor),
            v = t.fillAlpha,
            g = p[0] * v,
            y = p[1] * v,
            m = p[2] * v,
            _ = (0, h.default)(n, i, 2);
          if (!_) return;
          for (var b = c.length / 6, x = 0; x < _.length; x += 3) d.push(_[x] + b), d.push(_[x] + b), d.push(_[x + 1] + b), d.push(_[x + 2] + b), d.push(_[x + 2] + b);
          for (var T = 0; T < f; T++) c.push(n[2 * T], n[2 * T + 1], g, y, m, v);
        }
        t.lineWidth > 0 && (0, s.default)(t, e, r);
      }
      r.__esModule = !0, r.default = i;
      var o = t("./buildLine"),
        s = n(o),
        a = t("../../../utils"),
        u = t("earcut"),
        h = n(u);
    }, {
      "../../../utils": 125,
      "./buildLine": 61,
      earcut: 2
    }],
    63: [function (t, e, r) {
      "use strict";

      function n(t, e, r) {
        var n = t.shape,
          i = n.x,
          a = n.y,
          u = n.width,
          h = n.height;
        if (t.fill) {
          var l = (0, s.hex2rgb)(t.fillColor),
            c = t.fillAlpha,
            d = l[0] * c,
            f = l[1] * c,
            p = l[2] * c,
            v = e.points,
            g = e.indices,
            y = v.length / 6;
          v.push(i, a), v.push(d, f, p, c), v.push(i + u, a), v.push(d, f, p, c), v.push(i, a + h), v.push(d, f, p, c), v.push(i + u, a + h), v.push(d, f, p, c), g.push(y, y, y + 1, y + 2, y + 3, y + 3);
        }
        if (t.lineWidth) {
          var m = t.points;
          t.points = [i, a, i + u, a, i + u, a + h, i, a + h, i, a], (0, o.default)(t, e, r), t.points = m;
        }
      }
      r.__esModule = !0, r.default = n;
      var i = t("./buildLine"),
        o = function (t) {
          return t && t.__esModule ? t : {
            default: t
          };
        }(i),
        s = t("../../../utils");
    }, {
      "../../../utils": 125,
      "./buildLine": 61
    }],
    64: [function (t, e, r) {
      "use strict";

      function n(t) {
        return t && t.__esModule ? t : {
          default: t
        };
      }
      function i(t, e, r) {
        var n = t.shape,
          i = n.x,
          o = n.y,
          a = n.width,
          h = n.height,
          d = n.radius,
          f = [];
        if (f.push(i + d, o), s(i + a - d, o, i + a, o, i + a, o + d, f), s(i + a, o + h - d, i + a, o + h, i + a - d, o + h, f), s(i + d, o + h, i, o + h, i, o + h - d, f), s(i, o + d, i, o, i + d + 1e-10, o, f), t.fill) {
          for (var p = (0, c.hex2rgb)(t.fillColor), v = t.fillAlpha, g = p[0] * v, y = p[1] * v, m = p[2] * v, _ = e.points, b = e.indices, x = _.length / 6, T = (0, u.default)(f, null, 2), w = 0, E = T.length; w < E; w += 3) b.push(T[w] + x), b.push(T[w] + x), b.push(T[w + 1] + x), b.push(T[w + 2] + x), b.push(T[w + 2] + x);
          for (var S = 0, O = f.length; S < O; S++) _.push(f[S], f[++S], g, y, m, v);
        }
        if (t.lineWidth) {
          var M = t.points;
          t.points = f, (0, l.default)(t, e, r), t.points = M;
        }
      }
      function o(t, e, r) {
        return t + (e - t) * r;
      }
      function s(t, e, r, n, i, s) {
        for (var a = arguments.length > 6 && void 0 !== arguments[6] ? arguments[6] : [], u = a, h = 0, l = 0, c = 0, d = 0, f = 0, p = 0, v = 0, g = 0; v <= 20; ++v) g = v / 20, h = o(t, r, g), l = o(e, n, g), c = o(r, i, g), d = o(n, s, g), f = o(h, c, g), p = o(l, d, g), u.push(f, p);
        return u;
      }
      r.__esModule = !0, r.default = i;
      var a = t("earcut"),
        u = n(a),
        h = t("./buildLine"),
        l = n(h),
        c = t("../../../utils");
    }, {
      "../../../utils": 125,
      "./buildLine": 61,
      earcut: 2
    }],
    65: [function (t, e, r) {
      "use strict";

      function n(t) {
        if (t && t.__esModule) return t;
        var e = {};
        if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
        return e.default = t, e;
      }
      function i(t) {
        return t && t.__esModule ? t : {
          default: t
        };
      }
      r.__esModule = !0, r.autoDetectRenderer = r.Application = r.Filter = r.SpriteMaskFilter = r.Quad = r.RenderTarget = r.ObjectRenderer = r.WebGLManager = r.Shader = r.CanvasRenderTarget = r.TextureUvs = r.VideoBaseTexture = r.BaseRenderTexture = r.RenderTexture = r.BaseTexture = r.TextureMatrix = r.Texture = r.Spritesheet = r.CanvasGraphicsRenderer = r.GraphicsRenderer = r.GraphicsData = r.Graphics = r.TextMetrics = r.TextStyle = r.Text = r.SpriteRenderer = r.CanvasTinter = r.CanvasSpriteRenderer = r.Sprite = r.TransformBase = r.TransformStatic = r.Transform = r.Container = r.DisplayObject = r.Bounds = r.glCore = r.WebGLRenderer = r.CanvasRenderer = r.ticker = r.utils = r.settings = void 0;
      var o = t("./const");
      Object.keys(o).forEach(function (t) {
        "default" !== t && "__esModule" !== t && Object.defineProperty(r, t, {
          enumerable: !0,
          get: function get() {
            return o[t];
          }
        });
      });
      var s = t("./math");
      Object.keys(s).forEach(function (t) {
        "default" !== t && "__esModule" !== t && Object.defineProperty(r, t, {
          enumerable: !0,
          get: function get() {
            return s[t];
          }
        });
      });
      var a = t("pixi-gl-core");
      Object.defineProperty(r, "glCore", {
        enumerable: !0,
        get: function get() {
          return i(a).default;
        }
      });
      var u = t("./display/Bounds");
      Object.defineProperty(r, "Bounds", {
        enumerable: !0,
        get: function get() {
          return i(u).default;
        }
      });
      var h = t("./display/DisplayObject");
      Object.defineProperty(r, "DisplayObject", {
        enumerable: !0,
        get: function get() {
          return i(h).default;
        }
      });
      var l = t("./display/Container");
      Object.defineProperty(r, "Container", {
        enumerable: !0,
        get: function get() {
          return i(l).default;
        }
      });
      var c = t("./display/Transform");
      Object.defineProperty(r, "Transform", {
        enumerable: !0,
        get: function get() {
          return i(c).default;
        }
      });
      var d = t("./display/TransformStatic");
      Object.defineProperty(r, "TransformStatic", {
        enumerable: !0,
        get: function get() {
          return i(d).default;
        }
      });
      var f = t("./display/TransformBase");
      Object.defineProperty(r, "TransformBase", {
        enumerable: !0,
        get: function get() {
          return i(f).default;
        }
      });
      var p = t("./sprites/Sprite");
      Object.defineProperty(r, "Sprite", {
        enumerable: !0,
        get: function get() {
          return i(p).default;
        }
      });
      var v = t("./sprites/canvas/CanvasSpriteRenderer");
      Object.defineProperty(r, "CanvasSpriteRenderer", {
        enumerable: !0,
        get: function get() {
          return i(v).default;
        }
      });
      var g = t("./sprites/canvas/CanvasTinter");
      Object.defineProperty(r, "CanvasTinter", {
        enumerable: !0,
        get: function get() {
          return i(g).default;
        }
      });
      var y = t("./sprites/webgl/SpriteRenderer");
      Object.defineProperty(r, "SpriteRenderer", {
        enumerable: !0,
        get: function get() {
          return i(y).default;
        }
      });
      var m = t("./text/Text");
      Object.defineProperty(r, "Text", {
        enumerable: !0,
        get: function get() {
          return i(m).default;
        }
      });
      var _ = t("./text/TextStyle");
      Object.defineProperty(r, "TextStyle", {
        enumerable: !0,
        get: function get() {
          return i(_).default;
        }
      });
      var b = t("./text/TextMetrics");
      Object.defineProperty(r, "TextMetrics", {
        enumerable: !0,
        get: function get() {
          return i(b).default;
        }
      });
      var x = t("./graphics/Graphics");
      Object.defineProperty(r, "Graphics", {
        enumerable: !0,
        get: function get() {
          return i(x).default;
        }
      });
      var T = t("./graphics/GraphicsData");
      Object.defineProperty(r, "GraphicsData", {
        enumerable: !0,
        get: function get() {
          return i(T).default;
        }
      });
      var w = t("./graphics/webgl/GraphicsRenderer");
      Object.defineProperty(r, "GraphicsRenderer", {
        enumerable: !0,
        get: function get() {
          return i(w).default;
        }
      });
      var E = t("./graphics/canvas/CanvasGraphicsRenderer");
      Object.defineProperty(r, "CanvasGraphicsRenderer", {
        enumerable: !0,
        get: function get() {
          return i(E).default;
        }
      });
      var S = t("./textures/Spritesheet");
      Object.defineProperty(r, "Spritesheet", {
        enumerable: !0,
        get: function get() {
          return i(S).default;
        }
      });
      var O = t("./textures/Texture");
      Object.defineProperty(r, "Texture", {
        enumerable: !0,
        get: function get() {
          return i(O).default;
        }
      });
      var M = t("./textures/TextureMatrix");
      Object.defineProperty(r, "TextureMatrix", {
        enumerable: !0,
        get: function get() {
          return i(M).default;
        }
      });
      var P = t("./textures/BaseTexture");
      Object.defineProperty(r, "BaseTexture", {
        enumerable: !0,
        get: function get() {
          return i(P).default;
        }
      });
      var C = t("./textures/RenderTexture");
      Object.defineProperty(r, "RenderTexture", {
        enumerable: !0,
        get: function get() {
          return i(C).default;
        }
      });
      var R = t("./textures/BaseRenderTexture");
      Object.defineProperty(r, "BaseRenderTexture", {
        enumerable: !0,
        get: function get() {
          return i(R).default;
        }
      });
      var A = t("./textures/VideoBaseTexture");
      Object.defineProperty(r, "VideoBaseTexture", {
        enumerable: !0,
        get: function get() {
          return i(A).default;
        }
      });
      var I = t("./textures/TextureUvs");
      Object.defineProperty(r, "TextureUvs", {
        enumerable: !0,
        get: function get() {
          return i(I).default;
        }
      });
      var D = t("./renderers/canvas/utils/CanvasRenderTarget");
      Object.defineProperty(r, "CanvasRenderTarget", {
        enumerable: !0,
        get: function get() {
          return i(D).default;
        }
      });
      var L = t("./Shader");
      Object.defineProperty(r, "Shader", {
        enumerable: !0,
        get: function get() {
          return i(L).default;
        }
      });
      var N = t("./renderers/webgl/managers/WebGLManager");
      Object.defineProperty(r, "WebGLManager", {
        enumerable: !0,
        get: function get() {
          return i(N).default;
        }
      });
      var B = t("./renderers/webgl/utils/ObjectRenderer");
      Object.defineProperty(r, "ObjectRenderer", {
        enumerable: !0,
        get: function get() {
          return i(B).default;
        }
      });
      var k = t("./renderers/webgl/utils/RenderTarget");
      Object.defineProperty(r, "RenderTarget", {
        enumerable: !0,
        get: function get() {
          return i(k).default;
        }
      });
      var F = t("./renderers/webgl/utils/Quad");
      Object.defineProperty(r, "Quad", {
        enumerable: !0,
        get: function get() {
          return i(F).default;
        }
      });
      var j = t("./renderers/webgl/filters/spriteMask/SpriteMaskFilter");
      Object.defineProperty(r, "SpriteMaskFilter", {
        enumerable: !0,
        get: function get() {
          return i(j).default;
        }
      });
      var U = t("./renderers/webgl/filters/Filter");
      Object.defineProperty(r, "Filter", {
        enumerable: !0,
        get: function get() {
          return i(U).default;
        }
      });
      var X = t("./Application");
      Object.defineProperty(r, "Application", {
        enumerable: !0,
        get: function get() {
          return i(X).default;
        }
      });
      var G = t("./autoDetectRenderer");
      Object.defineProperty(r, "autoDetectRenderer", {
        enumerable: !0,
        get: function get() {
          return G.autoDetectRenderer;
        }
      });
      var W = t("./utils"),
        H = n(W),
        Y = t("./ticker"),
        V = n(Y),
        z = t("./settings"),
        q = i(z),
        K = t("./renderers/canvas/CanvasRenderer"),
        Z = i(K),
        J = t("./renderers/webgl/WebGLRenderer"),
        Q = i(J);
      r.settings = q.default, r.utils = H, r.ticker = V, r.CanvasRenderer = Z.default, r.WebGLRenderer = Q.default;
    }, {
      "./Application": 43,
      "./Shader": 44,
      "./autoDetectRenderer": 45,
      "./const": 46,
      "./display/Bounds": 47,
      "./display/Container": 48,
      "./display/DisplayObject": 49,
      "./display/Transform": 50,
      "./display/TransformBase": 51,
      "./display/TransformStatic": 52,
      "./graphics/Graphics": 53,
      "./graphics/GraphicsData": 54,
      "./graphics/canvas/CanvasGraphicsRenderer": 55,
      "./graphics/webgl/GraphicsRenderer": 57,
      "./math": 70,
      "./renderers/canvas/CanvasRenderer": 77,
      "./renderers/canvas/utils/CanvasRenderTarget": 79,
      "./renderers/webgl/WebGLRenderer": 84,
      "./renderers/webgl/filters/Filter": 86,
      "./renderers/webgl/filters/spriteMask/SpriteMaskFilter": 89,
      "./renderers/webgl/managers/WebGLManager": 93,
      "./renderers/webgl/utils/ObjectRenderer": 94,
      "./renderers/webgl/utils/Quad": 95,
      "./renderers/webgl/utils/RenderTarget": 96,
      "./settings": 101,
      "./sprites/Sprite": 102,
      "./sprites/canvas/CanvasSpriteRenderer": 103,
      "./sprites/canvas/CanvasTinter": 104,
      "./sprites/webgl/SpriteRenderer": 106,
      "./text/Text": 108,
      "./text/TextMetrics": 109,
      "./text/TextStyle": 110,
      "./textures/BaseRenderTexture": 111,
      "./textures/BaseTexture": 112,
      "./textures/RenderTexture": 113,
      "./textures/Spritesheet": 114,
      "./textures/Texture": 115,
      "./textures/TextureMatrix": 116,
      "./textures/TextureUvs": 117,
      "./textures/VideoBaseTexture": 118,
      "./ticker": 121,
      "./utils": 125,
      "pixi-gl-core": 15
    }],
    66: [function (t, e, r) {
      "use strict";

      function n(t) {
        return t < 0 ? -1 : t > 0 ? 1 : 0;
      }
      r.__esModule = !0;
      var i = t("./Matrix"),
        o = function (t) {
          return t && t.__esModule ? t : {
            default: t
          };
        }(i),
        s = [1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1, 0, 1],
        a = [0, 1, 1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1],
        u = [0, -1, -1, -1, 0, 1, 1, 1, 0, 1, 1, 1, 0, -1, -1, -1],
        h = [1, 1, 0, -1, -1, -1, 0, 1, -1, -1, 0, 1, 1, 1, 0, -1],
        l = [],
        c = [];
      !function () {
        for (var t = 0; t < 16; t++) {
          var e = [];
          c.push(e);
          for (var r = 0; r < 16; r++) for (var i = n(s[t] * s[r] + u[t] * a[r]), d = n(a[t] * s[r] + h[t] * a[r]), f = n(s[t] * u[r] + u[t] * h[r]), p = n(a[t] * u[r] + h[t] * h[r]), v = 0; v < 16; v++) if (s[v] === i && a[v] === d && u[v] === f && h[v] === p) {
            e.push(v);
            break;
          }
        }
        for (var g = 0; g < 16; g++) {
          var y = new o.default();
          y.set(s[g], a[g], u[g], h[g], 0, 0), l.push(y);
        }
      }();
      var d = {
        E: 0,
        SE: 1,
        S: 2,
        SW: 3,
        W: 4,
        NW: 5,
        N: 6,
        NE: 7,
        MIRROR_VERTICAL: 8,
        MIRROR_HORIZONTAL: 12,
        uX: function uX(t) {
          return s[t];
        },
        uY: function uY(t) {
          return a[t];
        },
        vX: function vX(t) {
          return u[t];
        },
        vY: function vY(t) {
          return h[t];
        },
        inv: function inv(t) {
          return 8 & t ? 15 & t : 7 & -t;
        },
        add: function add(t, e) {
          return c[t][e];
        },
        sub: function sub(t, e) {
          return c[t][d.inv(e)];
        },
        rotate180: function rotate180(t) {
          return 4 ^ t;
        },
        isVertical: function isVertical(t) {
          return 2 == (3 & t);
        },
        byDirection: function byDirection(t, e) {
          return 2 * Math.abs(t) <= Math.abs(e) ? e >= 0 ? d.S : d.N : 2 * Math.abs(e) <= Math.abs(t) ? t > 0 ? d.E : d.W : e > 0 ? t > 0 ? d.SE : d.SW : t > 0 ? d.NE : d.NW;
        },
        matrixAppendRotationInv: function matrixAppendRotationInv(t, e) {
          var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
            n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0,
            i = l[d.inv(e)];
          i.tx = r, i.ty = n, t.append(i);
        }
      };
      r.default = d;
    }, {
      "./Matrix": 67
    }],
    67: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      r.__esModule = !0;
      var i = function () {
          function t(t, e) {
            for (var r = 0; r < e.length; r++) {
              var n = e[r];
              n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n);
            }
          }
          return function (e, r, n) {
            return r && t(e.prototype, r), n && t(e, n), e;
          };
        }(),
        o = t("./Point"),
        s = function (t) {
          return t && t.__esModule ? t : {
            default: t
          };
        }(o),
        a = t("../const"),
        u = function () {
          function t() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1,
              r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
              i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
              o = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1,
              s = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 0,
              a = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : 0;
            n(this, t), this.a = e, this.b = r, this.c = i, this.d = o, this.tx = s, this.ty = a, this.array = null;
          }
          return t.prototype.fromArray = function (t) {
            this.a = t[0], this.b = t[1], this.c = t[3], this.d = t[4], this.tx = t[2], this.ty = t[5];
          }, t.prototype.set = function (t, e, r, n, i, o) {
            return this.a = t, this.b = e, this.c = r, this.d = n, this.tx = i, this.ty = o, this;
          }, t.prototype.toArray = function (t, e) {
            this.array || (this.array = new Float32Array(9));
            var r = e || this.array;
            return t ? (r[0] = this.a, r[1] = this.b, r[2] = 0, r[3] = this.c, r[4] = this.d, r[5] = 0, r[6] = this.tx, r[7] = this.ty, r[8] = 1) : (r[0] = this.a, r[1] = this.c, r[2] = this.tx, r[3] = this.b, r[4] = this.d, r[5] = this.ty, r[6] = 0, r[7] = 0, r[8] = 1), r;
          }, t.prototype.apply = function (t, e) {
            e = e || new s.default();
            var r = t.x,
              n = t.y;
            return e.x = this.a * r + this.c * n + this.tx, e.y = this.b * r + this.d * n + this.ty, e;
          }, t.prototype.applyInverse = function (t, e) {
            e = e || new s.default();
            var r = 1 / (this.a * this.d + this.c * -this.b),
              n = t.x,
              i = t.y;
            return e.x = this.d * r * n + -this.c * r * i + (this.ty * this.c - this.tx * this.d) * r, e.y = this.a * r * i + -this.b * r * n + (-this.ty * this.a + this.tx * this.b) * r, e;
          }, t.prototype.translate = function (t, e) {
            return this.tx += t, this.ty += e, this;
          }, t.prototype.scale = function (t, e) {
            return this.a *= t, this.d *= e, this.c *= t, this.b *= e, this.tx *= t, this.ty *= e, this;
          }, t.prototype.rotate = function (t) {
            var e = Math.cos(t),
              r = Math.sin(t),
              n = this.a,
              i = this.c,
              o = this.tx;
            return this.a = n * e - this.b * r, this.b = n * r + this.b * e, this.c = i * e - this.d * r, this.d = i * r + this.d * e, this.tx = o * e - this.ty * r, this.ty = o * r + this.ty * e, this;
          }, t.prototype.append = function (t) {
            var e = this.a,
              r = this.b,
              n = this.c,
              i = this.d;
            return this.a = t.a * e + t.b * n, this.b = t.a * r + t.b * i, this.c = t.c * e + t.d * n, this.d = t.c * r + t.d * i, this.tx = t.tx * e + t.ty * n + this.tx, this.ty = t.tx * r + t.ty * i + this.ty, this;
          }, t.prototype.setTransform = function (t, e, r, n, i, o, s, a, u) {
            return this.a = Math.cos(s + u) * i, this.b = Math.sin(s + u) * i, this.c = -Math.sin(s - a) * o, this.d = Math.cos(s - a) * o, this.tx = t - (r * this.a + n * this.c), this.ty = e - (r * this.b + n * this.d), this;
          }, t.prototype.prepend = function (t) {
            var e = this.tx;
            if (1 !== t.a || 0 !== t.b || 0 !== t.c || 1 !== t.d) {
              var r = this.a,
                n = this.c;
              this.a = r * t.a + this.b * t.c, this.b = r * t.b + this.b * t.d, this.c = n * t.a + this.d * t.c, this.d = n * t.b + this.d * t.d;
            }
            return this.tx = e * t.a + this.ty * t.c + t.tx, this.ty = e * t.b + this.ty * t.d + t.ty, this;
          }, t.prototype.decompose = function (t) {
            var e = this.a,
              r = this.b,
              n = this.c,
              i = this.d,
              o = -Math.atan2(-n, i),
              s = Math.atan2(r, e),
              u = Math.abs(o + s);
            return u < 1e-5 || Math.abs(a.PI_2 - u) < 1e-5 ? (t.rotation = s, t.skew.x = t.skew.y = 0) : (t.rotation = 0, t.skew.x = o, t.skew.y = s), t.scale.x = Math.sqrt(e * e + r * r), t.scale.y = Math.sqrt(n * n + i * i), t.position.x = this.tx, t.position.y = this.ty, t;
          }, t.prototype.invert = function () {
            var t = this.a,
              e = this.b,
              r = this.c,
              n = this.d,
              i = this.tx,
              o = t * n - e * r;
            return this.a = n / o, this.b = -e / o, this.c = -r / o, this.d = t / o, this.tx = (r * this.ty - n * i) / o, this.ty = -(t * this.ty - e * i) / o, this;
          }, t.prototype.identity = function () {
            return this.a = 1, this.b = 0, this.c = 0, this.d = 1, this.tx = 0, this.ty = 0, this;
          }, t.prototype.clone = function () {
            var e = new t();
            return e.a = this.a, e.b = this.b, e.c = this.c, e.d = this.d, e.tx = this.tx, e.ty = this.ty, e;
          }, t.prototype.copy = function (t) {
            return t.a = this.a, t.b = this.b, t.c = this.c, t.d = this.d, t.tx = this.tx, t.ty = this.ty, t;
          }, i(t, null, [{
            key: "IDENTITY",
            get: function get() {
              return new t();
            }
          }, {
            key: "TEMP_MATRIX",
            get: function get() {
              return new t();
            }
          }]), t;
        }();
      r.default = u;
    }, {
      "../const": 46,
      "./Point": 69
    }],
    68: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      r.__esModule = !0;
      var i = function () {
          function t(t, e) {
            for (var r = 0; r < e.length; r++) {
              var n = e[r];
              n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n);
            }
          }
          return function (e, r, n) {
            return r && t(e.prototype, r), n && t(e, n), e;
          };
        }(),
        o = function () {
          function t(e, r) {
            var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
              o = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0;
            n(this, t), this._x = i, this._y = o, this.cb = e, this.scope = r;
          }
          return t.prototype.clone = function () {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null,
              r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null;
            return new t(e || this.cb, r || this.scope, this._x, this._y);
          }, t.prototype.set = function (t, e) {
            var r = t || 0,
              n = e || (0 !== e ? r : 0);
            this._x === r && this._y === n || (this._x = r, this._y = n, this.cb.call(this.scope));
          }, t.prototype.copy = function (t) {
            this._x === t.x && this._y === t.y || (this._x = t.x, this._y = t.y, this.cb.call(this.scope));
          }, t.prototype.equals = function (t) {
            return t.x === this._x && t.y === this._y;
          }, i(t, [{
            key: "x",
            get: function get() {
              return this._x;
            },
            set: function set(t) {
              this._x !== t && (this._x = t, this.cb.call(this.scope));
            }
          }, {
            key: "y",
            get: function get() {
              return this._y;
            },
            set: function set(t) {
              this._y !== t && (this._y = t, this.cb.call(this.scope));
            }
          }]), t;
        }();
      r.default = o;
    }, {}],
    69: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      r.__esModule = !0;
      var i = function () {
        function t() {
          var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
            r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
          n(this, t), this.x = e, this.y = r;
        }
        return t.prototype.clone = function () {
          return new t(this.x, this.y);
        }, t.prototype.copy = function (t) {
          this.set(t.x, t.y);
        }, t.prototype.equals = function (t) {
          return t.x === this.x && t.y === this.y;
        }, t.prototype.set = function (t, e) {
          this.x = t || 0, this.y = e || (0 !== e ? this.x : 0);
        }, t;
      }();
      r.default = i;
    }, {}],
    70: [function (t, e, r) {
      "use strict";

      function n(t) {
        return t && t.__esModule ? t : {
          default: t
        };
      }
      r.__esModule = !0;
      var i = t("./Point");
      Object.defineProperty(r, "Point", {
        enumerable: !0,
        get: function get() {
          return n(i).default;
        }
      });
      var o = t("./ObservablePoint");
      Object.defineProperty(r, "ObservablePoint", {
        enumerable: !0,
        get: function get() {
          return n(o).default;
        }
      });
      var s = t("./Matrix");
      Object.defineProperty(r, "Matrix", {
        enumerable: !0,
        get: function get() {
          return n(s).default;
        }
      });
      var a = t("./GroupD8");
      Object.defineProperty(r, "GroupD8", {
        enumerable: !0,
        get: function get() {
          return n(a).default;
        }
      });
      var u = t("./shapes/Circle");
      Object.defineProperty(r, "Circle", {
        enumerable: !0,
        get: function get() {
          return n(u).default;
        }
      });
      var h = t("./shapes/Ellipse");
      Object.defineProperty(r, "Ellipse", {
        enumerable: !0,
        get: function get() {
          return n(h).default;
        }
      });
      var l = t("./shapes/Polygon");
      Object.defineProperty(r, "Polygon", {
        enumerable: !0,
        get: function get() {
          return n(l).default;
        }
      });
      var c = t("./shapes/Rectangle");
      Object.defineProperty(r, "Rectangle", {
        enumerable: !0,
        get: function get() {
          return n(c).default;
        }
      });
      var d = t("./shapes/RoundedRectangle");
      Object.defineProperty(r, "RoundedRectangle", {
        enumerable: !0,
        get: function get() {
          return n(d).default;
        }
      });
    }, {
      "./GroupD8": 66,
      "./Matrix": 67,
      "./ObservablePoint": 68,
      "./Point": 69,
      "./shapes/Circle": 71,
      "./shapes/Ellipse": 72,
      "./shapes/Polygon": 73,
      "./shapes/Rectangle": 74,
      "./shapes/RoundedRectangle": 75
    }],
    71: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      r.__esModule = !0;
      var i = t("./Rectangle"),
        o = function (t) {
          return t && t.__esModule ? t : {
            default: t
          };
        }(i),
        s = t("../../const"),
        a = function () {
          function t() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
              r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
              i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0;
            n(this, t), this.x = e, this.y = r, this.radius = i, this.type = s.SHAPES.CIRC;
          }
          return t.prototype.clone = function () {
            return new t(this.x, this.y, this.radius);
          }, t.prototype.contains = function (t, e) {
            if (this.radius <= 0) return !1;
            var r = this.radius * this.radius,
              n = this.x - t,
              i = this.y - e;
            return n *= n, i *= i, n + i <= r;
          }, t.prototype.getBounds = function () {
            return new o.default(this.x - this.radius, this.y - this.radius, 2 * this.radius, 2 * this.radius);
          }, t;
        }();
      r.default = a;
    }, {
      "../../const": 46,
      "./Rectangle": 74
    }],
    72: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      r.__esModule = !0;
      var i = t("./Rectangle"),
        o = function (t) {
          return t && t.__esModule ? t : {
            default: t
          };
        }(i),
        s = t("../../const"),
        a = function () {
          function t() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
              r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
              i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
              o = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0;
            n(this, t), this.x = e, this.y = r, this.width = i, this.height = o, this.type = s.SHAPES.ELIP;
          }
          return t.prototype.clone = function () {
            return new t(this.x, this.y, this.width, this.height);
          }, t.prototype.contains = function (t, e) {
            if (this.width <= 0 || this.height <= 0) return !1;
            var r = (t - this.x) / this.width,
              n = (e - this.y) / this.height;
            return r *= r, n *= n, r + n <= 1;
          }, t.prototype.getBounds = function () {
            return new o.default(this.x - this.width, this.y - this.height, this.width, this.height);
          }, t;
        }();
      r.default = a;
    }, {
      "../../const": 46,
      "./Rectangle": 74
    }],
    73: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      r.__esModule = !0;
      var i = t("../Point"),
        o = function (t) {
          return t && t.__esModule ? t : {
            default: t
          };
        }(i),
        s = t("../../const"),
        a = function () {
          function t() {
            for (var e = arguments.length, r = Array(e), i = 0; i < e; i++) r[i] = arguments[i];
            if (n(this, t), Array.isArray(r[0]) && (r = r[0]), r[0] instanceof o.default) {
              for (var a = [], u = 0, h = r.length; u < h; u++) a.push(r[u].x, r[u].y);
              r = a;
            }
            this.closed = !0, this.points = r, this.type = s.SHAPES.POLY;
          }
          return t.prototype.clone = function () {
            return new t(this.points.slice());
          }, t.prototype.close = function () {
            var t = this.points;
            t[0] === t[t.length - 2] && t[1] === t[t.length - 1] || t.push(t[0], t[1]);
          }, t.prototype.contains = function (t, e) {
            for (var r = !1, n = this.points.length / 2, i = 0, o = n - 1; i < n; o = i++) {
              var s = this.points[2 * i],
                a = this.points[2 * i + 1],
                u = this.points[2 * o],
                h = this.points[2 * o + 1];
              a > e != h > e && t < (e - a) / (h - a) * (u - s) + s && (r = !r);
            }
            return r;
          }, t;
        }();
      r.default = a;
    }, {
      "../../const": 46,
      "../Point": 69
    }],
    74: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      r.__esModule = !0;
      var i = function () {
          function t(t, e) {
            for (var r = 0; r < e.length; r++) {
              var n = e[r];
              n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n);
            }
          }
          return function (e, r, n) {
            return r && t(e.prototype, r), n && t(e, n), e;
          };
        }(),
        o = t("../../const"),
        s = function () {
          function t() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
              r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
              i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
              s = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0;
            n(this, t), this.x = Number(e), this.y = Number(r), this.width = Number(i), this.height = Number(s), this.type = o.SHAPES.RECT;
          }
          return t.prototype.clone = function () {
            return new t(this.x, this.y, this.width, this.height);
          }, t.prototype.copy = function (t) {
            return this.x = t.x, this.y = t.y, this.width = t.width, this.height = t.height, this;
          }, t.prototype.contains = function (t, e) {
            return !(this.width <= 0 || this.height <= 0) && t >= this.x && t < this.x + this.width && e >= this.y && e < this.y + this.height;
          }, t.prototype.pad = function (t, e) {
            t = t || 0, e = e || (0 !== e ? t : 0), this.x -= t, this.y -= e, this.width += 2 * t, this.height += 2 * e;
          }, t.prototype.fit = function (t) {
            var e = Math.max(this.x, t.x),
              r = Math.min(this.x + this.width, t.x + t.width),
              n = Math.max(this.y, t.y),
              i = Math.min(this.y + this.height, t.y + t.height);
            this.x = e, this.width = Math.max(r - e, 0), this.y = n, this.height = Math.max(i - n, 0);
          }, t.prototype.enlarge = function (t) {
            var e = Math.min(this.x, t.x),
              r = Math.max(this.x + this.width, t.x + t.width),
              n = Math.min(this.y, t.y),
              i = Math.max(this.y + this.height, t.y + t.height);
            this.x = e, this.width = r - e, this.y = n, this.height = i - n;
          }, t.prototype.ceil = function () {
            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1,
              e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : .001,
              r = Math.ceil((this.x + this.width - e) * t) / t,
              n = Math.ceil((this.y + this.height - e) * t) / t;
            this.x = Math.floor((this.x + e) * t) / t, this.y = Math.floor((this.y + e) * t) / t, this.width = r - this.x, this.height = n - this.y;
          }, i(t, [{
            key: "left",
            get: function get() {
              return this.x;
            }
          }, {
            key: "right",
            get: function get() {
              return this.x + this.width;
            }
          }, {
            key: "top",
            get: function get() {
              return this.y;
            }
          }, {
            key: "bottom",
            get: function get() {
              return this.y + this.height;
            }
          }], [{
            key: "EMPTY",
            get: function get() {
              return new t(0, 0, 0, 0);
            }
          }]), t;
        }();
      r.default = s;
    }, {
      "../../const": 46
    }],
    75: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      r.__esModule = !0;
      var i = t("../../const"),
        o = function () {
          function t() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
              r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
              o = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
              s = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0,
              a = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 20;
            n(this, t), this.x = e, this.y = r, this.width = o, this.height = s, this.radius = a, this.type = i.SHAPES.RREC;
          }
          return t.prototype.clone = function () {
            return new t(this.x, this.y, this.width, this.height, this.radius);
          }, t.prototype.contains = function (t, e) {
            if (this.width <= 0 || this.height <= 0) return !1;
            if (t >= this.x && t <= this.x + this.width && e >= this.y && e <= this.y + this.height) {
              if (e >= this.y + this.radius && e <= this.y + this.height - this.radius || t >= this.x + this.radius && t <= this.x + this.width - this.radius) return !0;
              var r = t - (this.x + this.radius),
                n = e - (this.y + this.radius),
                i = this.radius * this.radius;
              if (r * r + n * n <= i) return !0;
              if ((r = t - (this.x + this.width - this.radius)) * r + n * n <= i) return !0;
              if (n = e - (this.y + this.height - this.radius), r * r + n * n <= i) return !0;
              if ((r = t - (this.x + this.radius)) * r + n * n <= i) return !0;
            }
            return !1;
          }, t;
        }();
      r.default = o;
    }, {
      "../../const": 46
    }],
    76: [function (t, e, r) {
      "use strict";

      function n(t) {
        return t && t.__esModule ? t : {
          default: t
        };
      }
      function i(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      function o(t, e) {
        if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !e || "object" != _typeof(e) && "function" != typeof e ? t : e;
      }
      function s(t, e) {
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + _typeof(e));
        t.prototype = Object.create(e && e.prototype, {
          constructor: {
            value: t,
            enumerable: !1,
            writable: !0,
            configurable: !0
          }
        }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e);
      }
      r.__esModule = !0;
      var a = function () {
          function t(t, e) {
            for (var r = 0; r < e.length; r++) {
              var n = e[r];
              n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n);
            }
          }
          return function (e, r, n) {
            return r && t(e.prototype, r), n && t(e, n), e;
          };
        }(),
        u = t("../utils"),
        h = t("../math"),
        l = t("../const"),
        c = t("../settings"),
        d = n(c),
        f = t("../display/Container"),
        p = n(f),
        v = t("../textures/RenderTexture"),
        g = n(v),
        y = t("eventemitter3"),
        m = n(y),
        _ = new h.Matrix(),
        b = function (t) {
          function e(r, n, s, a) {
            i(this, e);
            var c = o(this, t.call(this));
            return (0, u.sayHello)(r), "number" == typeof n && (n = Object.assign({
              width: n,
              height: s || d.default.RENDER_OPTIONS.height
            }, a)), n = Object.assign({}, d.default.RENDER_OPTIONS, n), c.options = n, c.type = l.RENDERER_TYPE.UNKNOWN, c.screen = new h.Rectangle(0, 0, n.width, n.height), c.view = n.view || document.createElement("canvas"), c.resolution = n.resolution || d.default.RESOLUTION, c.transparent = n.transparent, c.autoResize = n.autoResize || !1, c.blendModes = null, c.preserveDrawingBuffer = n.preserveDrawingBuffer, c.clearBeforeRender = n.clearBeforeRender, c.roundPixels = n.roundPixels, c._backgroundColor = 0, c._backgroundColorRgba = [0, 0, 0, 0], c._backgroundColorString = "#000000", c.backgroundColor = n.backgroundColor || c._backgroundColor, c._tempDisplayObjectParent = new p.default(), c._lastObjectRendered = c._tempDisplayObjectParent, c;
          }
          return s(e, t), e.prototype.resize = function (t, e) {
            this.screen.width = t, this.screen.height = e, this.view.width = t * this.resolution, this.view.height = e * this.resolution, this.autoResize && (this.view.style.width = t + "px", this.view.style.height = e + "px");
          }, e.prototype.generateTexture = function (t, e, r, n) {
            n = n || t.getLocalBounds();
            var i = g.default.create(0 | n.width, 0 | n.height, e, r);
            return _.tx = -n.x, _.ty = -n.y, this.render(t, i, !1, _, !!t.parent), i;
          }, e.prototype.destroy = function (t) {
            t && this.view.parentNode && this.view.parentNode.removeChild(this.view), this.type = l.RENDERER_TYPE.UNKNOWN, this.view = null, this.screen = null, this.resolution = 0, this.transparent = !1, this.autoResize = !1, this.blendModes = null, this.options = null, this.preserveDrawingBuffer = !1, this.clearBeforeRender = !1, this.roundPixels = !1, this._backgroundColor = 0, this._backgroundColorRgba = null, this._backgroundColorString = null, this._tempDisplayObjectParent = null, this._lastObjectRendered = null;
          }, a(e, [{
            key: "width",
            get: function get() {
              return this.view.width;
            }
          }, {
            key: "height",
            get: function get() {
              return this.view.height;
            }
          }, {
            key: "backgroundColor",
            get: function get() {
              return this._backgroundColor;
            },
            set: function set(t) {
              this._backgroundColor = t, this._backgroundColorString = (0, u.hex2string)(t), (0, u.hex2rgb)(t, this._backgroundColorRgba);
            }
          }]), e;
        }(m.default);
      r.default = b;
    }, {
      "../const": 46,
      "../display/Container": 48,
      "../math": 70,
      "../settings": 101,
      "../textures/RenderTexture": 113,
      "../utils": 125,
      eventemitter3: 3
    }],
    77: [function (t, e, r) {
      "use strict";

      function n(t) {
        return t && t.__esModule ? t : {
          default: t
        };
      }
      function i(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      function o(t, e) {
        if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !e || "object" != _typeof(e) && "function" != typeof e ? t : e;
      }
      function s(t, e) {
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + _typeof(e));
        t.prototype = Object.create(e && e.prototype, {
          constructor: {
            value: t,
            enumerable: !1,
            writable: !0,
            configurable: !0
          }
        }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e);
      }
      r.__esModule = !0;
      var a = t("../SystemRenderer"),
        u = n(a),
        h = t("./utils/CanvasMaskManager"),
        l = n(h),
        c = t("./utils/CanvasRenderTarget"),
        d = n(c),
        f = t("./utils/mapCanvasBlendModesToPixi"),
        p = n(f),
        v = t("../../utils"),
        g = t("../../const"),
        y = t("../../settings"),
        m = n(y),
        _ = function (t) {
          function e(r, n, s) {
            i(this, e);
            var a = o(this, t.call(this, "Canvas", r, n, s));
            return a.type = g.RENDERER_TYPE.CANVAS, a.rootContext = a.view.getContext("2d", {
              alpha: a.transparent
            }), a.context = a.rootContext, a.refresh = !0, a.maskManager = new l.default(a), a.smoothProperty = "imageSmoothingEnabled", a.rootContext.imageSmoothingEnabled || (a.rootContext.webkitImageSmoothingEnabled ? a.smoothProperty = "webkitImageSmoothingEnabled" : a.rootContext.mozImageSmoothingEnabled ? a.smoothProperty = "mozImageSmoothingEnabled" : a.rootContext.oImageSmoothingEnabled ? a.smoothProperty = "oImageSmoothingEnabled" : a.rootContext.msImageSmoothingEnabled && (a.smoothProperty = "msImageSmoothingEnabled")), a.initPlugins(), a.blendModes = (0, p.default)(), a._activeBlendMode = null, a.renderingToScreen = !1, a.resize(a.options.width, a.options.height), a;
          }
          return s(e, t), e.prototype.render = function (t, e, r, n, i) {
            if (this.view) {
              this.renderingToScreen = !e, this.emit("prerender");
              var o = this.resolution;
              e ? (e = e.baseTexture || e, e._canvasRenderTarget || (e._canvasRenderTarget = new d.default(e.width, e.height, e.resolution), e.source = e._canvasRenderTarget.canvas, e.valid = !0), this.context = e._canvasRenderTarget.context, this.resolution = e._canvasRenderTarget.resolution) : this.context = this.rootContext;
              var s = this.context;
              if (e || (this._lastObjectRendered = t), !i) {
                var a = t.parent,
                  u = this._tempDisplayObjectParent.transform.worldTransform;
                n ? (n.copy(u), this._tempDisplayObjectParent.transform._worldID = -1) : u.identity(), t.parent = this._tempDisplayObjectParent, t.updateTransform(), t.parent = a;
              }
              s.save(), s.setTransform(1, 0, 0, 1, 0, 0), s.globalAlpha = 1, this._activeBlendMode = g.BLEND_MODES.NORMAL, s.globalCompositeOperation = this.blendModes[g.BLEND_MODES.NORMAL], navigator.isCocoonJS && this.view.screencanvas && (s.fillStyle = "black", s.clear()), (void 0 !== r ? r : this.clearBeforeRender) && this.renderingToScreen && (this.transparent ? s.clearRect(0, 0, this.width, this.height) : (s.fillStyle = this._backgroundColorString, s.fillRect(0, 0, this.width, this.height)));
              var h = this.context;
              this.context = s, t.renderCanvas(this), this.context = h, s.restore(), this.resolution = o, this.emit("postrender");
            }
          }, e.prototype.clear = function (t) {
            var e = this.context;
            t = t || this._backgroundColorString, !this.transparent && t ? (e.fillStyle = t, e.fillRect(0, 0, this.width, this.height)) : e.clearRect(0, 0, this.width, this.height);
          }, e.prototype.setBlendMode = function (t) {
            this._activeBlendMode !== t && (this._activeBlendMode = t, this.context.globalCompositeOperation = this.blendModes[t]);
          }, e.prototype.destroy = function (e) {
            this.destroyPlugins(), t.prototype.destroy.call(this, e), this.context = null, this.refresh = !0, this.maskManager.destroy(), this.maskManager = null, this.smoothProperty = null;
          }, e.prototype.resize = function (e, r) {
            t.prototype.resize.call(this, e, r), this.smoothProperty && (this.rootContext[this.smoothProperty] = m.default.SCALE_MODE === g.SCALE_MODES.LINEAR);
          }, e.prototype.invalidateBlendMode = function () {
            this._activeBlendMode = this.blendModes.indexOf(this.context.globalCompositeOperation);
          }, e;
        }(u.default);
      r.default = _, v.pluginTarget.mixin(_);
    }, {
      "../../const": 46,
      "../../settings": 101,
      "../../utils": 125,
      "../SystemRenderer": 76,
      "./utils/CanvasMaskManager": 78,
      "./utils/CanvasRenderTarget": 79,
      "./utils/mapCanvasBlendModesToPixi": 81
    }],
    78: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      r.__esModule = !0;
      var i = t("../../../const"),
        o = function () {
          function t(e) {
            n(this, t), this.renderer = e;
          }
          return t.prototype.pushMask = function (t) {
            var e = this.renderer;
            e.context.save();
            var r = t.alpha,
              n = t.transform.worldTransform,
              i = e.resolution;
            e.context.setTransform(n.a * i, n.b * i, n.c * i, n.d * i, n.tx * i, n.ty * i), t._texture || (this.renderGraphicsShape(t), e.context.clip()), t.worldAlpha = r;
          }, t.prototype.renderGraphicsShape = function (t) {
            var e = this.renderer.context,
              r = t.graphicsData.length;
            if (0 !== r) {
              e.beginPath();
              for (var n = 0; n < r; n++) {
                var o = t.graphicsData[n],
                  s = o.shape;
                if (o.type === i.SHAPES.POLY) {
                  var a = s.points,
                    u = o.holes,
                    h = void 0,
                    l = void 0;
                  e.moveTo(a[0], a[1]);
                  for (var c = 2; c < a.length; c += 2) e.lineTo(a[c], a[c + 1]);
                  if (a[0] === a[a.length - 2] && a[1] === a[a.length - 1] && e.closePath(), u.length > 0) {
                    h = 0;
                    for (var d = 0; d < a.length; d += 2) h += a[d] * a[d + 3] - a[d + 1] * a[d + 2];
                    for (var f = 0; f < u.length; f++) {
                      a = u[f].points, l = 0;
                      for (var p = 0; p < a.length; p += 2) l += a[p] * a[p + 3] - a[p + 1] * a[p + 2];
                      if (e.moveTo(a[0], a[1]), l * h < 0) for (var v = 2; v < a.length; v += 2) e.lineTo(a[v], a[v + 1]);else for (var g = a.length - 2; g >= 2; g -= 2) e.lineTo(a[g], a[g + 1]);
                    }
                  }
                } else if (o.type === i.SHAPES.RECT) e.rect(s.x, s.y, s.width, s.height), e.closePath();else if (o.type === i.SHAPES.CIRC) e.arc(s.x, s.y, s.radius, 0, 2 * Math.PI), e.closePath();else if (o.type === i.SHAPES.ELIP) {
                  var y = 2 * s.width,
                    m = 2 * s.height,
                    _ = s.x - y / 2,
                    b = s.y - m / 2,
                    x = y / 2 * .5522848,
                    T = m / 2 * .5522848,
                    w = _ + y,
                    E = b + m,
                    S = _ + y / 2,
                    O = b + m / 2;
                  e.moveTo(_, O), e.bezierCurveTo(_, O - T, S - x, b, S, b), e.bezierCurveTo(S + x, b, w, O - T, w, O), e.bezierCurveTo(w, O + T, S + x, E, S, E), e.bezierCurveTo(S - x, E, _, O + T, _, O), e.closePath();
                } else if (o.type === i.SHAPES.RREC) {
                  var M = s.x,
                    P = s.y,
                    C = s.width,
                    R = s.height,
                    A = s.radius,
                    I = Math.min(C, R) / 2 | 0;
                  A = A > I ? I : A, e.moveTo(M, P + A), e.lineTo(M, P + R - A), e.quadraticCurveTo(M, P + R, M + A, P + R), e.lineTo(M + C - A, P + R), e.quadraticCurveTo(M + C, P + R, M + C, P + R - A), e.lineTo(M + C, P + A), e.quadraticCurveTo(M + C, P, M + C - A, P), e.lineTo(M + A, P), e.quadraticCurveTo(M, P, M, P + A), e.closePath();
                }
              }
            }
          }, t.prototype.popMask = function (t) {
            t.context.restore(), t.invalidateBlendMode();
          }, t.prototype.destroy = function () {}, t;
        }();
      r.default = o;
    }, {
      "../../../const": 46
    }],
    79: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      r.__esModule = !0;
      var i = function () {
          function t(t, e) {
            for (var r = 0; r < e.length; r++) {
              var n = e[r];
              n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n);
            }
          }
          return function (e, r, n) {
            return r && t(e.prototype, r), n && t(e, n), e;
          };
        }(),
        o = t("../../../settings"),
        s = function (t) {
          return t && t.__esModule ? t : {
            default: t
          };
        }(o),
        a = function () {
          function t(e, r, i) {
            n(this, t), this.canvas = document.createElement("canvas"), this.context = this.canvas.getContext("2d"), this.resolution = i || s.default.RESOLUTION, this.resize(e, r);
          }
          return t.prototype.clear = function () {
            this.context.setTransform(1, 0, 0, 1, 0, 0), this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);
          }, t.prototype.resize = function (t, e) {
            this.canvas.width = t * this.resolution, this.canvas.height = e * this.resolution;
          }, t.prototype.destroy = function () {
            this.context = null, this.canvas = null;
          }, i(t, [{
            key: "width",
            get: function get() {
              return this.canvas.width;
            },
            set: function set(t) {
              this.canvas.width = t;
            }
          }, {
            key: "height",
            get: function get() {
              return this.canvas.height;
            },
            set: function set(t) {
              this.canvas.height = t;
            }
          }]), t;
        }();
      r.default = a;
    }, {
      "../../../settings": 101
    }],
    80: [function (t, e, r) {
      "use strict";

      function n(t) {
        var e = document.createElement("canvas");
        e.width = 6, e.height = 1;
        var r = e.getContext("2d");
        return r.fillStyle = t, r.fillRect(0, 0, 6, 1), e;
      }
      function i() {
        if ("undefined" == typeof document) return !1;
        var t = n("#ff00ff"),
          e = n("#ffff00"),
          r = document.createElement("canvas");
        r.width = 6, r.height = 1;
        var i = r.getContext("2d");
        i.globalCompositeOperation = "multiply", i.drawImage(t, 0, 0), i.drawImage(e, 2, 0);
        var o = i.getImageData(2, 0, 1, 1);
        if (!o) return !1;
        var s = o.data;
        return 255 === s[0] && 0 === s[1] && 0 === s[2];
      }
      r.__esModule = !0, r.default = i;
    }, {}],
    81: [function (t, e, r) {
      "use strict";

      function n() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
        return (0, s.default)() ? (t[i.BLEND_MODES.NORMAL] = "source-over", t[i.BLEND_MODES.ADD] = "lighter", t[i.BLEND_MODES.MULTIPLY] = "multiply", t[i.BLEND_MODES.SCREEN] = "screen", t[i.BLEND_MODES.OVERLAY] = "overlay", t[i.BLEND_MODES.DARKEN] = "darken", t[i.BLEND_MODES.LIGHTEN] = "lighten", t[i.BLEND_MODES.COLOR_DODGE] = "color-dodge", t[i.BLEND_MODES.COLOR_BURN] = "color-burn", t[i.BLEND_MODES.HARD_LIGHT] = "hard-light", t[i.BLEND_MODES.SOFT_LIGHT] = "soft-light", t[i.BLEND_MODES.DIFFERENCE] = "difference", t[i.BLEND_MODES.EXCLUSION] = "exclusion", t[i.BLEND_MODES.HUE] = "hue", t[i.BLEND_MODES.SATURATION] = "saturate", t[i.BLEND_MODES.COLOR] = "color", t[i.BLEND_MODES.LUMINOSITY] = "luminosity") : (t[i.BLEND_MODES.NORMAL] = "source-over", t[i.BLEND_MODES.ADD] = "lighter", t[i.BLEND_MODES.MULTIPLY] = "source-over", t[i.BLEND_MODES.SCREEN] = "source-over", t[i.BLEND_MODES.OVERLAY] = "source-over", t[i.BLEND_MODES.DARKEN] = "source-over", t[i.BLEND_MODES.LIGHTEN] = "source-over", t[i.BLEND_MODES.COLOR_DODGE] = "source-over", t[i.BLEND_MODES.COLOR_BURN] = "source-over", t[i.BLEND_MODES.HARD_LIGHT] = "source-over", t[i.BLEND_MODES.SOFT_LIGHT] = "source-over", t[i.BLEND_MODES.DIFFERENCE] = "source-over", t[i.BLEND_MODES.EXCLUSION] = "source-over", t[i.BLEND_MODES.HUE] = "source-over", t[i.BLEND_MODES.SATURATION] = "source-over", t[i.BLEND_MODES.COLOR] = "source-over", t[i.BLEND_MODES.LUMINOSITY] = "source-over"), t[i.BLEND_MODES.NORMAL_NPM] = t[i.BLEND_MODES.NORMAL], t[i.BLEND_MODES.ADD_NPM] = t[i.BLEND_MODES.ADD], t[i.BLEND_MODES.SCREEN_NPM] = t[i.BLEND_MODES.SCREEN], t;
      }
      r.__esModule = !0, r.default = n;
      var i = t("../../../const"),
        o = t("./canUseNewCanvasBlendModes"),
        s = function (t) {
          return t && t.__esModule ? t : {
            default: t
          };
        }(o);
    }, {
      "../../../const": 46,
      "./canUseNewCanvasBlendModes": 80
    }],
    82: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      r.__esModule = !0;
      var i = t("../../const"),
        o = t("../../settings"),
        s = function (t) {
          return t && t.__esModule ? t : {
            default: t
          };
        }(o),
        a = function () {
          function t(e) {
            n(this, t), this.renderer = e, this.count = 0, this.checkCount = 0, this.maxIdle = s.default.GC_MAX_IDLE, this.checkCountMax = s.default.GC_MAX_CHECK_COUNT, this.mode = s.default.GC_MODE;
          }
          return t.prototype.update = function () {
            this.count++, this.mode !== i.GC_MODES.MANUAL && ++this.checkCount > this.checkCountMax && (this.checkCount = 0, this.run());
          }, t.prototype.run = function () {
            for (var t = this.renderer.textureManager, e = t._managedTextures, r = !1, n = 0; n < e.length; n++) {
              var i = e[n];
              !i._glRenderTargets && this.count - i.touched > this.maxIdle && (t.destroyTexture(i, !0), e[n] = null, r = !0);
            }
            if (r) {
              for (var o = 0, s = 0; s < e.length; s++) null !== e[s] && (e[o++] = e[s]);
              e.length = o;
            }
          }, t.prototype.unload = function (t) {
            var e = this.renderer.textureManager;
            t._texture && t._texture._glRenderTargets && e.destroyTexture(t._texture, !0);
            for (var r = t.children.length - 1; r >= 0; r--) this.unload(t.children[r]);
          }, t;
        }();
      r.default = a;
    }, {
      "../../const": 46,
      "../../settings": 101
    }],
    83: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      r.__esModule = !0;
      var i = t("pixi-gl-core"),
        o = t("../../const"),
        s = t("./utils/RenderTarget"),
        a = function (t) {
          return t && t.__esModule ? t : {
            default: t
          };
        }(s),
        u = t("../../utils"),
        h = function () {
          function t(e) {
            n(this, t), this.renderer = e, this.gl = e.gl, this._managedTextures = [];
          }
          return t.prototype.bindTexture = function () {}, t.prototype.getTexture = function () {}, t.prototype.updateTexture = function (t, e) {
            var r = this.gl,
              n = !!t._glRenderTargets;
            if (!t.hasLoaded) return null;
            var s = this.renderer.boundTextures;
            if (void 0 === e) {
              e = 0;
              for (var u = 0; u < s.length; ++u) if (s[u] === t) {
                e = u;
                break;
              }
            }
            s[e] = t, r.activeTexture(r.TEXTURE0 + e);
            var h = t._glTextures[this.renderer.CONTEXT_UID];
            if (h) n ? t._glRenderTargets[this.renderer.CONTEXT_UID].resize(t.width, t.height) : h.upload(t.source);else {
              if (n) {
                var l = new a.default(this.gl, t.width, t.height, t.scaleMode, t.resolution);
                l.resize(t.width, t.height), t._glRenderTargets[this.renderer.CONTEXT_UID] = l, h = l.texture, this.renderer._activeRenderTarget.root || this.renderer._activeRenderTarget.frameBuffer.bind();
              } else h = new i.GLTexture(this.gl, null, null, null, null), h.bind(e), h.premultiplyAlpha = !0, h.upload(t.source);
              t._glTextures[this.renderer.CONTEXT_UID] = h, t.on("update", this.updateTexture, this), t.on("dispose", this.destroyTexture, this), this._managedTextures.push(t), t.isPowerOfTwo ? (t.mipmap && h.enableMipmap(), t.wrapMode === o.WRAP_MODES.CLAMP ? h.enableWrapClamp() : t.wrapMode === o.WRAP_MODES.REPEAT ? h.enableWrapRepeat() : h.enableWrapMirrorRepeat()) : h.enableWrapClamp(), t.scaleMode === o.SCALE_MODES.NEAREST ? h.enableNearestScaling() : h.enableLinearScaling();
            }
            return h;
          }, t.prototype.destroyTexture = function (t, e) {
            if (t = t.baseTexture || t, t.hasLoaded) {
              var r = this.renderer,
                n = r.CONTEXT_UID,
                i = t._glTextures,
                o = t._glRenderTargets;
              if (i[n] && (r.unbindTexture(t), i[n].destroy(), t.off("update", this.updateTexture, this), t.off("dispose", this.destroyTexture, this), delete i[n], !e)) {
                var s = this._managedTextures.indexOf(t);
                -1 !== s && (0, u.removeItems)(this._managedTextures, s, 1);
              }
              o && o[n] && (r._activeRenderTarget === o[n] && r.bindRenderTarget(r.rootRenderTarget), o[n].destroy(), delete o[n]);
            }
          }, t.prototype.removeAll = function () {
            for (var t = 0; t < this._managedTextures.length; ++t) {
              var e = this._managedTextures[t];
              e._glTextures[this.renderer.CONTEXT_UID] && delete e._glTextures[this.renderer.CONTEXT_UID];
            }
          }, t.prototype.destroy = function () {
            for (var t = 0; t < this._managedTextures.length; ++t) {
              var e = this._managedTextures[t];
              this.destroyTexture(e, !0), e.off("update", this.updateTexture, this), e.off("dispose", this.destroyTexture, this);
            }
            this._managedTextures = null;
          }, t;
        }();
      r.default = h;
    }, {
      "../../const": 46,
      "../../utils": 125,
      "./utils/RenderTarget": 96,
      "pixi-gl-core": 15
    }],
    84: [function (t, e, r) {
      "use strict";

      function n(t) {
        return t && t.__esModule ? t : {
          default: t
        };
      }
      function i(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      function o(t, e) {
        if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !e || "object" != _typeof(e) && "function" != typeof e ? t : e;
      }
      function s(t, e) {
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + _typeof(e));
        t.prototype = Object.create(e && e.prototype, {
          constructor: {
            value: t,
            enumerable: !1,
            writable: !0,
            configurable: !0
          }
        }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e);
      }
      r.__esModule = !0;
      var a = t("../SystemRenderer"),
        u = n(a),
        h = t("./managers/MaskManager"),
        l = n(h),
        c = t("./managers/StencilManager"),
        d = n(c),
        f = t("./managers/FilterManager"),
        p = n(f),
        v = t("./utils/RenderTarget"),
        g = n(v),
        y = t("./utils/ObjectRenderer"),
        m = n(y),
        _ = t("./TextureManager"),
        b = n(_),
        x = t("../../textures/BaseTexture"),
        T = n(x),
        w = t("./TextureGarbageCollector"),
        E = n(w),
        S = t("./WebGLState"),
        O = n(S),
        M = t("./utils/mapWebGLDrawModesToPixi"),
        P = n(M),
        C = t("./utils/validateContext"),
        R = n(C),
        A = t("../../utils"),
        I = t("pixi-gl-core"),
        D = n(I),
        L = t("../../const"),
        N = 0,
        B = function (t) {
          function e(r, n, s) {
            i(this, e);
            var a = o(this, t.call(this, "WebGL", r, n, s));
            return a.legacy = a.options.legacy, a.legacy && (D.default.VertexArrayObject.FORCE_NATIVE = !0), a.type = L.RENDERER_TYPE.WEBGL, a.handleContextLost = a.handleContextLost.bind(a), a.handleContextRestored = a.handleContextRestored.bind(a), a.view.addEventListener("webglcontextlost", a.handleContextLost, !1), a.view.addEventListener("webglcontextrestored", a.handleContextRestored, !1), a._contextOptions = {
              alpha: a.transparent,
              antialias: a.options.antialias,
              premultipliedAlpha: a.transparent && "notMultiplied" !== a.transparent,
              stencil: !0,
              preserveDrawingBuffer: a.options.preserveDrawingBuffer,
              powerPreference: a.options.powerPreference
            }, a._backgroundColorRgba[3] = a.transparent ? 0 : 1, a.maskManager = new l.default(a), a.stencilManager = new d.default(a), a.emptyRenderer = new m.default(a), a.currentRenderer = a.emptyRenderer, a.textureManager = null, a.filterManager = null, a.initPlugins(), a.options.context && (0, R.default)(a.options.context), a.gl = a.options.context || D.default.createContext(a.view, a._contextOptions), a.CONTEXT_UID = N++, a.state = new O.default(a.gl), a.renderingToScreen = !0, a.boundTextures = null, a._activeShader = null, a._activeVao = null, a._activeRenderTarget = null, a._initContext(), a.drawModes = (0, P.default)(a.gl), a._nextTextureLocation = 0, a.setBlendMode(0), a;
          }
          return s(e, t), e.prototype._initContext = function () {
            var t = this.gl;
            t.isContextLost() && t.getExtension("WEBGL_lose_context") && t.getExtension("WEBGL_lose_context").restoreContext();
            var e = t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);
            this._activeShader = null, this._activeVao = null, this.boundTextures = new Array(e), this.emptyTextures = new Array(e), this._unknownBoundTextures = !1, this.textureManager = new b.default(this), this.filterManager = new p.default(this), this.textureGC = new E.default(this), this.state.resetToDefault(), this.rootRenderTarget = new g.default(t, this.width, this.height, null, this.resolution, !0), this.rootRenderTarget.clearColor = this._backgroundColorRgba, this.bindRenderTarget(this.rootRenderTarget);
            var r = new D.default.GLTexture.fromData(t, null, 1, 1),
              n = {
                _glTextures: {}
              };
            n._glTextures[this.CONTEXT_UID] = {};
            for (var i = 0; i < e; i++) {
              var o = new T.default();
              o._glTextures[this.CONTEXT_UID] = r, this.boundTextures[i] = n, this.emptyTextures[i] = o, this.bindTexture(null, i);
            }
            this.emit("context", t), this.resize(this.screen.width, this.screen.height);
          }, e.prototype.render = function (t, e, r, n, i) {
            if (this.renderingToScreen = !e, this.emit("prerender"), this.gl && !this.gl.isContextLost()) {
              if (this._nextTextureLocation = 0, e || (this._lastObjectRendered = t), !i) {
                var o = t.parent;
                t.parent = this._tempDisplayObjectParent, t.updateTransform(), t.parent = o;
              }
              this.bindRenderTexture(e, n), this.currentRenderer.start(), (void 0 !== r ? r : this.clearBeforeRender) && this._activeRenderTarget.clear(), t.renderWebGL(this), this.currentRenderer.flush(), this.textureGC.update(), this.emit("postrender");
            }
          }, e.prototype.setObjectRenderer = function (t) {
            this.currentRenderer !== t && (this.currentRenderer.stop(), this.currentRenderer = t, this.currentRenderer.start());
          }, e.prototype.flush = function () {
            this.setObjectRenderer(this.emptyRenderer);
          }, e.prototype.resize = function (t, e) {
            u.default.prototype.resize.call(this, t, e), this.rootRenderTarget.resize(t, e), this._activeRenderTarget === this.rootRenderTarget && (this.rootRenderTarget.activate(), this._activeShader && (this._activeShader.uniforms.projectionMatrix = this.rootRenderTarget.projectionMatrix.toArray(!0)));
          }, e.prototype.setBlendMode = function (t) {
            this.state.setBlendMode(t);
          }, e.prototype.clear = function (t) {
            this._activeRenderTarget.clear(t);
          }, e.prototype.setTransform = function (t) {
            this._activeRenderTarget.transform = t;
          }, e.prototype.clearRenderTexture = function (t, e) {
            var r = t.baseTexture,
              n = r._glRenderTargets[this.CONTEXT_UID];
            return n && n.clear(e), this;
          }, e.prototype.bindRenderTexture = function (t, e) {
            var r = void 0;
            if (t) {
              var n = t.baseTexture;
              n._glRenderTargets[this.CONTEXT_UID] || this.textureManager.updateTexture(n, 0), this.unbindTexture(n), r = n._glRenderTargets[this.CONTEXT_UID], r.setFrame(t.frame);
            } else r = this.rootRenderTarget;
            return r.transform = e, this.bindRenderTarget(r), this;
          }, e.prototype.bindRenderTarget = function (t) {
            return t !== this._activeRenderTarget && (this._activeRenderTarget = t, t.activate(), this._activeShader && (this._activeShader.uniforms.projectionMatrix = t.projectionMatrix.toArray(!0)), this.stencilManager.setMaskStack(t.stencilMaskStack)), this;
          }, e.prototype.bindShader = function (t, e) {
            return this._activeShader !== t && (this._activeShader = t, t.bind(), !1 !== e && (t.uniforms.projectionMatrix = this._activeRenderTarget.projectionMatrix.toArray(!0))), this;
          }, e.prototype.bindTexture = function (t, e, r) {
            if (t = t || this.emptyTextures[e], t = t.baseTexture || t, t.touched = this.textureGC.count, r) e = e || 0;else {
              for (var n = 0; n < this.boundTextures.length; n++) if (this.boundTextures[n] === t) return n;
              void 0 === e && (this._nextTextureLocation++, this._nextTextureLocation %= this.boundTextures.length, e = this.boundTextures.length - this._nextTextureLocation - 1);
            }
            var i = this.gl,
              o = t._glTextures[this.CONTEXT_UID];
            return o ? (this.boundTextures[e] = t, i.activeTexture(i.TEXTURE0 + e), i.bindTexture(i.TEXTURE_2D, o.texture)) : this.textureManager.updateTexture(t, e), e;
          }, e.prototype.unbindTexture = function (t) {
            var e = this.gl;
            if (t = t.baseTexture || t, this._unknownBoundTextures) {
              this._unknownBoundTextures = !1;
              for (var r = 0; r < this.boundTextures.length; r++) this.boundTextures[r] === this.emptyTextures[r] && (e.activeTexture(e.TEXTURE0 + r), e.bindTexture(e.TEXTURE_2D, this.emptyTextures[r]._glTextures[this.CONTEXT_UID].texture));
            }
            for (var n = 0; n < this.boundTextures.length; n++) this.boundTextures[n] === t && (this.boundTextures[n] = this.emptyTextures[n], e.activeTexture(e.TEXTURE0 + n), e.bindTexture(e.TEXTURE_2D, this.emptyTextures[n]._glTextures[this.CONTEXT_UID].texture));
            return this;
          }, e.prototype.createVao = function () {
            return new D.default.VertexArrayObject(this.gl, this.state.attribState);
          }, e.prototype.bindVao = function (t) {
            return this._activeVao === t ? this : (t ? t.bind() : this._activeVao && this._activeVao.unbind(), this._activeVao = t, this);
          }, e.prototype.reset = function () {
            this.setObjectRenderer(this.emptyRenderer), this.bindVao(null), this._activeShader = null, this._activeRenderTarget = this.rootRenderTarget, this._unknownBoundTextures = !0;
            for (var t = 0; t < this.boundTextures.length; t++) this.boundTextures[t] = this.emptyTextures[t];
            return this.rootRenderTarget.activate(), this.state.resetToDefault(), this;
          }, e.prototype.handleContextLost = function (t) {
            t.preventDefault();
          }, e.prototype.handleContextRestored = function () {
            this.textureManager.removeAll(), this.filterManager.destroy(!0), this._initContext();
          }, e.prototype.destroy = function (e) {
            this.destroyPlugins(), this.view.removeEventListener("webglcontextlost", this.handleContextLost), this.view.removeEventListener("webglcontextrestored", this.handleContextRestored), this.textureManager.destroy(), t.prototype.destroy.call(this, e), this.uid = 0, this.maskManager.destroy(), this.stencilManager.destroy(), this.filterManager.destroy(), this.maskManager = null, this.filterManager = null, this.textureManager = null, this.currentRenderer = null, this.handleContextLost = null, this.handleContextRestored = null, this._contextOptions = null, this.gl.useProgram(null), this.gl.getExtension("WEBGL_lose_context") && this.gl.getExtension("WEBGL_lose_context").loseContext(), this.gl = null;
          }, e;
        }(u.default);
      r.default = B, A.pluginTarget.mixin(B);
    }, {
      "../../const": 46,
      "../../textures/BaseTexture": 112,
      "../../utils": 125,
      "../SystemRenderer": 76,
      "./TextureGarbageCollector": 82,
      "./TextureManager": 83,
      "./WebGLState": 85,
      "./managers/FilterManager": 90,
      "./managers/MaskManager": 91,
      "./managers/StencilManager": 92,
      "./utils/ObjectRenderer": 94,
      "./utils/RenderTarget": 96,
      "./utils/mapWebGLDrawModesToPixi": 99,
      "./utils/validateContext": 100,
      "pixi-gl-core": 15
    }],
    85: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      r.__esModule = !0;
      var i = t("./utils/mapWebGLBlendModesToPixi"),
        o = function (t) {
          return t && t.__esModule ? t : {
            default: t
          };
        }(i),
        s = function () {
          function t(e) {
            n(this, t), this.activeState = new Uint8Array(16), this.defaultState = new Uint8Array(16), this.defaultState[0] = 1, this.stackIndex = 0, this.stack = [], this.gl = e, this.maxAttribs = e.getParameter(e.MAX_VERTEX_ATTRIBS), this.attribState = {
              tempAttribState: new Array(this.maxAttribs),
              attribState: new Array(this.maxAttribs)
            }, this.blendModes = (0, o.default)(e), this.nativeVaoExtension = e.getExtension("OES_vertex_array_object") || e.getExtension("MOZ_OES_vertex_array_object") || e.getExtension("WEBKIT_OES_vertex_array_object");
          }
          return t.prototype.push = function () {
            var t = this.stack[this.stackIndex];
            t || (t = this.stack[this.stackIndex] = new Uint8Array(16)), ++this.stackIndex;
            for (var e = 0; e < this.activeState.length; e++) t[e] = this.activeState[e];
          }, t.prototype.pop = function () {
            var t = this.stack[--this.stackIndex];
            this.setState(t);
          }, t.prototype.setState = function (t) {
            this.setBlend(t[0]), this.setDepthTest(t[1]), this.setFrontFace(t[2]), this.setCullFace(t[3]), this.setBlendMode(t[4]);
          }, t.prototype.setBlend = function (t) {
            t = t ? 1 : 0, this.activeState[0] !== t && (this.activeState[0] = t, this.gl[t ? "enable" : "disable"](this.gl.BLEND));
          }, t.prototype.setBlendMode = function (t) {
            if (t !== this.activeState[4]) {
              this.activeState[4] = t;
              var e = this.blendModes[t];
              2 === e.length ? this.gl.blendFunc(e[0], e[1]) : this.gl.blendFuncSeparate(e[0], e[1], e[2], e[3]);
            }
          }, t.prototype.setDepthTest = function (t) {
            t = t ? 1 : 0, this.activeState[1] !== t && (this.activeState[1] = t, this.gl[t ? "enable" : "disable"](this.gl.DEPTH_TEST));
          }, t.prototype.setCullFace = function (t) {
            t = t ? 1 : 0, this.activeState[3] !== t && (this.activeState[3] = t, this.gl[t ? "enable" : "disable"](this.gl.CULL_FACE));
          }, t.prototype.setFrontFace = function (t) {
            t = t ? 1 : 0, this.activeState[2] !== t && (this.activeState[2] = t, this.gl.frontFace(this.gl[t ? "CW" : "CCW"]));
          }, t.prototype.resetAttributes = function () {
            for (var t = 0; t < this.attribState.tempAttribState.length; t++) this.attribState.tempAttribState[t] = 0;
            for (var e = 0; e < this.attribState.attribState.length; e++) this.attribState.attribState[e] = 0;
            for (var r = 1; r < this.maxAttribs; r++) this.gl.disableVertexAttribArray(r);
          }, t.prototype.resetToDefault = function () {
            this.nativeVaoExtension && this.nativeVaoExtension.bindVertexArrayOES(null), this.resetAttributes();
            for (var t = 0; t < this.activeState.length; ++t) this.activeState[t] = 32;
            this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL, !1), this.setState(this.defaultState);
          }, t;
        }();
      r.default = s;
    }, {
      "./utils/mapWebGLBlendModesToPixi": 98
    }],
    86: [function (t, e, r) {
      "use strict";

      function n(t) {
        return t && t.__esModule ? t : {
          default: t
        };
      }
      function i(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      r.__esModule = !0;
      var o = function () {
          function t(t, e) {
            for (var r = 0; r < e.length; r++) {
              var n = e[r];
              n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n);
            }
          }
          return function (e, r, n) {
            return r && t(e.prototype, r), n && t(e, n), e;
          };
        }(),
        s = t("./extractUniformsFromSrc"),
        a = n(s),
        u = t("../../../utils"),
        h = t("../../../const"),
        l = t("../../../settings"),
        c = n(l),
        d = {},
        f = function () {
          function t(e, r, n) {
            i(this, t), this.vertexSrc = e || t.defaultVertexSrc, this.fragmentSrc = r || t.defaultFragmentSrc, this._blendMode = h.BLEND_MODES.NORMAL, this.uniformData = n || (0, a.default)(this.vertexSrc, this.fragmentSrc, "projectionMatrix|uSampler"), this.uniforms = {};
            for (var o in this.uniformData) this.uniforms[o] = this.uniformData[o].value, this.uniformData[o].type && (this.uniformData[o].type = this.uniformData[o].type.toLowerCase());
            this.glShaders = {}, d[this.vertexSrc + this.fragmentSrc] || (d[this.vertexSrc + this.fragmentSrc] = (0, u.uid)()), this.glShaderKey = d[this.vertexSrc + this.fragmentSrc], this.padding = 4, this.resolution = c.default.FILTER_RESOLUTION, this.enabled = !0, this.autoFit = !0;
          }
          return t.prototype.apply = function (t, e, r, n, i) {
            t.applyFilter(this, e, r, n);
          }, o(t, [{
            key: "blendMode",
            get: function get() {
              return this._blendMode;
            },
            set: function set(t) {
              this._blendMode = t;
            }
          }], [{
            key: "defaultVertexSrc",
            get: function get() {
              return ["attribute vec2 aVertexPosition;", "attribute vec2 aTextureCoord;", "uniform mat3 projectionMatrix;", "uniform mat3 filterMatrix;", "varying vec2 vTextureCoord;", "varying vec2 vFilterCoord;", "void main(void){", "   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);", "   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;", "   vTextureCoord = aTextureCoord ;", "}"].join("\n");
            }
          }, {
            key: "defaultFragmentSrc",
            get: function get() {
              return ["varying vec2 vTextureCoord;", "varying vec2 vFilterCoord;", "uniform sampler2D uSampler;", "uniform sampler2D filterSampler;", "void main(void){", "   vec4 masky = texture2D(filterSampler, vFilterCoord);", "   vec4 sample = texture2D(uSampler, vTextureCoord);", "   vec4 color;", "   if(mod(vFilterCoord.x, 1.0) > 0.5)", "   {", "     color = vec4(1.0, 0.0, 0.0, 1.0);", "   }", "   else", "   {", "     color = vec4(0.0, 1.0, 0.0, 1.0);", "   }", "   gl_FragColor = mix(sample, masky, 0.5);", "   gl_FragColor *= sample.a;", "}"].join("\n");
            }
          }]), t;
        }();
      r.default = f;
    }, {
      "../../../const": 46,
      "../../../settings": 101,
      "../../../utils": 125,
      "./extractUniformsFromSrc": 87
    }],
    87: [function (t, e, r) {
      "use strict";

      function n(t, e, r) {
        var n = i(t),
          o = i(e);
        return Object.assign(n, o);
      }
      function i(t) {
        for (var e = new RegExp("^(projectionMatrix|uSampler|filterArea|filterClamp)$"), r = {}, n = void 0, i = t.replace(/\s+/g, " ").split(/\s*;\s*/), o = 0; o < i.length; o++) {
          var s = i[o].trim();
          if (s.indexOf("uniform") > -1) {
            var u = s.split(" "),
              h = u[1],
              l = u[2],
              c = 1;
            l.indexOf("[") > -1 && (n = l.split(/\[|]/), l = n[0], c *= Number(n[1])), l.match(e) || (r[l] = {
              value: a(h, c),
              name: l,
              type: h
            });
          }
        }
        return r;
      }
      r.__esModule = !0, r.default = n;
      var o = t("pixi-gl-core"),
        s = function (t) {
          return t && t.__esModule ? t : {
            default: t
          };
        }(o),
        a = s.default.shader.defaultValue;
    }, {
      "pixi-gl-core": 15
    }],
    88: [function (t, e, r) {
      "use strict";

      function n(t, e, r) {
        var n = t.identity();
        return n.translate(e.x / r.width, e.y / r.height), n.scale(r.width, r.height), n;
      }
      function i(t, e, r) {
        var n = t.identity();
        n.translate(e.x / r.width, e.y / r.height);
        var i = r.width / e.width,
          o = r.height / e.height;
        return n.scale(i, o), n;
      }
      function o(t, e, r, n) {
        var i = n._texture.orig,
          o = t.set(r.width, 0, 0, r.height, e.x, e.y),
          a = n.worldTransform.copy(s.Matrix.TEMP_MATRIX);
        return a.invert(), o.prepend(a), o.scale(1 / i.width, 1 / i.height), o.translate(n.anchor.x, n.anchor.y), o;
      }
      r.__esModule = !0, r.calculateScreenSpaceMatrix = n, r.calculateNormalizedScreenSpaceMatrix = i, r.calculateSpriteMatrix = o;
      var s = t("../../../math");
    }, {
      "../../../math": 70
    }],
    89: [function (t, e, r) {
      "use strict";

      function n(t) {
        return t && t.__esModule ? t : {
          default: t
        };
      }
      function i(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      function o(t, e) {
        if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !e || "object" != _typeof(e) && "function" != typeof e ? t : e;
      }
      function s(t, e) {
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + _typeof(e));
        t.prototype = Object.create(e && e.prototype, {
          constructor: {
            value: t,
            enumerable: !1,
            writable: !0,
            configurable: !0
          }
        }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e);
      }
      r.__esModule = !0;
      var a = t("../Filter"),
        u = n(a),
        h = t("../../../../math"),
        l = (t("path"), t("../../../../textures/TextureMatrix")),
        c = n(l),
        d = function (t) {
          function e(r) {
            i(this, e);
            var n = new h.Matrix(),
              s = o(this, t.call(this, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n", "varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n"));
            return r.renderable = !1, s.maskSprite = r, s.maskMatrix = n, s;
          }
          return s(e, t), e.prototype.apply = function (t, e, r, n) {
            var i = this.maskSprite,
              o = this.maskSprite.texture;
            o.valid && (o.transform || (o.transform = new c.default(o, 0)), o.transform.update(), this.uniforms.mask = o, this.uniforms.otherMatrix = t.calculateSpriteMatrix(this.maskMatrix, i).prepend(o.transform.mapCoord), this.uniforms.alpha = i.worldAlpha, this.uniforms.maskClamp = o.transform.uClampFrame, t.applyFilter(this, e, r, n));
          }, e;
        }(u.default);
      r.default = d;
    }, {
      "../../../../math": 70,
      "../../../../textures/TextureMatrix": 116,
      "../Filter": 86,
      path: 8
    }],
    90: [function (t, e, r) {
      "use strict";

      function n(t) {
        return t && t.__esModule ? t : {
          default: t
        };
      }
      function i(t, e) {
        if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !e || "object" != _typeof(e) && "function" != typeof e ? t : e;
      }
      function o(t, e) {
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + _typeof(e));
        t.prototype = Object.create(e && e.prototype, {
          constructor: {
            value: t,
            enumerable: !1,
            writable: !0,
            configurable: !0
          }
        }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e);
      }
      function s(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      r.__esModule = !0;
      var a = t("./WebGLManager"),
        u = n(a),
        h = t("../utils/RenderTarget"),
        l = n(h),
        c = t("../utils/Quad"),
        d = n(c),
        f = t("../../../math"),
        p = t("../../../Shader"),
        v = n(p),
        g = t("../filters/filterTransforms"),
        y = function (t) {
          if (t && t.__esModule) return t;
          var e = {};
          if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
          return e.default = t, e;
        }(g),
        m = t("bit-twiddle"),
        _ = n(m),
        b = function () {
          function t() {
            s(this, t), this.renderTarget = null, this.target = null, this.resolution = 1, this.sourceFrame = new f.Rectangle(), this.destinationFrame = new f.Rectangle(), this.filters = [];
          }
          return t.prototype.clear = function () {
            this.filters = null, this.target = null, this.renderTarget = null;
          }, t;
        }(),
        x = function (t) {
          function e(r) {
            s(this, e);
            var n = i(this, t.call(this, r));
            return n.gl = n.renderer.gl, n.quad = new d.default(n.gl, r.state.attribState), n.shaderCache = {}, n.pool = {}, n.filterData = null, n.managedFilters = [], n.renderer.on("prerender", n.onPrerender, n), n._screenWidth = r.view.width, n._screenHeight = r.view.height, n;
          }
          return o(e, t), e.prototype.pushFilter = function (t, e) {
            var r = this.renderer,
              n = this.filterData;
            if (!n) {
              n = this.renderer._activeRenderTarget.filterStack;
              var i = new b();
              i.sourceFrame = i.destinationFrame = this.renderer._activeRenderTarget.size, i.renderTarget = r._activeRenderTarget, this.renderer._activeRenderTarget.filterData = n = {
                index: 0,
                stack: [i]
              }, this.filterData = n;
            }
            var o = n.stack[++n.index],
              s = n.stack[0].destinationFrame;
            o || (o = n.stack[n.index] = new b());
            var a = t.filterArea && 0 === t.filterArea.x && 0 === t.filterArea.y && t.filterArea.width === r.screen.width && t.filterArea.height === r.screen.height,
              u = e[0].resolution,
              h = 0 | e[0].padding,
              l = a ? r.screen : t.filterArea || t.getBounds(!0),
              c = o.sourceFrame,
              d = o.destinationFrame;
            c.x = (l.x * u | 0) / u, c.y = (l.y * u | 0) / u, c.width = (l.width * u | 0) / u, c.height = (l.height * u | 0) / u, a || (n.stack[0].renderTarget.transform || e[0].autoFit && c.fit(s), c.pad(h)), d.width = c.width, d.height = c.height;
            var f = this.getPotRenderTarget(r.gl, c.width, c.height, u);
            o.target = t, o.filters = e, o.resolution = u, o.renderTarget = f, f.setFrame(d, c), r.bindRenderTarget(f), f.clear();
          }, e.prototype.popFilter = function () {
            var t = this.filterData,
              e = t.stack[t.index - 1],
              r = t.stack[t.index];
            this.quad.map(r.renderTarget.size, r.sourceFrame).upload();
            var n = r.filters;
            if (1 === n.length) n[0].apply(this, r.renderTarget, e.renderTarget, !1, r), this.freePotRenderTarget(r.renderTarget);else {
              var i = r.renderTarget,
                o = this.getPotRenderTarget(this.renderer.gl, r.sourceFrame.width, r.sourceFrame.height, r.resolution);
              o.setFrame(r.destinationFrame, r.sourceFrame), o.clear();
              var s = 0;
              for (s = 0; s < n.length - 1; ++s) {
                n[s].apply(this, i, o, !0, r);
                var a = i;
                i = o, o = a;
              }
              n[s].apply(this, i, e.renderTarget, !1, r), this.freePotRenderTarget(i), this.freePotRenderTarget(o);
            }
            r.clear(), 0 === --t.index && (this.filterData = null);
          }, e.prototype.applyFilter = function (t, e, r, n) {
            var i = this.renderer,
              o = i.gl,
              s = t.glShaders[i.CONTEXT_UID];
            s || (t.glShaderKey ? (s = this.shaderCache[t.glShaderKey]) || (s = new v.default(this.gl, t.vertexSrc, t.fragmentSrc), t.glShaders[i.CONTEXT_UID] = this.shaderCache[t.glShaderKey] = s, this.managedFilters.push(t)) : (s = t.glShaders[i.CONTEXT_UID] = new v.default(this.gl, t.vertexSrc, t.fragmentSrc), this.managedFilters.push(t)), i.bindVao(null), this.quad.initVao(s)), i.bindVao(this.quad.vao), i.bindRenderTarget(r), n && (o.disable(o.SCISSOR_TEST), i.clear(), o.enable(o.SCISSOR_TEST)), r === i.maskManager.scissorRenderTarget && i.maskManager.pushScissorMask(null, i.maskManager.scissorData), i.bindShader(s);
            var a = this.renderer.emptyTextures[0];
            this.renderer.boundTextures[0] = a, this.syncUniforms(s, t), i.state.setBlendMode(t.blendMode), o.activeTexture(o.TEXTURE0), o.bindTexture(o.TEXTURE_2D, e.texture.texture), this.quad.vao.draw(this.renderer.gl.TRIANGLES, 6, 0), o.bindTexture(o.TEXTURE_2D, a._glTextures[this.renderer.CONTEXT_UID].texture);
          }, e.prototype.syncUniforms = function (t, e) {
            var r = e.uniformData,
              n = e.uniforms,
              i = 1,
              o = void 0;
            if (t.uniforms.filterArea) {
              o = this.filterData.stack[this.filterData.index];
              var s = t.uniforms.filterArea;
              s[0] = o.renderTarget.size.width, s[1] = o.renderTarget.size.height, s[2] = o.sourceFrame.x, s[3] = o.sourceFrame.y, t.uniforms.filterArea = s;
            }
            if (t.uniforms.filterClamp) {
              o = o || this.filterData.stack[this.filterData.index];
              var a = t.uniforms.filterClamp;
              a[0] = 0, a[1] = 0, a[2] = (o.sourceFrame.width - 1) / o.renderTarget.size.width, a[3] = (o.sourceFrame.height - 1) / o.renderTarget.size.height, t.uniforms.filterClamp = a;
            }
            for (var u in r) if (t.uniforms.data[u]) {
              var h = r[u].type;
              if ("sampler2d" === h && 0 !== n[u]) {
                if (n[u].baseTexture) t.uniforms[u] = this.renderer.bindTexture(n[u].baseTexture, i);else {
                  t.uniforms[u] = i;
                  var l = this.renderer.gl;
                  this.renderer.boundTextures[i] = this.renderer.emptyTextures[i], l.activeTexture(l.TEXTURE0 + i), n[u].texture.bind();
                }
                i++;
              } else if ("mat3" === h) void 0 !== n[u].a ? t.uniforms[u] = n[u].toArray(!0) : t.uniforms[u] = n[u];else if ("vec2" === h) {
                if (void 0 !== n[u].x) {
                  var c = t.uniforms[u] || new Float32Array(2);
                  c[0] = n[u].x, c[1] = n[u].y, t.uniforms[u] = c;
                } else t.uniforms[u] = n[u];
              } else "float" === h ? t.uniforms.data[u].value !== r[u] && (t.uniforms[u] = n[u]) : t.uniforms[u] = n[u];
            }
          }, e.prototype.getRenderTarget = function (t, e) {
            var r = this.filterData.stack[this.filterData.index],
              n = this.getPotRenderTarget(this.renderer.gl, r.sourceFrame.width, r.sourceFrame.height, e || r.resolution);
            return n.setFrame(r.destinationFrame, r.sourceFrame), n;
          }, e.prototype.returnRenderTarget = function (t) {
            this.freePotRenderTarget(t);
          }, e.prototype.calculateScreenSpaceMatrix = function (t) {
            var e = this.filterData.stack[this.filterData.index];
            return y.calculateScreenSpaceMatrix(t, e.sourceFrame, e.renderTarget.size);
          }, e.prototype.calculateNormalizedScreenSpaceMatrix = function (t) {
            var e = this.filterData.stack[this.filterData.index];
            return y.calculateNormalizedScreenSpaceMatrix(t, e.sourceFrame, e.renderTarget.size, e.destinationFrame);
          }, e.prototype.calculateSpriteMatrix = function (t, e) {
            var r = this.filterData.stack[this.filterData.index];
            return y.calculateSpriteMatrix(t, r.sourceFrame, r.renderTarget.size, e);
          }, e.prototype.destroy = function () {
            var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0],
              e = this.renderer,
              r = this.managedFilters;
            e.off("prerender", this.onPrerender, this);
            for (var n = 0; n < r.length; n++) t || r[n].glShaders[e.CONTEXT_UID].destroy(), delete r[n].glShaders[e.CONTEXT_UID];
            this.shaderCache = {}, t ? this.pool = {} : this.emptyPool();
          }, e.prototype.getPotRenderTarget = function (t, e, r, n) {
            var i = "screen";
            e *= n, r *= n, e === this._screenWidth && r === this._screenHeight || (e = _.default.nextPow2(e), r = _.default.nextPow2(r), i = (65535 & e) << 16 | 65535 & r), this.pool[i] || (this.pool[i] = []);
            var o = this.pool[i].pop();
            if (!o) {
              var s = this.renderer.boundTextures[0];
              t.activeTexture(t.TEXTURE0), o = new l.default(t, e, r, null, 1), t.bindTexture(t.TEXTURE_2D, s._glTextures[this.renderer.CONTEXT_UID].texture);
            }
            return o.resolution = n, o.defaultFrame.width = o.size.width = e / n, o.defaultFrame.height = o.size.height = r / n, o.filterPoolKey = i, o;
          }, e.prototype.emptyPool = function () {
            for (var t in this.pool) {
              var e = this.pool[t];
              if (e) for (var r = 0; r < e.length; r++) e[r].destroy(!0);
            }
            this.pool = {};
          }, e.prototype.freePotRenderTarget = function (t) {
            this.pool[t.filterPoolKey].push(t);
          }, e.prototype.onPrerender = function () {
            if (this._screenWidth !== this.renderer.view.width || this._screenHeight !== this.renderer.view.height) {
              this._screenWidth = this.renderer.view.width, this._screenHeight = this.renderer.view.height;
              var t = this.pool.screen;
              if (t) for (var e = 0; e < t.length; e++) t[e].destroy(!0);
              this.pool.screen = [];
            }
          }, e;
        }(u.default);
      r.default = x;
    }, {
      "../../../Shader": 44,
      "../../../math": 70,
      "../filters/filterTransforms": 88,
      "../utils/Quad": 95,
      "../utils/RenderTarget": 96,
      "./WebGLManager": 93,
      "bit-twiddle": 1
    }],
    91: [function (t, e, r) {
      "use strict";

      function n(t) {
        return t && t.__esModule ? t : {
          default: t
        };
      }
      function i(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      function o(t, e) {
        if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !e || "object" != _typeof(e) && "function" != typeof e ? t : e;
      }
      function s(t, e) {
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + _typeof(e));
        t.prototype = Object.create(e && e.prototype, {
          constructor: {
            value: t,
            enumerable: !1,
            writable: !0,
            configurable: !0
          }
        }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e);
      }
      r.__esModule = !0;
      var a = t("./WebGLManager"),
        u = n(a),
        h = t("../filters/spriteMask/SpriteMaskFilter"),
        l = n(h),
        c = function (t) {
          function e(r) {
            i(this, e);
            var n = o(this, t.call(this, r));
            return n.scissor = !1, n.scissorData = null, n.scissorRenderTarget = null, n.enableScissor = !0, n.alphaMaskPool = [], n.alphaMaskIndex = 0, n;
          }
          return s(e, t), e.prototype.pushMask = function (t, e) {
            if (e.texture) this.pushSpriteMask(t, e);else if (this.enableScissor && !this.scissor && this.renderer._activeRenderTarget.root && !this.renderer.stencilManager.stencilMaskStack.length && e.isFastRect()) {
              var r = e.worldTransform,
                n = Math.atan2(r.b, r.a);
              n = Math.round(n * (180 / Math.PI)), n % 90 ? this.pushStencilMask(e) : this.pushScissorMask(t, e);
            } else this.pushStencilMask(e);
          }, e.prototype.popMask = function (t, e) {
            e.texture ? this.popSpriteMask(t, e) : this.enableScissor && !this.renderer.stencilManager.stencilMaskStack.length ? this.popScissorMask(t, e) : this.popStencilMask(t, e);
          }, e.prototype.pushSpriteMask = function (t, e) {
            var r = this.alphaMaskPool[this.alphaMaskIndex];
            r || (r = this.alphaMaskPool[this.alphaMaskIndex] = [new l.default(e)]), r[0].resolution = this.renderer.resolution, r[0].maskSprite = e;
            var n = t.filterArea;
            t.filterArea = e.getBounds(!0), this.renderer.filterManager.pushFilter(t, r), t.filterArea = n, this.alphaMaskIndex++;
          }, e.prototype.popSpriteMask = function () {
            this.renderer.filterManager.popFilter(), this.alphaMaskIndex--;
          }, e.prototype.pushStencilMask = function (t) {
            this.renderer.currentRenderer.stop(), this.renderer.stencilManager.pushStencil(t);
          }, e.prototype.popStencilMask = function () {
            this.renderer.currentRenderer.stop(), this.renderer.stencilManager.popStencil();
          }, e.prototype.pushScissorMask = function (t, e) {
            e.renderable = !0;
            var r = this.renderer._activeRenderTarget,
              n = e.getBounds();
            n.fit(r.size), e.renderable = !1, this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);
            var i = this.renderer.resolution;
            this.renderer.gl.scissor(n.x * i, (r.root ? r.size.height - n.y - n.height : n.y) * i, n.width * i, n.height * i), this.scissorRenderTarget = r, this.scissorData = e, this.scissor = !0;
          }, e.prototype.popScissorMask = function () {
            this.scissorRenderTarget = null, this.scissorData = null, this.scissor = !1;
            var t = this.renderer.gl;
            t.disable(t.SCISSOR_TEST);
          }, e;
        }(u.default);
      r.default = c;
    }, {
      "../filters/spriteMask/SpriteMaskFilter": 89,
      "./WebGLManager": 93
    }],
    92: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      function i(t, e) {
        if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !e || "object" != _typeof(e) && "function" != typeof e ? t : e;
      }
      function o(t, e) {
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + _typeof(e));
        t.prototype = Object.create(e && e.prototype, {
          constructor: {
            value: t,
            enumerable: !1,
            writable: !0,
            configurable: !0
          }
        }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e);
      }
      r.__esModule = !0;
      var s = t("./WebGLManager"),
        a = function (t) {
          return t && t.__esModule ? t : {
            default: t
          };
        }(s),
        u = function (t) {
          function e(r) {
            n(this, e);
            var o = i(this, t.call(this, r));
            return o.stencilMaskStack = null, o;
          }
          return o(e, t), e.prototype.setMaskStack = function (t) {
            this.stencilMaskStack = t;
            var e = this.renderer.gl;
            0 === t.length ? e.disable(e.STENCIL_TEST) : e.enable(e.STENCIL_TEST);
          }, e.prototype.pushStencil = function (t) {
            this.renderer.setObjectRenderer(this.renderer.plugins.graphics), this.renderer._activeRenderTarget.attachStencilBuffer();
            var e = this.renderer.gl,
              r = this.stencilMaskStack.length;
            0 === r && e.enable(e.STENCIL_TEST), this.stencilMaskStack.push(t), e.colorMask(!1, !1, !1, !1), e.stencilFunc(e.EQUAL, r, this._getBitwiseMask()), e.stencilOp(e.KEEP, e.KEEP, e.INCR), this.renderer.plugins.graphics.render(t), this._useCurrent();
          }, e.prototype.popStencil = function () {
            this.renderer.setObjectRenderer(this.renderer.plugins.graphics);
            var t = this.renderer.gl,
              e = this.stencilMaskStack.pop();
            0 === this.stencilMaskStack.length ? (t.disable(t.STENCIL_TEST), t.clear(t.STENCIL_BUFFER_BIT), t.clearStencil(0)) : (t.colorMask(!1, !1, !1, !1), t.stencilOp(t.KEEP, t.KEEP, t.DECR), this.renderer.plugins.graphics.render(e), this._useCurrent());
          }, e.prototype._useCurrent = function () {
            var t = this.renderer.gl;
            t.colorMask(!0, !0, !0, !0), t.stencilFunc(t.EQUAL, this.stencilMaskStack.length, this._getBitwiseMask()), t.stencilOp(t.KEEP, t.KEEP, t.KEEP);
          }, e.prototype._getBitwiseMask = function () {
            return (1 << this.stencilMaskStack.length) - 1;
          }, e.prototype.destroy = function () {
            a.default.prototype.destroy.call(this), this.stencilMaskStack.stencilStack = null;
          }, e;
        }(a.default);
      r.default = u;
    }, {
      "./WebGLManager": 93
    }],
    93: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      r.__esModule = !0;
      var i = function () {
        function t(e) {
          n(this, t), this.renderer = e, this.renderer.on("context", this.onContextChange, this);
        }
        return t.prototype.onContextChange = function () {}, t.prototype.destroy = function () {
          this.renderer.off("context", this.onContextChange, this), this.renderer = null;
        }, t;
      }();
      r.default = i;
    }, {}],
    94: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      function i(t, e) {
        if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !e || "object" != _typeof(e) && "function" != typeof e ? t : e;
      }
      function o(t, e) {
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + _typeof(e));
        t.prototype = Object.create(e && e.prototype, {
          constructor: {
            value: t,
            enumerable: !1,
            writable: !0,
            configurable: !0
          }
        }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e);
      }
      r.__esModule = !0;
      var s = t("../managers/WebGLManager"),
        a = function (t) {
          return t && t.__esModule ? t : {
            default: t
          };
        }(s),
        u = function (t) {
          function e() {
            return n(this, e), i(this, t.apply(this, arguments));
          }
          return o(e, t), e.prototype.start = function () {}, e.prototype.stop = function () {
            this.flush();
          }, e.prototype.flush = function () {}, e.prototype.render = function (t) {}, e;
        }(a.default);
      r.default = u;
    }, {
      "../managers/WebGLManager": 93
    }],
    95: [function (t, e, r) {
      "use strict";

      function n(t) {
        return t && t.__esModule ? t : {
          default: t
        };
      }
      function i(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      r.__esModule = !0;
      var o = t("pixi-gl-core"),
        s = n(o),
        a = t("../../../utils/createIndicesForQuads"),
        u = n(a),
        h = function () {
          function t(e, r) {
            i(this, t), this.gl = e, this.vertices = new Float32Array([-1, -1, 1, -1, 1, 1, -1, 1]), this.uvs = new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]), this.interleaved = new Float32Array(16);
            for (var n = 0; n < 4; n++) this.interleaved[4 * n] = this.vertices[2 * n], this.interleaved[4 * n + 1] = this.vertices[2 * n + 1], this.interleaved[4 * n + 2] = this.uvs[2 * n], this.interleaved[4 * n + 3] = this.uvs[2 * n + 1];
            this.indices = (0, u.default)(1), this.vertexBuffer = s.default.GLBuffer.createVertexBuffer(e, this.interleaved, e.STATIC_DRAW), this.indexBuffer = s.default.GLBuffer.createIndexBuffer(e, this.indices, e.STATIC_DRAW), this.vao = new s.default.VertexArrayObject(e, r);
          }
          return t.prototype.initVao = function (t) {
            this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer, t.attributes.aVertexPosition, this.gl.FLOAT, !1, 16, 0).addAttribute(this.vertexBuffer, t.attributes.aTextureCoord, this.gl.FLOAT, !1, 16, 8);
          }, t.prototype.map = function (t, e) {
            var r = 0,
              n = 0;
            return this.uvs[0] = r, this.uvs[1] = n, this.uvs[2] = r + e.width / t.width, this.uvs[3] = n, this.uvs[4] = r + e.width / t.width, this.uvs[5] = n + e.height / t.height, this.uvs[6] = r, this.uvs[7] = n + e.height / t.height, r = e.x, n = e.y, this.vertices[0] = r, this.vertices[1] = n, this.vertices[2] = r + e.width, this.vertices[3] = n, this.vertices[4] = r + e.width, this.vertices[5] = n + e.height, this.vertices[6] = r, this.vertices[7] = n + e.height, this;
          }, t.prototype.upload = function () {
            for (var t = 0; t < 4; t++) this.interleaved[4 * t] = this.vertices[2 * t], this.interleaved[4 * t + 1] = this.vertices[2 * t + 1], this.interleaved[4 * t + 2] = this.uvs[2 * t], this.interleaved[4 * t + 3] = this.uvs[2 * t + 1];
            return this.vertexBuffer.upload(this.interleaved), this;
          }, t.prototype.destroy = function () {
            var t = this.gl;
            t.deleteBuffer(this.vertexBuffer), t.deleteBuffer(this.indexBuffer);
          }, t;
        }();
      r.default = h;
    }, {
      "../../../utils/createIndicesForQuads": 123,
      "pixi-gl-core": 15
    }],
    96: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      r.__esModule = !0;
      var i = t("../../../math"),
        o = t("../../../const"),
        s = t("../../../settings"),
        a = function (t) {
          return t && t.__esModule ? t : {
            default: t
          };
        }(s),
        u = t("pixi-gl-core"),
        h = function () {
          function t(e, r, s, h, l, c) {
            n(this, t), this.gl = e, this.frameBuffer = null, this.texture = null, this.clearColor = [0, 0, 0, 0], this.size = new i.Rectangle(0, 0, 1, 1), this.resolution = l || a.default.RESOLUTION, this.projectionMatrix = new i.Matrix(), this.transform = null, this.frame = null, this.defaultFrame = new i.Rectangle(), this.destinationFrame = null, this.sourceFrame = null, this.stencilBuffer = null, this.stencilMaskStack = [], this.filterData = null, this.filterPoolKey = "", this.scaleMode = void 0 !== h ? h : a.default.SCALE_MODE, this.root = c || !1, this.root ? (this.frameBuffer = new u.GLFramebuffer(e, 100, 100), this.frameBuffer.framebuffer = null) : (this.frameBuffer = u.GLFramebuffer.createRGBA(e, 100, 100), this.scaleMode === o.SCALE_MODES.NEAREST ? this.frameBuffer.texture.enableNearestScaling() : this.frameBuffer.texture.enableLinearScaling(), this.texture = this.frameBuffer.texture), this.setFrame(), this.resize(r, s);
          }
          return t.prototype.clear = function (t) {
            var e = t || this.clearColor;
            this.frameBuffer.clear(e[0], e[1], e[2], e[3]);
          }, t.prototype.attachStencilBuffer = function () {
            this.root || this.frameBuffer.enableStencil();
          }, t.prototype.setFrame = function (t, e) {
            this.destinationFrame = t || this.destinationFrame || this.defaultFrame, this.sourceFrame = e || this.sourceFrame || this.destinationFrame;
          }, t.prototype.activate = function () {
            var t = this.gl;
            this.frameBuffer.bind(), this.calculateProjection(this.destinationFrame, this.sourceFrame), this.transform && this.projectionMatrix.append(this.transform), this.destinationFrame !== this.sourceFrame ? (t.enable(t.SCISSOR_TEST), t.scissor(0 | this.destinationFrame.x, 0 | this.destinationFrame.y, this.destinationFrame.width * this.resolution | 0, this.destinationFrame.height * this.resolution | 0)) : t.disable(t.SCISSOR_TEST), t.viewport(0 | this.destinationFrame.x, 0 | this.destinationFrame.y, this.destinationFrame.width * this.resolution | 0, this.destinationFrame.height * this.resolution | 0);
          }, t.prototype.calculateProjection = function (t, e) {
            var r = this.projectionMatrix;
            e = e || t, r.identity(), this.root ? (r.a = 1 / t.width * 2, r.d = -1 / t.height * 2, r.tx = -1 - e.x * r.a, r.ty = 1 - e.y * r.d) : (r.a = 1 / t.width * 2, r.d = 1 / t.height * 2, r.tx = -1 - e.x * r.a, r.ty = -1 - e.y * r.d);
          }, t.prototype.resize = function (t, e) {
            if (t |= 0, e |= 0, this.size.width !== t || this.size.height !== e) {
              this.size.width = t, this.size.height = e, this.defaultFrame.width = t, this.defaultFrame.height = e, this.frameBuffer.resize(t * this.resolution, e * this.resolution);
              var r = this.frame || this.size;
              this.calculateProjection(r);
            }
          }, t.prototype.destroy = function () {
            this.frameBuffer.stencil && this.gl.deleteRenderbuffer(this.frameBuffer.stencil), this.frameBuffer.destroy(), this.frameBuffer = null, this.texture = null;
          }, t;
        }();
      r.default = h;
    }, {
      "../../../const": 46,
      "../../../math": 70,
      "../../../settings": 101,
      "pixi-gl-core": 15
    }],
    97: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        var r = !e;
        if (r) {
          var n = document.createElement("canvas");
          n.width = 1, n.height = 1, e = s.default.createContext(n);
        }
        for (var o = e.createShader(e.FRAGMENT_SHADER);;) {
          var u = a.replace(/%forloop%/gi, i(t));
          if (e.shaderSource(o, u), e.compileShader(o), e.getShaderParameter(o, e.COMPILE_STATUS)) break;
          t = t / 2 | 0;
        }
        return r && e.getExtension("WEBGL_lose_context") && e.getExtension("WEBGL_lose_context").loseContext(), t;
      }
      function i(t) {
        for (var e = "", r = 0; r < t; ++r) r > 0 && (e += "\nelse "), r < t - 1 && (e += "if(test == " + r + ".0){}");
        return e;
      }
      r.__esModule = !0, r.default = n;
      var o = t("pixi-gl-core"),
        s = function (t) {
          return t && t.__esModule ? t : {
            default: t
          };
        }(o),
        a = ["precision mediump float;", "void main(void){", "float test = 0.1;", "%forloop%", "gl_FragColor = vec4(0.0);", "}"].join("\n");
    }, {
      "pixi-gl-core": 15
    }],
    98: [function (t, e, r) {
      "use strict";

      function n(t) {
        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [];
        return e[i.BLEND_MODES.NORMAL] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], e[i.BLEND_MODES.ADD] = [t.ONE, t.DST_ALPHA], e[i.BLEND_MODES.MULTIPLY] = [t.DST_COLOR, t.ONE_MINUS_SRC_ALPHA], e[i.BLEND_MODES.SCREEN] = [t.ONE, t.ONE_MINUS_SRC_COLOR], e[i.BLEND_MODES.OVERLAY] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], e[i.BLEND_MODES.DARKEN] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], e[i.BLEND_MODES.LIGHTEN] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], e[i.BLEND_MODES.COLOR_DODGE] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], e[i.BLEND_MODES.COLOR_BURN] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], e[i.BLEND_MODES.HARD_LIGHT] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], e[i.BLEND_MODES.SOFT_LIGHT] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], e[i.BLEND_MODES.DIFFERENCE] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], e[i.BLEND_MODES.EXCLUSION] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], e[i.BLEND_MODES.HUE] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], e[i.BLEND_MODES.SATURATION] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], e[i.BLEND_MODES.COLOR] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], e[i.BLEND_MODES.LUMINOSITY] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], e[i.BLEND_MODES.NORMAL_NPM] = [t.SRC_ALPHA, t.ONE_MINUS_SRC_ALPHA, t.ONE, t.ONE_MINUS_SRC_ALPHA], e[i.BLEND_MODES.ADD_NPM] = [t.SRC_ALPHA, t.DST_ALPHA, t.ONE, t.DST_ALPHA], e[i.BLEND_MODES.SCREEN_NPM] = [t.SRC_ALPHA, t.ONE_MINUS_SRC_COLOR, t.ONE, t.ONE_MINUS_SRC_COLOR], e;
      }
      r.__esModule = !0, r.default = n;
      var i = t("../../../const");
    }, {
      "../../../const": 46
    }],
    99: [function (t, e, r) {
      "use strict";

      function n(t) {
        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
        return e[i.DRAW_MODES.POINTS] = t.POINTS, e[i.DRAW_MODES.LINES] = t.LINES, e[i.DRAW_MODES.LINE_LOOP] = t.LINE_LOOP, e[i.DRAW_MODES.LINE_STRIP] = t.LINE_STRIP, e[i.DRAW_MODES.TRIANGLES] = t.TRIANGLES, e[i.DRAW_MODES.TRIANGLE_STRIP] = t.TRIANGLE_STRIP, e[i.DRAW_MODES.TRIANGLE_FAN] = t.TRIANGLE_FAN, e;
      }
      r.__esModule = !0, r.default = n;
      var i = t("../../../const");
    }, {
      "../../../const": 46
    }],
    100: [function (t, e, r) {
      "use strict";

      function n(t) {
        t.getContextAttributes().stencil || console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");
      }
      r.__esModule = !0, r.default = n;
    }, {}],
    101: [function (t, e, r) {
      "use strict";

      function n(t) {
        return t && t.__esModule ? t : {
          default: t
        };
      }
      r.__esModule = !0;
      var i = t("./utils/maxRecommendedTextures"),
        o = n(i),
        s = t("./utils/canUploadSameBuffer"),
        a = n(s);
      r.default = {
        TARGET_FPMS: .06,
        MIPMAP_TEXTURES: !0,
        RESOLUTION: 1,
        FILTER_RESOLUTION: 1,
        SPRITE_MAX_TEXTURES: (0, o.default)(32),
        SPRITE_BATCH_SIZE: 4096,
        RETINA_PREFIX: /@([0-9\.]+)x/,
        RENDER_OPTIONS: {
          view: null,
          antialias: !1,
          forceFXAA: !1,
          autoResize: !1,
          transparent: !1,
          backgroundColor: 0,
          clearBeforeRender: !0,
          preserveDrawingBuffer: !1,
          roundPixels: !1,
          width: 800,
          height: 600,
          legacy: !1
        },
        TRANSFORM_MODE: 0,
        GC_MODE: 0,
        GC_MAX_IDLE: 3600,
        GC_MAX_CHECK_COUNT: 600,
        WRAP_MODE: 0,
        SCALE_MODE: 0,
        PRECISION_VERTEX: "highp",
        PRECISION_FRAGMENT: "mediump",
        CAN_UPLOAD_SAME_BUFFER: (0, a.default)(),
        MESH_CANVAS_PADDING: 0
      };
    }, {
      "./utils/canUploadSameBuffer": 122,
      "./utils/maxRecommendedTextures": 127
    }],
    102: [function (t, e, r) {
      "use strict";

      function n(t) {
        return t && t.__esModule ? t : {
          default: t
        };
      }
      function i(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      function o(t, e) {
        if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !e || "object" != _typeof(e) && "function" != typeof e ? t : e;
      }
      function s(t, e) {
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + _typeof(e));
        t.prototype = Object.create(e && e.prototype, {
          constructor: {
            value: t,
            enumerable: !1,
            writable: !0,
            configurable: !0
          }
        }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e);
      }
      r.__esModule = !0;
      var a = function () {
          function t(t, e) {
            for (var r = 0; r < e.length; r++) {
              var n = e[r];
              n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n);
            }
          }
          return function (e, r, n) {
            return r && t(e.prototype, r), n && t(e, n), e;
          };
        }(),
        u = t("../math"),
        h = t("../utils"),
        l = t("../const"),
        c = t("../textures/Texture"),
        d = n(c),
        f = t("../display/Container"),
        p = n(f),
        v = new u.Point(),
        g = function (t) {
          function e(r) {
            i(this, e);
            var n = o(this, t.call(this));
            return n._anchor = new u.ObservablePoint(n._onAnchorUpdate, n, r ? r.defaultAnchor.x : 0, r ? r.defaultAnchor.y : 0), n._texture = null, n._width = 0, n._height = 0, n._tint = null, n._tintRGB = null, n.tint = 16777215, n.blendMode = l.BLEND_MODES.NORMAL, n.shader = null, n.cachedTint = 16777215, n.texture = r || d.default.EMPTY, n.vertexData = new Float32Array(8), n.vertexTrimmedData = null, n._transformID = -1, n._textureID = -1, n._transformTrimmedID = -1, n._textureTrimmedID = -1, n.pluginName = "sprite", n;
          }
          return s(e, t), e.prototype._onTextureUpdate = function () {
            this._textureID = -1, this._textureTrimmedID = -1, this.cachedTint = 16777215, this._width && (this.scale.x = (0, h.sign)(this.scale.x) * this._width / this._texture.orig.width), this._height && (this.scale.y = (0, h.sign)(this.scale.y) * this._height / this._texture.orig.height);
          }, e.prototype._onAnchorUpdate = function () {
            this._transformID = -1, this._transformTrimmedID = -1;
          }, e.prototype.calculateVertices = function () {
            if (this._transformID !== this.transform._worldID || this._textureID !== this._texture._updateID) {
              this._transformID = this.transform._worldID, this._textureID = this._texture._updateID;
              var t = this._texture,
                e = this.transform.worldTransform,
                r = e.a,
                n = e.b,
                i = e.c,
                o = e.d,
                s = e.tx,
                a = e.ty,
                u = this.vertexData,
                h = t.trim,
                l = t.orig,
                c = this._anchor,
                d = 0,
                f = 0,
                p = 0,
                v = 0;
              h ? (f = h.x - c._x * l.width, d = f + h.width, v = h.y - c._y * l.height, p = v + h.height) : (f = -c._x * l.width, d = f + l.width, v = -c._y * l.height, p = v + l.height), u[0] = r * f + i * v + s, u[1] = o * v + n * f + a, u[2] = r * d + i * v + s, u[3] = o * v + n * d + a, u[4] = r * d + i * p + s, u[5] = o * p + n * d + a, u[6] = r * f + i * p + s, u[7] = o * p + n * f + a;
            }
          }, e.prototype.calculateTrimmedVertices = function () {
            if (this.vertexTrimmedData) {
              if (this._transformTrimmedID === this.transform._worldID && this._textureTrimmedID === this._texture._updateID) return;
            } else this.vertexTrimmedData = new Float32Array(8);
            this._transformTrimmedID = this.transform._worldID, this._textureTrimmedID = this._texture._updateID;
            var t = this._texture,
              e = this.vertexTrimmedData,
              r = t.orig,
              n = this._anchor,
              i = this.transform.worldTransform,
              o = i.a,
              s = i.b,
              a = i.c,
              u = i.d,
              h = i.tx,
              l = i.ty,
              c = -n._x * r.width,
              d = c + r.width,
              f = -n._y * r.height,
              p = f + r.height;
            e[0] = o * c + a * f + h, e[1] = u * f + s * c + l, e[2] = o * d + a * f + h, e[3] = u * f + s * d + l, e[4] = o * d + a * p + h, e[5] = u * p + s * d + l, e[6] = o * c + a * p + h, e[7] = u * p + s * c + l;
          }, e.prototype._renderWebGL = function (t) {
            this.calculateVertices(), t.setObjectRenderer(t.plugins[this.pluginName]), t.plugins[this.pluginName].render(this);
          }, e.prototype._renderCanvas = function (t) {
            t.plugins[this.pluginName].render(this);
          }, e.prototype._calculateBounds = function () {
            var t = this._texture.trim,
              e = this._texture.orig;
            !t || t.width === e.width && t.height === e.height ? (this.calculateVertices(), this._bounds.addQuad(this.vertexData)) : (this.calculateTrimmedVertices(), this._bounds.addQuad(this.vertexTrimmedData));
          }, e.prototype.getLocalBounds = function (e) {
            return 0 === this.children.length ? (this._bounds.minX = this._texture.orig.width * -this._anchor._x, this._bounds.minY = this._texture.orig.height * -this._anchor._y, this._bounds.maxX = this._texture.orig.width * (1 - this._anchor._x), this._bounds.maxY = this._texture.orig.height * (1 - this._anchor._y), e || (this._localBoundsRect || (this._localBoundsRect = new u.Rectangle()), e = this._localBoundsRect), this._bounds.getRectangle(e)) : t.prototype.getLocalBounds.call(this, e);
          }, e.prototype.containsPoint = function (t) {
            this.worldTransform.applyInverse(t, v);
            var e = this._texture.orig.width,
              r = this._texture.orig.height,
              n = -e * this.anchor.x,
              i = 0;
            return v.x >= n && v.x < n + e && (i = -r * this.anchor.y, v.y >= i && v.y < i + r);
          }, e.prototype.destroy = function (e) {
            if (t.prototype.destroy.call(this, e), this._texture.off("update", this._onTextureUpdate, this), this._anchor = null, "boolean" == typeof e ? e : e && e.texture) {
              var r = "boolean" == typeof e ? e : e && e.baseTexture;
              this._texture.destroy(!!r);
            }
            this._texture = null, this.shader = null;
          }, e.from = function (t) {
            return new e(d.default.from(t));
          }, e.fromFrame = function (t) {
            var r = h.TextureCache[t];
            if (!r) throw new Error('The frameId "' + t + '" does not exist in the texture cache');
            return new e(r);
          }, e.fromImage = function (t, r, n) {
            return new e(d.default.fromImage(t, r, n));
          }, a(e, [{
            key: "width",
            get: function get() {
              return Math.abs(this.scale.x) * this._texture.orig.width;
            },
            set: function set(t) {
              var e = (0, h.sign)(this.scale.x) || 1;
              this.scale.x = e * t / this._texture.orig.width, this._width = t;
            }
          }, {
            key: "height",
            get: function get() {
              return Math.abs(this.scale.y) * this._texture.orig.height;
            },
            set: function set(t) {
              var e = (0, h.sign)(this.scale.y) || 1;
              this.scale.y = e * t / this._texture.orig.height, this._height = t;
            }
          }, {
            key: "anchor",
            get: function get() {
              return this._anchor;
            },
            set: function set(t) {
              this._anchor.copy(t);
            }
          }, {
            key: "tint",
            get: function get() {
              return this._tint;
            },
            set: function set(t) {
              this._tint = t, this._tintRGB = (t >> 16) + (65280 & t) + ((255 & t) << 16);
            }
          }, {
            key: "texture",
            get: function get() {
              return this._texture;
            },
            set: function set(t) {
              this._texture !== t && (this._texture = t || d.default.EMPTY, this.cachedTint = 16777215, this._textureID = -1, this._textureTrimmedID = -1, t && (t.baseTexture.hasLoaded ? this._onTextureUpdate() : t.once("update", this._onTextureUpdate, this)));
            }
          }]), e;
        }(p.default);
      r.default = g;
    }, {
      "../const": 46,
      "../display/Container": 48,
      "../math": 70,
      "../textures/Texture": 115,
      "../utils": 125
    }],
    103: [function (t, e, r) {
      "use strict";

      function n(t) {
        return t && t.__esModule ? t : {
          default: t
        };
      }
      function i(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      r.__esModule = !0;
      var o = t("../../renderers/canvas/CanvasRenderer"),
        s = n(o),
        a = t("../../const"),
        u = t("../../math"),
        h = t("./CanvasTinter"),
        l = n(h),
        c = new u.Matrix(),
        d = function () {
          function t(e) {
            i(this, t), this.renderer = e;
          }
          return t.prototype.render = function (t) {
            var e = t._texture,
              r = this.renderer,
              n = e._frame.width,
              i = e._frame.height,
              o = t.transform.worldTransform,
              s = 0,
              h = 0;
            if (!(e.orig.width <= 0 || e.orig.height <= 0) && e.baseTexture.source && (r.setBlendMode(t.blendMode), e.valid)) {
              r.context.globalAlpha = t.worldAlpha;
              var d = e.baseTexture.scaleMode === a.SCALE_MODES.LINEAR;
              r.smoothProperty && r.context[r.smoothProperty] !== d && (r.context[r.smoothProperty] = d), e.trim ? (s = e.trim.width / 2 + e.trim.x - t.anchor.x * e.orig.width, h = e.trim.height / 2 + e.trim.y - t.anchor.y * e.orig.height) : (s = (.5 - t.anchor.x) * e.orig.width, h = (.5 - t.anchor.y) * e.orig.height), e.rotate && (o.copy(c), o = c, u.GroupD8.matrixAppendRotationInv(o, e.rotate, s, h), s = 0, h = 0), s -= n / 2, h -= i / 2, r.roundPixels ? (r.context.setTransform(o.a, o.b, o.c, o.d, o.tx * r.resolution | 0, o.ty * r.resolution | 0), s |= 0, h |= 0) : r.context.setTransform(o.a, o.b, o.c, o.d, o.tx * r.resolution, o.ty * r.resolution);
              var f = e.baseTexture.resolution;
              16777215 !== t.tint ? (t.cachedTint === t.tint && t.tintedTexture.tintId === t._texture._updateID || (t.cachedTint = t.tint, t.tintedTexture = l.default.getTintedTexture(t, t.tint)), r.context.drawImage(t.tintedTexture, 0, 0, n * f, i * f, s * r.resolution, h * r.resolution, n * r.resolution, i * r.resolution)) : r.context.drawImage(e.baseTexture.source, e._frame.x * f, e._frame.y * f, n * f, i * f, s * r.resolution, h * r.resolution, n * r.resolution, i * r.resolution);
            }
          }, t.prototype.destroy = function () {
            this.renderer = null;
          }, t;
        }();
      r.default = d, s.default.registerPlugin("sprite", d);
    }, {
      "../../const": 46,
      "../../math": 70,
      "../../renderers/canvas/CanvasRenderer": 77,
      "./CanvasTinter": 104
    }],
    104: [function (t, e, r) {
      "use strict";

      r.__esModule = !0;
      var n = t("../../utils"),
        i = t("../../renderers/canvas/utils/canUseNewCanvasBlendModes"),
        o = function (t) {
          return t && t.__esModule ? t : {
            default: t
          };
        }(i),
        s = {
          getTintedTexture: function getTintedTexture(t, e) {
            var r = t._texture;
            e = s.roundColor(e);
            var n = "#" + ("00000" + (0 | e).toString(16)).substr(-6);
            r.tintCache = r.tintCache || {};
            var i = r.tintCache[n],
              o = void 0;
            if (i) {
              if (i.tintId === r._updateID) return r.tintCache[n];
              o = r.tintCache[n];
            } else o = s.canvas || document.createElement("canvas");
            if (s.tintMethod(r, e, o), o.tintId = r._updateID, s.convertTintToImage) {
              var a = new Image();
              a.src = o.toDataURL(), r.tintCache[n] = a;
            } else r.tintCache[n] = o, s.canvas = null;
            return o;
          },
          tintWithMultiply: function tintWithMultiply(t, e, r) {
            var n = r.getContext("2d"),
              i = t._frame.clone(),
              o = t.baseTexture.resolution;
            i.x *= o, i.y *= o, i.width *= o, i.height *= o, r.width = Math.ceil(i.width), r.height = Math.ceil(i.height), n.save(), n.fillStyle = "#" + ("00000" + (0 | e).toString(16)).substr(-6), n.fillRect(0, 0, i.width, i.height), n.globalCompositeOperation = "multiply", n.drawImage(t.baseTexture.source, i.x, i.y, i.width, i.height, 0, 0, i.width, i.height), n.globalCompositeOperation = "destination-atop", n.drawImage(t.baseTexture.source, i.x, i.y, i.width, i.height, 0, 0, i.width, i.height), n.restore();
          },
          tintWithOverlay: function tintWithOverlay(t, e, r) {
            var n = r.getContext("2d"),
              i = t._frame.clone(),
              o = t.baseTexture.resolution;
            i.x *= o, i.y *= o, i.width *= o, i.height *= o, r.width = Math.ceil(i.width), r.height = Math.ceil(i.height), n.save(), n.globalCompositeOperation = "copy", n.fillStyle = "#" + ("00000" + (0 | e).toString(16)).substr(-6), n.fillRect(0, 0, i.width, i.height), n.globalCompositeOperation = "destination-atop", n.drawImage(t.baseTexture.source, i.x, i.y, i.width, i.height, 0, 0, i.width, i.height), n.restore();
          },
          tintWithPerPixel: function tintWithPerPixel(t, e, r) {
            var i = r.getContext("2d"),
              o = t._frame.clone(),
              s = t.baseTexture.resolution;
            o.x *= s, o.y *= s, o.width *= s, o.height *= s, r.width = Math.ceil(o.width), r.height = Math.ceil(o.height), i.save(), i.globalCompositeOperation = "copy", i.drawImage(t.baseTexture.source, o.x, o.y, o.width, o.height, 0, 0, o.width, o.height), i.restore();
            for (var a = (0, n.hex2rgb)(e), u = a[0], h = a[1], l = a[2], c = i.getImageData(0, 0, o.width, o.height), d = c.data, f = 0; f < d.length; f += 4) d[f + 0] *= u, d[f + 1] *= h, d[f + 2] *= l;
            i.putImageData(c, 0, 0);
          },
          roundColor: function roundColor(t) {
            var e = s.cacheStepsPerColorChannel,
              r = (0, n.hex2rgb)(t);
            return r[0] = Math.min(255, r[0] / e * e), r[1] = Math.min(255, r[1] / e * e), r[2] = Math.min(255, r[2] / e * e), (0, n.rgb2hex)(r);
          },
          cacheStepsPerColorChannel: 8,
          convertTintToImage: !1,
          canUseMultiply: (0, o.default)(),
          tintMethod: 0
        };
      s.tintMethod = s.canUseMultiply ? s.tintWithMultiply : s.tintWithPerPixel, r.default = s;
    }, {
      "../../renderers/canvas/utils/canUseNewCanvasBlendModes": 80,
      "../../utils": 125
    }],
    105: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      r.__esModule = !0;
      var i = function () {
        function t(e) {
          n(this, t), this.vertices = new ArrayBuffer(e), this.float32View = new Float32Array(this.vertices), this.uint32View = new Uint32Array(this.vertices);
        }
        return t.prototype.destroy = function () {
          this.vertices = null, this.positions = null, this.uvs = null, this.colors = null;
        }, t;
      }();
      r.default = i;
    }, {}],
    106: [function (t, e, r) {
      "use strict";

      function n(t) {
        return t && t.__esModule ? t : {
          default: t
        };
      }
      function i(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      function o(t, e) {
        if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !e || "object" != _typeof(e) && "function" != typeof e ? t : e;
      }
      function s(t, e) {
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + _typeof(e));
        t.prototype = Object.create(e && e.prototype, {
          constructor: {
            value: t,
            enumerable: !1,
            writable: !0,
            configurable: !0
          }
        }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e);
      }
      r.__esModule = !0;
      var a = t("../../renderers/webgl/utils/ObjectRenderer"),
        u = n(a),
        h = t("../../renderers/webgl/WebGLRenderer"),
        l = n(h),
        c = t("../../utils/createIndicesForQuads"),
        d = n(c),
        f = t("./generateMultiTextureShader"),
        p = n(f),
        v = t("../../renderers/webgl/utils/checkMaxIfStatmentsInShader"),
        g = n(v),
        y = t("./BatchBuffer"),
        m = n(y),
        _ = t("../../settings"),
        b = n(_),
        x = t("../../utils"),
        T = t("pixi-gl-core"),
        w = n(T),
        E = t("bit-twiddle"),
        S = n(E),
        O = 0,
        M = 0,
        P = function (t) {
          function e(r) {
            i(this, e);
            var n = o(this, t.call(this, r));
            n.vertSize = 5, n.vertByteSize = 4 * n.vertSize, n.size = b.default.SPRITE_BATCH_SIZE, n.buffers = [];
            for (var s = 1; s <= S.default.nextPow2(n.size); s *= 2) n.buffers.push(new m.default(4 * s * n.vertByteSize));
            n.indices = (0, d.default)(n.size), n.shader = null, n.currentIndex = 0, n.groups = [];
            for (var a = 0; a < n.size; a++) n.groups[a] = {
              textures: [],
              textureCount: 0,
              ids: [],
              size: 0,
              start: 0,
              blend: 0
            };
            return n.sprites = [], n.vertexBuffers = [], n.vaos = [], n.vaoMax = 2, n.vertexCount = 0, n.renderer.on("prerender", n.onPrerender, n), n;
          }
          return s(e, t), e.prototype.onContextChange = function () {
            var t = this.renderer.gl;
            this.renderer.legacy ? this.MAX_TEXTURES = 1 : (this.MAX_TEXTURES = Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS), b.default.SPRITE_MAX_TEXTURES), this.MAX_TEXTURES = (0, g.default)(this.MAX_TEXTURES, t)), this.shader = (0, p.default)(t, this.MAX_TEXTURES), this.indexBuffer = w.default.GLBuffer.createIndexBuffer(t, this.indices, t.STATIC_DRAW), this.renderer.bindVao(null);
            for (var e = this.shader.attributes, r = 0; r < this.vaoMax; r++) {
              var n = this.vertexBuffers[r] = w.default.GLBuffer.createVertexBuffer(t, null, t.STREAM_DRAW),
                i = this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(n, e.aVertexPosition, t.FLOAT, !1, this.vertByteSize, 0).addAttribute(n, e.aTextureCoord, t.UNSIGNED_SHORT, !0, this.vertByteSize, 8).addAttribute(n, e.aColor, t.UNSIGNED_BYTE, !0, this.vertByteSize, 12);
              e.aTextureId && i.addAttribute(n, e.aTextureId, t.FLOAT, !1, this.vertByteSize, 16), this.vaos[r] = i;
            }
            this.vao = this.vaos[0], this.currentBlendMode = 99999, this.boundTextures = new Array(this.MAX_TEXTURES);
          }, e.prototype.onPrerender = function () {
            this.vertexCount = 0;
          }, e.prototype.render = function (t) {
            this.currentIndex >= this.size && this.flush(), t._texture._uvs && (this.sprites[this.currentIndex++] = t);
          }, e.prototype.flush = function () {
            if (0 !== this.currentIndex) {
              var t = this.renderer.gl,
                e = this.MAX_TEXTURES,
                r = S.default.nextPow2(this.currentIndex),
                n = S.default.log2(r),
                i = this.buffers[n],
                o = this.sprites,
                s = this.groups,
                a = i.float32View,
                u = i.uint32View,
                h = this.boundTextures,
                l = this.renderer.boundTextures,
                c = this.renderer.textureGC.count,
                d = 0,
                f = void 0,
                p = void 0,
                v = 1,
                g = 0,
                y = s[0],
                m = void 0,
                _ = void 0,
                T = x.premultiplyBlendMode[o[0]._texture.baseTexture.premultipliedAlpha ? 1 : 0][o[0].blendMode];
              y.textureCount = 0, y.start = 0, y.blend = T, O++;
              var E = void 0;
              for (E = 0; E < e; ++E) {
                var P = l[E];
                P._enabled !== O ? (h[E] = P, P._virtalBoundId = E, P._enabled = O) : h[E] = this.renderer.emptyTextures[E];
              }
              for (O++, E = 0; E < this.currentIndex; ++E) {
                var C = o[E];
                o[E] = null, f = C._texture.baseTexture;
                var R = x.premultiplyBlendMode[Number(f.premultipliedAlpha)][C.blendMode];
                if (T !== R && (T = R, p = null, g = e, O++), p !== f && (p = f, f._enabled !== O)) {
                  if (g === e && (O++, y.size = E - y.start, g = 0, y = s[v++], y.blend = T, y.textureCount = 0, y.start = E), f.touched = c, -1 === f._virtalBoundId) for (var A = 0; A < e; ++A) {
                    var I = (A + M) % e,
                      D = h[I];
                    if (D._enabled !== O) {
                      M++, D._virtalBoundId = -1, f._virtalBoundId = I, h[I] = f;
                      break;
                    }
                  }
                  f._enabled = O, y.textureCount++, y.ids[g] = f._virtalBoundId, y.textures[g++] = f;
                }
                if (m = C.vertexData, _ = C._texture._uvs.uvsUint32, this.renderer.roundPixels) {
                  var L = this.renderer.resolution;
                  a[d] = (m[0] * L | 0) / L, a[d + 1] = (m[1] * L | 0) / L, a[d + 5] = (m[2] * L | 0) / L, a[d + 6] = (m[3] * L | 0) / L, a[d + 10] = (m[4] * L | 0) / L, a[d + 11] = (m[5] * L | 0) / L, a[d + 15] = (m[6] * L | 0) / L, a[d + 16] = (m[7] * L | 0) / L;
                } else a[d] = m[0], a[d + 1] = m[1], a[d + 5] = m[2], a[d + 6] = m[3], a[d + 10] = m[4], a[d + 11] = m[5], a[d + 15] = m[6], a[d + 16] = m[7];
                u[d + 2] = _[0], u[d + 7] = _[1], u[d + 12] = _[2], u[d + 17] = _[3];
                var N = Math.min(C.worldAlpha, 1),
                  B = N < 1 && f.premultipliedAlpha ? (0, x.premultiplyTint)(C._tintRGB, N) : C._tintRGB + (255 * N << 24);
                u[d + 3] = u[d + 8] = u[d + 13] = u[d + 18] = B, a[d + 4] = a[d + 9] = a[d + 14] = a[d + 19] = f._virtalBoundId, d += 20;
              }
              if (y.size = E - y.start, b.default.CAN_UPLOAD_SAME_BUFFER) this.vertexBuffers[this.vertexCount].upload(i.vertices, 0, !0);else {
                if (this.vaoMax <= this.vertexCount) {
                  this.vaoMax++;
                  var k = this.shader.attributes,
                    F = this.vertexBuffers[this.vertexCount] = w.default.GLBuffer.createVertexBuffer(t, null, t.STREAM_DRAW),
                    j = this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(F, k.aVertexPosition, t.FLOAT, !1, this.vertByteSize, 0).addAttribute(F, k.aTextureCoord, t.UNSIGNED_SHORT, !0, this.vertByteSize, 8).addAttribute(F, k.aColor, t.UNSIGNED_BYTE, !0, this.vertByteSize, 12);
                  k.aTextureId && j.addAttribute(F, k.aTextureId, t.FLOAT, !1, this.vertByteSize, 16), this.vaos[this.vertexCount] = j;
                }
                this.renderer.bindVao(this.vaos[this.vertexCount]), this.vertexBuffers[this.vertexCount].upload(i.vertices, 0, !1), this.vertexCount++;
              }
              for (E = 0; E < e; ++E) l[E]._virtalBoundId = -1;
              for (E = 0; E < v; ++E) {
                for (var U = s[E], X = U.textureCount, G = 0; G < X; G++) p = U.textures[G], l[U.ids[G]] !== p && this.renderer.bindTexture(p, U.ids[G], !0), p._virtalBoundId = -1;
                this.renderer.state.setBlendMode(U.blend), t.drawElements(t.TRIANGLES, 6 * U.size, t.UNSIGNED_SHORT, 6 * U.start * 2);
              }
              this.currentIndex = 0;
            }
          }, e.prototype.start = function () {
            this.renderer.bindShader(this.shader), b.default.CAN_UPLOAD_SAME_BUFFER && (this.renderer.bindVao(this.vaos[this.vertexCount]), this.vertexBuffers[this.vertexCount].bind());
          }, e.prototype.stop = function () {
            this.flush();
          }, e.prototype.destroy = function () {
            for (var e = 0; e < this.vaoMax; e++) this.vertexBuffers[e] && this.vertexBuffers[e].destroy(), this.vaos[e] && this.vaos[e].destroy();
            this.indexBuffer && this.indexBuffer.destroy(), this.renderer.off("prerender", this.onPrerender, this), t.prototype.destroy.call(this), this.shader && (this.shader.destroy(), this.shader = null), this.vertexBuffers = null, this.vaos = null, this.indexBuffer = null, this.indices = null, this.sprites = null;
            for (var r = 0; r < this.buffers.length; ++r) this.buffers[r].destroy();
          }, e;
        }(u.default);
      r.default = P, l.default.registerPlugin("sprite", P);
    }, {
      "../../renderers/webgl/WebGLRenderer": 84,
      "../../renderers/webgl/utils/ObjectRenderer": 94,
      "../../renderers/webgl/utils/checkMaxIfStatmentsInShader": 97,
      "../../settings": 101,
      "../../utils": 125,
      "../../utils/createIndicesForQuads": 123,
      "./BatchBuffer": 105,
      "./generateMultiTextureShader": 107,
      "bit-twiddle": 1,
      "pixi-gl-core": 15
    }],
    107: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        var r = a;
        r = r.replace(/%count%/gi, e), r = r.replace(/%forloop%/gi, i(e));
        for (var n = new s.default(t, "precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor;\n}\n", r), o = [], u = 0; u < e; u++) o[u] = u;
        return n.bind(), n.uniforms.uSamplers = o, n;
      }
      function i(t) {
        var e = "";
        e += "\n", e += "\n";
        for (var r = 0; r < t; r++) r > 0 && (e += "\nelse "), r < t - 1 && (e += "if(vTextureId < " + r + ".5)"), e += "\n{", e += "\n\tcolor = texture2D(uSamplers[" + r + "], vTextureCoord);", e += "\n}";
        return e += "\n", e += "\n";
      }
      r.__esModule = !0, r.default = n;
      var o = t("../../Shader"),
        s = function (t) {
          return t && t.__esModule ? t : {
            default: t
          };
        }(o),
        a = (t("path"), ["varying vec2 vTextureCoord;", "varying vec4 vColor;", "varying float vTextureId;", "uniform sampler2D uSamplers[%count%];", "void main(void){", "vec4 color;", "%forloop%", "gl_FragColor = color * vColor;", "}"].join("\n"));
    }, {
      "../../Shader": 44,
      path: 8
    }],
    108: [function (t, e, r) {
      "use strict";

      function n(t) {
        return t && t.__esModule ? t : {
          default: t
        };
      }
      function i(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      function o(t, e) {
        if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !e || "object" != _typeof(e) && "function" != typeof e ? t : e;
      }
      function s(t, e) {
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + _typeof(e));
        t.prototype = Object.create(e && e.prototype, {
          constructor: {
            value: t,
            enumerable: !1,
            writable: !0,
            configurable: !0
          }
        }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e);
      }
      r.__esModule = !0;
      var a = function () {
          function t(t, e) {
            for (var r = 0; r < e.length; r++) {
              var n = e[r];
              n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n);
            }
          }
          return function (e, r, n) {
            return r && t(e.prototype, r), n && t(e, n), e;
          };
        }(),
        u = t("../sprites/Sprite"),
        h = n(u),
        l = t("../textures/Texture"),
        c = n(l),
        d = t("../math"),
        f = t("../utils"),
        p = t("../const"),
        v = t("../settings"),
        g = n(v),
        y = t("./TextStyle"),
        m = n(y),
        _ = t("./TextMetrics"),
        b = n(_),
        x = t("../utils/trimCanvas"),
        T = n(x),
        w = {
          texture: !0,
          children: !1,
          baseTexture: !0
        },
        E = function (t) {
          function e(r, n, s) {
            i(this, e), s = s || document.createElement("canvas"), s.width = 3, s.height = 3;
            var a = c.default.fromCanvas(s, g.default.SCALE_MODE, "text");
            a.orig = new d.Rectangle(), a.trim = new d.Rectangle();
            var u = o(this, t.call(this, a));
            return c.default.addToCache(u._texture, u._texture.baseTexture.textureCacheIds[0]), u.canvas = s, u.context = u.canvas.getContext("2d"), u.resolution = g.default.RESOLUTION, u._text = null, u._style = null, u._styleListener = null, u._font = "", u.text = r, u.style = n, u.localStyleID = -1, u;
          }
          return s(e, t), e.prototype.updateText = function (t) {
            var e = this._style;
            if (this.localStyleID !== e.styleID && (this.dirty = !0, this.localStyleID = e.styleID), this.dirty || !t) {
              this._font = this._style.toFontString();
              var r = this.context,
                n = b.default.measureText(this._text, this._style, this._style.wordWrap, this.canvas),
                i = n.width,
                o = n.height,
                s = n.lines,
                a = n.lineHeight,
                u = n.lineWidths,
                h = n.maxLineWidth,
                l = n.fontProperties;
              this.canvas.width = Math.ceil((Math.max(1, i) + 2 * e.padding) * this.resolution), this.canvas.height = Math.ceil((Math.max(1, o) + 2 * e.padding) * this.resolution), r.scale(this.resolution, this.resolution), r.clearRect(0, 0, this.canvas.width, this.canvas.height), r.font = this._font, r.strokeStyle = e.stroke, r.lineWidth = e.strokeThickness, r.textBaseline = e.textBaseline, r.lineJoin = e.lineJoin, r.miterLimit = e.miterLimit;
              var c = void 0,
                d = void 0;
              if (e.dropShadow) {
                r.fillStyle = e.dropShadowColor, r.globalAlpha = e.dropShadowAlpha, r.shadowBlur = e.dropShadowBlur, e.dropShadowBlur > 0 && (r.shadowColor = e.dropShadowColor);
                for (var f = Math.cos(e.dropShadowAngle) * e.dropShadowDistance, p = Math.sin(e.dropShadowAngle) * e.dropShadowDistance, v = 0; v < s.length; v++) c = e.strokeThickness / 2, d = e.strokeThickness / 2 + v * a + l.ascent, "right" === e.align ? c += h - u[v] : "center" === e.align && (c += (h - u[v]) / 2), e.fill && (this.drawLetterSpacing(s[v], c + f + e.padding, d + p + e.padding), e.stroke && e.strokeThickness && (r.strokeStyle = e.dropShadowColor, this.drawLetterSpacing(s[v], c + f + e.padding, d + p + e.padding, !0), r.strokeStyle = e.stroke));
              }
              r.shadowBlur = 0, r.globalAlpha = 1, r.fillStyle = this._generateFillStyle(e, s);
              for (var g = 0; g < s.length; g++) c = e.strokeThickness / 2, d = e.strokeThickness / 2 + g * a + l.ascent, "right" === e.align ? c += h - u[g] : "center" === e.align && (c += (h - u[g]) / 2), e.stroke && e.strokeThickness && this.drawLetterSpacing(s[g], c + e.padding, d + e.padding, !0), e.fill && this.drawLetterSpacing(s[g], c + e.padding, d + e.padding);
              this.updateTexture();
            }
          }, e.prototype.drawLetterSpacing = function (t, e, r) {
            var n = arguments.length > 3 && void 0 !== arguments[3] && arguments[3],
              i = this._style,
              o = i.letterSpacing;
            if (0 === o) return void (n ? this.context.strokeText(t, e, r) : this.context.fillText(t, e, r));
            for (var s = String.prototype.split.call(t, ""), a = e, u = 0, h = ""; u < t.length;) h = s[u++], n ? this.context.strokeText(h, a, r) : this.context.fillText(h, a, r), a += this.context.measureText(h).width + o;
          }, e.prototype.updateTexture = function () {
            var t = this.canvas;
            if (this._style.trim) {
              var e = (0, T.default)(t);
              e.data && (t.width = e.width, t.height = e.height, this.context.putImageData(e.data, 0, 0));
            }
            var r = this._texture,
              n = this._style,
              i = n.trim ? 0 : n.padding,
              o = r.baseTexture;
            o.hasLoaded = !0, o.resolution = this.resolution, o.realWidth = t.width, o.realHeight = t.height, o.width = t.width / this.resolution, o.height = t.height / this.resolution, r.trim.width = r._frame.width = t.width / this.resolution, r.trim.height = r._frame.height = t.height / this.resolution, r.trim.x = -i, r.trim.y = -i, r.orig.width = r._frame.width - 2 * i, r.orig.height = r._frame.height - 2 * i, this._onTextureUpdate(), o.emit("update", o), this.dirty = !1;
          }, e.prototype.renderWebGL = function (e) {
            this.resolution !== e.resolution && (this.resolution = e.resolution, this.dirty = !0), this.updateText(!0), t.prototype.renderWebGL.call(this, e);
          }, e.prototype._renderCanvas = function (e) {
            this.resolution !== e.resolution && (this.resolution = e.resolution, this.dirty = !0), this.updateText(!0), t.prototype._renderCanvas.call(this, e);
          }, e.prototype.getLocalBounds = function (e) {
            return this.updateText(!0), t.prototype.getLocalBounds.call(this, e);
          }, e.prototype._calculateBounds = function () {
            this.updateText(!0), this.calculateVertices(), this._bounds.addQuad(this.vertexData);
          }, e.prototype._onStyleChange = function () {
            this.dirty = !0;
          }, e.prototype._generateFillStyle = function (t, e) {
            if (!Array.isArray(t.fill)) return t.fill;
            if (navigator.isCocoonJS) return t.fill[0];
            var r = void 0,
              n = void 0,
              i = void 0,
              o = void 0,
              s = this.canvas.width / this.resolution,
              a = this.canvas.height / this.resolution,
              u = t.fill.slice(),
              h = t.fillGradientStops.slice();
            if (!h.length) for (var l = u.length + 1, c = 1; c < l; ++c) h.push(c / l);
            if (u.unshift(t.fill[0]), h.unshift(0), u.push(t.fill[t.fill.length - 1]), h.push(1), t.fillGradientType === p.TEXT_GRADIENT.LINEAR_VERTICAL) {
              r = this.context.createLinearGradient(s / 2, 0, s / 2, a), n = (u.length + 1) * e.length, i = 0;
              for (var d = 0; d < e.length; d++) {
                i += 1;
                for (var f = 0; f < u.length; f++) o = "number" == typeof h[f] ? h[f] / e.length + d / e.length : i / n, r.addColorStop(o, u[f]), i++;
              }
            } else {
              r = this.context.createLinearGradient(0, a / 2, s, a / 2), n = u.length + 1, i = 1;
              for (var v = 0; v < u.length; v++) o = "number" == typeof h[v] ? h[v] : i / n, r.addColorStop(o, u[v]), i++;
            }
            return r;
          }, e.prototype.destroy = function (e) {
            "boolean" == typeof e && (e = {
              children: e
            }), e = Object.assign({}, w, e), t.prototype.destroy.call(this, e), this.context = null, this.canvas = null, this._style = null;
          }, a(e, [{
            key: "width",
            get: function get() {
              return this.updateText(!0), Math.abs(this.scale.x) * this._texture.orig.width;
            },
            set: function set(t) {
              this.updateText(!0);
              var e = (0, f.sign)(this.scale.x) || 1;
              this.scale.x = e * t / this._texture.orig.width, this._width = t;
            }
          }, {
            key: "height",
            get: function get() {
              return this.updateText(!0), Math.abs(this.scale.y) * this._texture.orig.height;
            },
            set: function set(t) {
              this.updateText(!0);
              var e = (0, f.sign)(this.scale.y) || 1;
              this.scale.y = e * t / this._texture.orig.height, this._height = t;
            }
          }, {
            key: "style",
            get: function get() {
              return this._style;
            },
            set: function set(t) {
              t = t || {}, t instanceof m.default ? this._style = t : this._style = new m.default(t), this.localStyleID = -1, this.dirty = !0;
            }
          }, {
            key: "text",
            get: function get() {
              return this._text;
            },
            set: function set(t) {
              t = String("" === t || null === t || void 0 === t ? " " : t), this._text !== t && (this._text = t, this.dirty = !0);
            }
          }]), e;
        }(h.default);
      r.default = E;
    }, {
      "../const": 46,
      "../math": 70,
      "../settings": 101,
      "../sprites/Sprite": 102,
      "../textures/Texture": 115,
      "../utils": 125,
      "../utils/trimCanvas": 130,
      "./TextMetrics": 109,
      "./TextStyle": 110
    }],
    109: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      r.__esModule = !0;
      var i = function () {
        function t(e, r, i, o, s, a, u, h, l) {
          n(this, t), this.text = e, this.style = r, this.width = i, this.height = o, this.lines = s, this.lineWidths = a, this.lineHeight = u, this.maxLineWidth = h, this.fontProperties = l;
        }
        return t.measureText = function (e, r, n) {
          var i = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : t._canvas;
          n = void 0 === n || null === n ? r.wordWrap : n;
          var o = r.toFontString(),
            s = t.measureFont(o),
            a = i.getContext("2d");
          a.font = o;
          for (var u = n ? t.wordWrap(e, r, i) : e, h = u.split(/(?:\r\n|\r|\n)/), l = new Array(h.length), c = 0, d = 0; d < h.length; d++) {
            var f = a.measureText(h[d]).width + (h[d].length - 1) * r.letterSpacing;
            l[d] = f, c = Math.max(c, f);
          }
          var p = c + r.strokeThickness;
          r.dropShadow && (p += r.dropShadowDistance);
          var v = r.lineHeight || s.fontSize + r.strokeThickness,
            g = Math.max(v, s.fontSize + r.strokeThickness) + (h.length - 1) * (v + r.leading);
          return r.dropShadow && (g += r.dropShadowDistance), new t(e, r, p, g, h, l, v + r.leading, c, s);
        }, t.wordWrap = function (e, r) {
          for (var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : t._canvas, i = n.getContext("2d"), o = 0, s = "", a = "", u = {}, h = r.letterSpacing, l = r.whiteSpace, c = t.collapseSpaces(l), d = t.collapseNewlines(l), f = !c, p = r.wordWrapWidth + h, v = t.tokenize(e), g = 0; g < v.length; g++) {
            var y = v[g];
            if (t.isNewline(y)) {
              if (!d) {
                a += t.addLine(s), f = !c, s = "", o = 0;
                continue;
              }
              y = " ";
            }
            if (c) {
              var m = t.isBreakingSpace(y),
                _ = t.isBreakingSpace(s[s.length - 1]);
              if (m && _) continue;
            }
            var b = t.getFromCache(y, h, u, i);
            if (b > p) {
              if ("" !== s && (a += t.addLine(s), s = "", o = 0), t.canBreakWords(y, r.breakWords)) for (var x = y.split(""), T = 0; T < x.length; T++) {
                for (var w = x[T], E = 1; x[T + E];) {
                  var S = x[T + E],
                    O = w[w.length - 1];
                  if (t.canBreakChars(O, S, y, T, r.breakWords)) break;
                  w += S, E++;
                }
                T += w.length - 1;
                var M = t.getFromCache(w, h, u, i);
                M + o > p && (a += t.addLine(s), f = !1, s = "", o = 0), s += w, o += M;
              } else {
                s.length > 0 && (a += t.addLine(s), s = "", o = 0);
                var P = g === v.length - 1;
                a += t.addLine(y, !P), f = !1, s = "", o = 0;
              }
            } else b + o > p && (f = !1, a += t.addLine(s), s = "", o = 0), (s.length > 0 || !t.isBreakingSpace(y) || f) && (s += y, o += b);
          }
          return a += t.addLine(s, !1);
        }, t.addLine = function (e) {
          var r = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1];
          return e = t.trimRight(e), e = r ? e + "\n" : e;
        }, t.getFromCache = function (t, e, r, n) {
          var i = r[t];
          if (void 0 === i) {
            var o = t.length * e;
            i = n.measureText(t).width + o, r[t] = i;
          }
          return i;
        }, t.collapseSpaces = function (t) {
          return "normal" === t || "pre-line" === t;
        }, t.collapseNewlines = function (t) {
          return "normal" === t;
        }, t.trimRight = function (e) {
          if ("string" != typeof e) return "";
          for (var r = e.length - 1; r >= 0; r--) {
            var n = e[r];
            if (!t.isBreakingSpace(n)) break;
            e = e.slice(0, -1);
          }
          return e;
        }, t.isNewline = function (e) {
          return "string" == typeof e && t._newlines.indexOf(e.charCodeAt(0)) >= 0;
        }, t.isBreakingSpace = function (e) {
          return "string" == typeof e && t._breakingSpaces.indexOf(e.charCodeAt(0)) >= 0;
        }, t.tokenize = function (e) {
          var r = [],
            n = "";
          if ("string" != typeof e) return r;
          for (var i = 0; i < e.length; i++) {
            var o = e[i];
            t.isBreakingSpace(o) || t.isNewline(o) ? ("" !== n && (r.push(n), n = ""), r.push(o)) : n += o;
          }
          return "" !== n && r.push(n), r;
        }, t.canBreakWords = function (t, e) {
          return e;
        }, t.canBreakChars = function (t, e, r, n, i) {
          return !0;
        }, t.measureFont = function (e) {
          if (t._fonts[e]) return t._fonts[e];
          var r = {},
            n = t._canvas,
            i = t._context;
          i.font = e;
          var o = t.METRICS_STRING + t.BASELINE_SYMBOL,
            s = Math.ceil(i.measureText(o).width),
            a = Math.ceil(i.measureText(t.BASELINE_SYMBOL).width),
            u = 2 * a;
          a = a * t.BASELINE_MULTIPLIER | 0, n.width = s, n.height = u, i.fillStyle = "#f00", i.fillRect(0, 0, s, u), i.font = e, i.textBaseline = "alphabetic", i.fillStyle = "#000", i.fillText(o, 0, a);
          var h = i.getImageData(0, 0, s, u).data,
            l = h.length,
            c = 4 * s,
            d = 0,
            f = 0,
            p = !1;
          for (d = 0; d < a; ++d) {
            for (var v = 0; v < c; v += 4) if (255 !== h[f + v]) {
              p = !0;
              break;
            }
            if (p) break;
            f += c;
          }
          for (r.ascent = a - d, f = l - c, p = !1, d = u; d > a; --d) {
            for (var g = 0; g < c; g += 4) if (255 !== h[f + g]) {
              p = !0;
              break;
            }
            if (p) break;
            f -= c;
          }
          return r.descent = d - a, r.fontSize = r.ascent + r.descent, t._fonts[e] = r, r;
        }, t.clearMetrics = function () {
          var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
          e ? delete t._fonts[e] : t._fonts = {};
        }, t;
      }();
      r.default = i;
      var o = document.createElement("canvas");
      o.width = o.height = 10, i._canvas = o, i._context = o.getContext("2d"), i._fonts = {}, i.METRICS_STRING = "|Éq", i.BASELINE_SYMBOL = "M", i.BASELINE_MULTIPLIER = 1.4, i._newlines = [10, 13], i._breakingSpaces = [9, 32, 8192, 8193, 8194, 8195, 8196, 8197, 8198, 8200, 8201, 8202, 8287, 12288];
    }, {}],
    110: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      function i(t) {
        return "number" == typeof t ? (0, l.hex2string)(t) : ("string" == typeof t && 0 === t.indexOf("0x") && (t = t.replace("0x", "#")), t);
      }
      function o(t) {
        if (Array.isArray(t)) {
          for (var e = 0; e < t.length; ++e) t[e] = i(t[e]);
          return t;
        }
        return i(t);
      }
      function s(t, e) {
        if (!Array.isArray(t) || !Array.isArray(e)) return !1;
        if (t.length !== e.length) return !1;
        for (var r = 0; r < t.length; ++r) if (t[r] !== e[r]) return !1;
        return !0;
      }
      function a(t, e, r) {
        for (var n in r) Array.isArray(e[n]) ? t[n] = e[n].slice() : t[n] = e[n];
      }
      r.__esModule = !0;
      var u = function () {
          function t(t, e) {
            for (var r = 0; r < e.length; r++) {
              var n = e[r];
              n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n);
            }
          }
          return function (e, r, n) {
            return r && t(e.prototype, r), n && t(e, n), e;
          };
        }(),
        h = t("../const"),
        l = t("../utils"),
        c = {
          align: "left",
          breakWords: !1,
          dropShadow: !1,
          dropShadowAlpha: 1,
          dropShadowAngle: Math.PI / 6,
          dropShadowBlur: 0,
          dropShadowColor: "black",
          dropShadowDistance: 5,
          fill: "black",
          fillGradientType: h.TEXT_GRADIENT.LINEAR_VERTICAL,
          fillGradientStops: [],
          fontFamily: "Arial",
          fontSize: 26,
          fontStyle: "normal",
          fontVariant: "normal",
          fontWeight: "normal",
          letterSpacing: 0,
          lineHeight: 0,
          lineJoin: "miter",
          miterLimit: 10,
          padding: 0,
          stroke: "black",
          strokeThickness: 0,
          textBaseline: "alphabetic",
          trim: !1,
          whiteSpace: "pre",
          wordWrap: !1,
          wordWrapWidth: 100,
          leading: 0
        },
        d = ["serif", "sans-serif", "monospace", "cursive", "fantasy", "system-ui"],
        f = function () {
          function t(e) {
            n(this, t), this.styleID = 0, this.reset(), a(this, e, e);
          }
          return t.prototype.clone = function () {
            var e = {};
            return a(e, this, c), new t(e);
          }, t.prototype.reset = function () {
            a(this, c, c);
          }, t.prototype.toFontString = function () {
            var t = "number" == typeof this.fontSize ? this.fontSize + "px" : this.fontSize,
              e = this.fontFamily;
            Array.isArray(this.fontFamily) || (e = this.fontFamily.split(","));
            for (var r = e.length - 1; r >= 0; r--) {
              var n = e[r].trim();
              !/([\"\'])[^\'\"]+\1/.test(n) && d.indexOf(n) < 0 && (n = '"' + n + '"'), e[r] = n;
            }
            return this.fontStyle + " " + this.fontVariant + " " + this.fontWeight + " " + t + " " + e.join(",");
          }, u(t, [{
            key: "align",
            get: function get() {
              return this._align;
            },
            set: function set(t) {
              this._align !== t && (this._align = t, this.styleID++);
            }
          }, {
            key: "breakWords",
            get: function get() {
              return this._breakWords;
            },
            set: function set(t) {
              this._breakWords !== t && (this._breakWords = t, this.styleID++);
            }
          }, {
            key: "dropShadow",
            get: function get() {
              return this._dropShadow;
            },
            set: function set(t) {
              this._dropShadow !== t && (this._dropShadow = t, this.styleID++);
            }
          }, {
            key: "dropShadowAlpha",
            get: function get() {
              return this._dropShadowAlpha;
            },
            set: function set(t) {
              this._dropShadowAlpha !== t && (this._dropShadowAlpha = t, this.styleID++);
            }
          }, {
            key: "dropShadowAngle",
            get: function get() {
              return this._dropShadowAngle;
            },
            set: function set(t) {
              this._dropShadowAngle !== t && (this._dropShadowAngle = t, this.styleID++);
            }
          }, {
            key: "dropShadowBlur",
            get: function get() {
              return this._dropShadowBlur;
            },
            set: function set(t) {
              this._dropShadowBlur !== t && (this._dropShadowBlur = t, this.styleID++);
            }
          }, {
            key: "dropShadowColor",
            get: function get() {
              return this._dropShadowColor;
            },
            set: function set(t) {
              var e = o(t);
              this._dropShadowColor !== e && (this._dropShadowColor = e, this.styleID++);
            }
          }, {
            key: "dropShadowDistance",
            get: function get() {
              return this._dropShadowDistance;
            },
            set: function set(t) {
              this._dropShadowDistance !== t && (this._dropShadowDistance = t, this.styleID++);
            }
          }, {
            key: "fill",
            get: function get() {
              return this._fill;
            },
            set: function set(t) {
              var e = o(t);
              this._fill !== e && (this._fill = e, this.styleID++);
            }
          }, {
            key: "fillGradientType",
            get: function get() {
              return this._fillGradientType;
            },
            set: function set(t) {
              this._fillGradientType !== t && (this._fillGradientType = t, this.styleID++);
            }
          }, {
            key: "fillGradientStops",
            get: function get() {
              return this._fillGradientStops;
            },
            set: function set(t) {
              s(this._fillGradientStops, t) || (this._fillGradientStops = t, this.styleID++);
            }
          }, {
            key: "fontFamily",
            get: function get() {
              return this._fontFamily;
            },
            set: function set(t) {
              this.fontFamily !== t && (this._fontFamily = t, this.styleID++);
            }
          }, {
            key: "fontSize",
            get: function get() {
              return this._fontSize;
            },
            set: function set(t) {
              this._fontSize !== t && (this._fontSize = t, this.styleID++);
            }
          }, {
            key: "fontStyle",
            get: function get() {
              return this._fontStyle;
            },
            set: function set(t) {
              this._fontStyle !== t && (this._fontStyle = t, this.styleID++);
            }
          }, {
            key: "fontVariant",
            get: function get() {
              return this._fontVariant;
            },
            set: function set(t) {
              this._fontVariant !== t && (this._fontVariant = t, this.styleID++);
            }
          }, {
            key: "fontWeight",
            get: function get() {
              return this._fontWeight;
            },
            set: function set(t) {
              this._fontWeight !== t && (this._fontWeight = t, this.styleID++);
            }
          }, {
            key: "letterSpacing",
            get: function get() {
              return this._letterSpacing;
            },
            set: function set(t) {
              this._letterSpacing !== t && (this._letterSpacing = t, this.styleID++);
            }
          }, {
            key: "lineHeight",
            get: function get() {
              return this._lineHeight;
            },
            set: function set(t) {
              this._lineHeight !== t && (this._lineHeight = t, this.styleID++);
            }
          }, {
            key: "leading",
            get: function get() {
              return this._leading;
            },
            set: function set(t) {
              this._leading !== t && (this._leading = t, this.styleID++);
            }
          }, {
            key: "lineJoin",
            get: function get() {
              return this._lineJoin;
            },
            set: function set(t) {
              this._lineJoin !== t && (this._lineJoin = t, this.styleID++);
            }
          }, {
            key: "miterLimit",
            get: function get() {
              return this._miterLimit;
            },
            set: function set(t) {
              this._miterLimit !== t && (this._miterLimit = t, this.styleID++);
            }
          }, {
            key: "padding",
            get: function get() {
              return this._padding;
            },
            set: function set(t) {
              this._padding !== t && (this._padding = t, this.styleID++);
            }
          }, {
            key: "stroke",
            get: function get() {
              return this._stroke;
            },
            set: function set(t) {
              var e = o(t);
              this._stroke !== e && (this._stroke = e, this.styleID++);
            }
          }, {
            key: "strokeThickness",
            get: function get() {
              return this._strokeThickness;
            },
            set: function set(t) {
              this._strokeThickness !== t && (this._strokeThickness = t, this.styleID++);
            }
          }, {
            key: "textBaseline",
            get: function get() {
              return this._textBaseline;
            },
            set: function set(t) {
              this._textBaseline !== t && (this._textBaseline = t, this.styleID++);
            }
          }, {
            key: "trim",
            get: function get() {
              return this._trim;
            },
            set: function set(t) {
              this._trim !== t && (this._trim = t, this.styleID++);
            }
          }, {
            key: "whiteSpace",
            get: function get() {
              return this._whiteSpace;
            },
            set: function set(t) {
              this._whiteSpace !== t && (this._whiteSpace = t, this.styleID++);
            }
          }, {
            key: "wordWrap",
            get: function get() {
              return this._wordWrap;
            },
            set: function set(t) {
              this._wordWrap !== t && (this._wordWrap = t, this.styleID++);
            }
          }, {
            key: "wordWrapWidth",
            get: function get() {
              return this._wordWrapWidth;
            },
            set: function set(t) {
              this._wordWrapWidth !== t && (this._wordWrapWidth = t, this.styleID++);
            }
          }]), t;
        }();
      r.default = f;
    }, {
      "../const": 46,
      "../utils": 125
    }],
    111: [function (t, e, r) {
      "use strict";

      function n(t) {
        return t && t.__esModule ? t : {
          default: t
        };
      }
      function i(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      function o(t, e) {
        if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !e || "object" != _typeof(e) && "function" != typeof e ? t : e;
      }
      function s(t, e) {
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + _typeof(e));
        t.prototype = Object.create(e && e.prototype, {
          constructor: {
            value: t,
            enumerable: !1,
            writable: !0,
            configurable: !0
          }
        }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e);
      }
      r.__esModule = !0;
      var a = t("./BaseTexture"),
        u = n(a),
        h = t("../settings"),
        l = n(h),
        c = function (t) {
          function e() {
            var r = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 100,
              n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 100,
              s = arguments[2],
              a = arguments[3];
            i(this, e);
            var u = o(this, t.call(this, null, s));
            return u.resolution = a || l.default.RESOLUTION, u.width = Math.ceil(r), u.height = Math.ceil(n), u.realWidth = u.width * u.resolution, u.realHeight = u.height * u.resolution, u.scaleMode = void 0 !== s ? s : l.default.SCALE_MODE, u.hasLoaded = !0, u._glRenderTargets = {}, u._canvasRenderTarget = null, u.valid = !1, u;
          }
          return s(e, t), e.prototype.resize = function (t, e) {
            t = Math.ceil(t), e = Math.ceil(e), t === this.width && e === this.height || (this.valid = t > 0 && e > 0, this.width = t, this.height = e, this.realWidth = this.width * this.resolution, this.realHeight = this.height * this.resolution, this.valid && this.emit("update", this));
          }, e.prototype.destroy = function () {
            t.prototype.destroy.call(this, !0), this.renderer = null;
          }, e;
        }(u.default);
      r.default = c;
    }, {
      "../settings": 101,
      "./BaseTexture": 112
    }],
    112: [function (t, e, r) {
      "use strict";

      function n(t) {
        return t && t.__esModule ? t : {
          default: t
        };
      }
      function i(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      function o(t, e) {
        if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !e || "object" != _typeof(e) && "function" != typeof e ? t : e;
      }
      function s(t, e) {
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + _typeof(e));
        t.prototype = Object.create(e && e.prototype, {
          constructor: {
            value: t,
            enumerable: !1,
            writable: !0,
            configurable: !0
          }
        }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e);
      }
      r.__esModule = !0;
      var a = t("../utils"),
        u = t("../settings"),
        h = n(u),
        l = t("eventemitter3"),
        c = n(l),
        d = t("../utils/determineCrossOrigin"),
        f = n(d),
        p = t("bit-twiddle"),
        v = n(p),
        g = function (t) {
          function e(r, n, s) {
            i(this, e);
            var u = o(this, t.call(this));
            return u.uid = (0, a.uid)(), u.touched = 0, u.resolution = s || h.default.RESOLUTION, u.width = 100, u.height = 100, u.realWidth = 100, u.realHeight = 100, u.scaleMode = void 0 !== n ? n : h.default.SCALE_MODE, u.hasLoaded = !1, u.isLoading = !1, u.source = null, u.origSource = null, u.imageType = null, u.sourceScale = 1, u.premultipliedAlpha = !0, u.imageUrl = null, u.isPowerOfTwo = !1, u.mipmap = h.default.MIPMAP_TEXTURES, u.wrapMode = h.default.WRAP_MODE, u._glTextures = {}, u._enabled = 0, u._virtalBoundId = -1, u._destroyed = !1, u.textureCacheIds = [], r && u.loadSource(r), u;
          }
          return s(e, t), e.prototype.update = function () {
            "svg" !== this.imageType && (this.realWidth = this.source.naturalWidth || this.source.videoWidth || this.source.width, this.realHeight = this.source.naturalHeight || this.source.videoHeight || this.source.height, this._updateDimensions()), this.emit("update", this);
          }, e.prototype._updateDimensions = function () {
            this.width = this.realWidth / this.resolution, this.height = this.realHeight / this.resolution, this.isPowerOfTwo = v.default.isPow2(this.realWidth) && v.default.isPow2(this.realHeight);
          }, e.prototype.loadSource = function (t) {
            var e = this.isLoading;
            this.hasLoaded = !1, this.isLoading = !1, e && this.source && (this.source.onload = null, this.source.onerror = null);
            var r = !this.source;
            if (this.source = t, (t.src && t.complete || t.getContext) && t.width && t.height) this._updateImageType(), "svg" === this.imageType ? this._loadSvgSource() : this._sourceLoaded(), r && this.emit("loaded", this);else if (!t.getContext) {
              this.isLoading = !0;
              var n = this;
              if (t.onload = function () {
                if (n._updateImageType(), t.onload = null, t.onerror = null, n.isLoading) {
                  if (n.isLoading = !1, n._sourceLoaded(), "svg" === n.imageType) return void n._loadSvgSource();
                  n.emit("loaded", n);
                }
              }, t.onerror = function () {
                t.onload = null, t.onerror = null, n.isLoading && (n.isLoading = !1, n.emit("error", n));
              }, t.complete && t.src) {
                if (t.onload = null, t.onerror = null, "svg" === n.imageType) return void n._loadSvgSource();
                this.isLoading = !1, t.width && t.height ? (this._sourceLoaded(), e && this.emit("loaded", this)) : e && this.emit("error", this);
              }
            }
          }, e.prototype._updateImageType = function () {
            if (this.imageUrl) {
              var t = (0, a.decomposeDataUri)(this.imageUrl),
                e = void 0;
              if (t && "image" === t.mediaType) {
                var r = t.subType.split("+")[0];
                if (!(e = (0, a.getUrlFileExtension)("." + r))) throw new Error("Invalid image type in data URI.");
              } else (e = (0, a.getUrlFileExtension)(this.imageUrl)) || (e = "png");
              this.imageType = e;
            }
          }, e.prototype._loadSvgSource = function () {
            if ("svg" === this.imageType) {
              var t = (0, a.decomposeDataUri)(this.imageUrl);
              t ? this._loadSvgSourceUsingDataUri(t) : this._loadSvgSourceUsingXhr();
            }
          }, e.prototype._loadSvgSourceUsingDataUri = function (t) {
            var e = void 0;
            if ("base64" === t.encoding) {
              if (!atob) throw new Error("Your browser doesn't support base64 conversions.");
              e = atob(t.data);
            } else e = t.data;
            this._loadSvgSourceUsingString(e);
          }, e.prototype._loadSvgSourceUsingXhr = function () {
            var t = this,
              e = new XMLHttpRequest();
            e.onload = function () {
              if (e.readyState !== e.DONE || 200 !== e.status) throw new Error("Failed to load SVG using XHR.");
              t._loadSvgSourceUsingString(e.response);
            }, e.onerror = function () {
              return t.emit("error", t);
            }, e.open("GET", this.imageUrl, !0), e.send();
          }, e.prototype._loadSvgSourceUsingString = function (t) {
            var r = (0, a.getSvgSize)(t),
              n = r.width,
              i = r.height;
            if (!n || !i) throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");
            this.realWidth = Math.round(n * this.sourceScale), this.realHeight = Math.round(i * this.sourceScale), this._updateDimensions();
            var o = document.createElement("canvas");
            o.width = this.realWidth, o.height = this.realHeight, o._pixiId = "canvas_" + (0, a.uid)(), o.getContext("2d").drawImage(this.source, 0, 0, n, i, 0, 0, this.realWidth, this.realHeight), this.origSource = this.source, this.source = o, e.addToCache(this, o._pixiId), this.isLoading = !1, this._sourceLoaded(), this.emit("loaded", this);
          }, e.prototype._sourceLoaded = function () {
            this.hasLoaded = !0, this.update();
          }, e.prototype.destroy = function () {
            this.imageUrl && (delete a.TextureCache[this.imageUrl], this.imageUrl = null, navigator.isCocoonJS || (this.source.src = "")), this.source = null, this.dispose(), e.removeFromCache(this), this.textureCacheIds = null, this._destroyed = !0;
          }, e.prototype.dispose = function () {
            this.emit("dispose", this);
          }, e.prototype.updateSourceImage = function (t) {
            this.source.src = t, this.loadSource(this.source);
          }, e.fromImage = function (t, r, n, i) {
            var o = a.BaseTextureCache[t];
            if (!o) {
              var s = new Image();
              void 0 === r && 0 !== t.indexOf("data:") ? s.crossOrigin = (0, f.default)(t) : r && (s.crossOrigin = "string" == typeof r ? r : "anonymous"), o = new e(s, n), o.imageUrl = t, i && (o.sourceScale = i), o.resolution = (0, a.getResolutionOfUrl)(t), s.src = t, e.addToCache(o, t);
            }
            return o;
          }, e.fromCanvas = function (t, r) {
            var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "canvas";
            t._pixiId || (t._pixiId = n + "_" + (0, a.uid)());
            var i = a.BaseTextureCache[t._pixiId];
            return i || (i = new e(t, r), e.addToCache(i, t._pixiId)), i;
          }, e.from = function (t, r, n) {
            if ("string" == typeof t) return e.fromImage(t, void 0, r, n);
            if (t instanceof HTMLImageElement) {
              var i = t.src,
                o = a.BaseTextureCache[i];
              return o || (o = new e(t, r), o.imageUrl = i, n && (o.sourceScale = n), o.resolution = (0, a.getResolutionOfUrl)(i), e.addToCache(o, i)), o;
            }
            return t instanceof HTMLCanvasElement ? e.fromCanvas(t, r) : t;
          }, e.addToCache = function (t, e) {
            e && (-1 === t.textureCacheIds.indexOf(e) && t.textureCacheIds.push(e), a.BaseTextureCache[e] = t);
          }, e.removeFromCache = function (t) {
            if ("string" == typeof t) {
              var e = a.BaseTextureCache[t];
              if (e) {
                var r = e.textureCacheIds.indexOf(t);
                return r > -1 && e.textureCacheIds.splice(r, 1), delete a.BaseTextureCache[t], e;
              }
            } else if (t && t.textureCacheIds) {
              for (var n = 0; n < t.textureCacheIds.length; ++n) delete a.BaseTextureCache[t.textureCacheIds[n]];
              return t.textureCacheIds.length = 0, t;
            }
            return null;
          }, e;
        }(c.default);
      r.default = g;
    }, {
      "../settings": 101,
      "../utils": 125,
      "../utils/determineCrossOrigin": 124,
      "bit-twiddle": 1,
      eventemitter3: 3
    }],
    113: [function (t, e, r) {
      "use strict";

      function n(t) {
        return t && t.__esModule ? t : {
          default: t
        };
      }
      function i(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      function o(t, e) {
        if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !e || "object" != _typeof(e) && "function" != typeof e ? t : e;
      }
      function s(t, e) {
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + _typeof(e));
        t.prototype = Object.create(e && e.prototype, {
          constructor: {
            value: t,
            enumerable: !1,
            writable: !0,
            configurable: !0
          }
        }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e);
      }
      r.__esModule = !0;
      var a = t("./BaseRenderTexture"),
        u = n(a),
        h = t("./Texture"),
        l = n(h),
        c = function (t) {
          function e(r, n) {
            i(this, e);
            var s = null;
            if (!(r instanceof u.default)) {
              var a = arguments[1],
                h = arguments[2],
                l = arguments[3],
                c = arguments[4];
              console.warn("Please use RenderTexture.create(" + a + ", " + h + ") instead of the ctor directly."), s = arguments[0], n = null, r = new u.default(a, h, l, c);
            }
            var d = o(this, t.call(this, r, n));
            return d.legacyRenderer = s, d.valid = !0, d._updateUvs(), d;
          }
          return s(e, t), e.prototype.resize = function (t, e, r) {
            t = Math.ceil(t), e = Math.ceil(e), this.valid = t > 0 && e > 0, this._frame.width = this.orig.width = t, this._frame.height = this.orig.height = e, r || this.baseTexture.resize(t, e), this._updateUvs();
          }, e.create = function (t, r, n, i) {
            return new e(new u.default(t, r, n, i));
          }, e;
        }(l.default);
      r.default = c;
    }, {
      "./BaseRenderTexture": 111,
      "./Texture": 115
    }],
    114: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      r.__esModule = !0;
      var i = function () {
          function t(t, e) {
            for (var r = 0; r < e.length; r++) {
              var n = e[r];
              n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n);
            }
          }
          return function (e, r, n) {
            return r && t(e.prototype, r), n && t(e, n), e;
          };
        }(),
        o = t("../"),
        s = t("../utils"),
        a = function () {
          function t(e, r) {
            var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null;
            n(this, t), this.baseTexture = e, this.textures = {}, this.animations = {}, this.data = r, this.resolution = this._updateResolution(i || this.baseTexture.imageUrl), this._frames = this.data.frames, this._frameKeys = Object.keys(this._frames), this._batchIndex = 0, this._callback = null;
          }
          return i(t, null, [{
            key: "BATCH_SIZE",
            get: function get() {
              return 1e3;
            }
          }]), t.prototype._updateResolution = function (t) {
            var e = this.data.meta.scale,
              r = (0, s.getResolutionOfUrl)(t, null);
            return null === r && (r = void 0 !== e ? parseFloat(e) : 1), 1 !== r && (this.baseTexture.resolution = r, this.baseTexture.update()), r;
          }, t.prototype.parse = function (e) {
            this._batchIndex = 0, this._callback = e, this._frameKeys.length <= t.BATCH_SIZE ? (this._processFrames(0), this._processAnimations(), this._parseComplete()) : this._nextBatch();
          }, t.prototype._processFrames = function (e) {
            for (var r = e, n = t.BATCH_SIZE, i = this.baseTexture.sourceScale; r - e < n && r < this._frameKeys.length;) {
              var s = this._frameKeys[r],
                a = this._frames[s],
                u = a.frame;
              if (u) {
                var h = null,
                  l = null,
                  c = !1 !== a.trimmed && a.sourceSize ? a.sourceSize : a.frame,
                  d = new o.Rectangle(0, 0, Math.floor(c.w * i) / this.resolution, Math.floor(c.h * i) / this.resolution);
                h = a.rotated ? new o.Rectangle(Math.floor(u.x * i) / this.resolution, Math.floor(u.y * i) / this.resolution, Math.floor(u.h * i) / this.resolution, Math.floor(u.w * i) / this.resolution) : new o.Rectangle(Math.floor(u.x * i) / this.resolution, Math.floor(u.y * i) / this.resolution, Math.floor(u.w * i) / this.resolution, Math.floor(u.h * i) / this.resolution), !1 !== a.trimmed && a.spriteSourceSize && (l = new o.Rectangle(Math.floor(a.spriteSourceSize.x * i) / this.resolution, Math.floor(a.spriteSourceSize.y * i) / this.resolution, Math.floor(u.w * i) / this.resolution, Math.floor(u.h * i) / this.resolution)), this.textures[s] = new o.Texture(this.baseTexture, h, d, l, a.rotated ? 2 : 0, a.anchor), o.Texture.addToCache(this.textures[s], s);
              }
              r++;
            }
          }, t.prototype._processAnimations = function () {
            var t = this.data.animations || {};
            for (var e in t) {
              this.animations[e] = [];
              for (var r = t[e], n = Array.isArray(r), i = 0, r = n ? r : r[Symbol.iterator]();;) {
                var o;
                if (n) {
                  if (i >= r.length) break;
                  o = r[i++];
                } else {
                  if (i = r.next(), i.done) break;
                  o = i.value;
                }
                var s = o;
                this.animations[e].push(this.textures[s]);
              }
            }
          }, t.prototype._parseComplete = function () {
            var t = this._callback;
            this._callback = null, this._batchIndex = 0, t.call(this, this.textures);
          }, t.prototype._nextBatch = function () {
            var e = this;
            this._processFrames(this._batchIndex * t.BATCH_SIZE), this._batchIndex++, setTimeout(function () {
              e._batchIndex * t.BATCH_SIZE < e._frameKeys.length ? e._nextBatch() : (e._processAnimations(), e._parseComplete());
            }, 0);
          }, t.prototype.destroy = function () {
            var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
            for (var e in this.textures) this.textures[e].destroy();
            this._frames = null, this._frameKeys = null, this.data = null, this.textures = null, t && this.baseTexture.destroy(), this.baseTexture = null;
          }, t;
        }();
      r.default = a;
    }, {
      "../": 65,
      "../utils": 125
    }],
    115: [function (t, e, r) {
      "use strict";

      function n(t) {
        return t && t.__esModule ? t : {
          default: t
        };
      }
      function i(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      function o(t, e) {
        if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !e || "object" != _typeof(e) && "function" != typeof e ? t : e;
      }
      function s(t, e) {
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + _typeof(e));
        t.prototype = Object.create(e && e.prototype, {
          constructor: {
            value: t,
            enumerable: !1,
            writable: !0,
            configurable: !0
          }
        }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e);
      }
      function a(t) {
        t.destroy = function () {}, t.on = function () {}, t.once = function () {}, t.emit = function () {};
      }
      r.__esModule = !0;
      var u = function () {
          function t(t, e) {
            for (var r = 0; r < e.length; r++) {
              var n = e[r];
              n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n);
            }
          }
          return function (e, r, n) {
            return r && t(e.prototype, r), n && t(e, n), e;
          };
        }(),
        h = t("./BaseTexture"),
        l = n(h),
        c = t("./VideoBaseTexture"),
        d = n(c),
        f = t("./TextureUvs"),
        p = n(f),
        v = t("eventemitter3"),
        g = n(v),
        y = t("../math"),
        m = t("../utils"),
        _ = t("../settings"),
        b = n(_),
        x = function (t) {
          function e(r, n, s, a, u, h) {
            i(this, e);
            var l = o(this, t.call(this));
            if (l.noFrame = !1, n || (l.noFrame = !0, n = new y.Rectangle(0, 0, 1, 1)), r instanceof e && (r = r.baseTexture), l.baseTexture = r, l._frame = n, l.trim = a, l.valid = !1, l.requiresUpdate = !1, l._uvs = null, l.orig = s || n, l._rotate = Number(u || 0), !0 === u) l._rotate = 2;else if (l._rotate % 2 != 0) throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");
            return r.hasLoaded ? (l.noFrame && (n = new y.Rectangle(0, 0, r.width, r.height), r.on("update", l.onBaseTextureUpdated, l)), l.frame = n) : r.once("loaded", l.onBaseTextureLoaded, l), l.defaultAnchor = h ? new y.Point(h.x, h.y) : new y.Point(0, 0), l._updateID = 0, l.transform = null, l.textureCacheIds = [], l;
          }
          return s(e, t), e.prototype.update = function () {
            this.baseTexture.update();
          }, e.prototype.onBaseTextureLoaded = function (t) {
            this._updateID++, this.noFrame ? this.frame = new y.Rectangle(0, 0, t.width, t.height) : this.frame = this._frame, this.baseTexture.on("update", this.onBaseTextureUpdated, this), this.emit("update", this);
          }, e.prototype.onBaseTextureUpdated = function (t) {
            this._updateID++, this._frame.width = t.width, this._frame.height = t.height, this.emit("update", this);
          }, e.prototype.destroy = function (t) {
            this.baseTexture && (t && (m.TextureCache[this.baseTexture.imageUrl] && e.removeFromCache(this.baseTexture.imageUrl), this.baseTexture.destroy()), this.baseTexture.off("update", this.onBaseTextureUpdated, this), this.baseTexture.off("loaded", this.onBaseTextureLoaded, this), this.baseTexture = null), this._frame = null, this._uvs = null, this.trim = null, this.orig = null, this.valid = !1, e.removeFromCache(this), this.textureCacheIds = null;
          }, e.prototype.clone = function () {
            return new e(this.baseTexture, this.frame, this.orig, this.trim, this.rotate, this.defaultAnchor);
          }, e.prototype._updateUvs = function () {
            this._uvs || (this._uvs = new p.default()), this._uvs.set(this._frame, this.baseTexture, this.rotate), this._updateID++;
          }, e.fromImage = function (t, r, n, i) {
            var o = m.TextureCache[t];
            return o || (o = new e(l.default.fromImage(t, r, n, i)), e.addToCache(o, t)), o;
          }, e.fromFrame = function (t) {
            var e = m.TextureCache[t];
            if (!e) throw new Error('The frameId "' + t + '" does not exist in the texture cache');
            return e;
          }, e.fromCanvas = function (t, r) {
            var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "canvas";
            return new e(l.default.fromCanvas(t, r, n));
          }, e.fromVideo = function (t, r, n, i) {
            return "string" == typeof t ? e.fromVideoUrl(t, r, n, i) : new e(d.default.fromVideo(t, r, i));
          }, e.fromVideoUrl = function (t, r, n, i) {
            return new e(d.default.fromUrl(t, r, n, i));
          }, e.from = function (t) {
            if ("string" == typeof t) {
              var r = m.TextureCache[t];
              if (!r) {
                return null !== t.match(/\.(mp4|webm|ogg|h264|avi|mov)$/) ? e.fromVideoUrl(t) : e.fromImage(t);
              }
              return r;
            }
            return t instanceof HTMLImageElement ? new e(l.default.from(t)) : t instanceof HTMLCanvasElement ? e.fromCanvas(t, b.default.SCALE_MODE, "HTMLCanvasElement") : t instanceof HTMLVideoElement ? e.fromVideo(t) : t instanceof l.default ? new e(t) : t;
          }, e.fromLoader = function (t, r, n) {
            var i = new l.default(t, void 0, (0, m.getResolutionOfUrl)(r)),
              o = new e(i);
            return i.imageUrl = r, n || (n = r), l.default.addToCache(o.baseTexture, n), e.addToCache(o, n), n !== r && (l.default.addToCache(o.baseTexture, r), e.addToCache(o, r)), o;
          }, e.addToCache = function (t, e) {
            e && (-1 === t.textureCacheIds.indexOf(e) && t.textureCacheIds.push(e), m.TextureCache[e] = t);
          }, e.removeFromCache = function (t) {
            if ("string" == typeof t) {
              var e = m.TextureCache[t];
              if (e) {
                var r = e.textureCacheIds.indexOf(t);
                return r > -1 && e.textureCacheIds.splice(r, 1), delete m.TextureCache[t], e;
              }
            } else if (t && t.textureCacheIds) {
              for (var n = 0; n < t.textureCacheIds.length; ++n) m.TextureCache[t.textureCacheIds[n]] === t && delete m.TextureCache[t.textureCacheIds[n]];
              return t.textureCacheIds.length = 0, t;
            }
            return null;
          }, u(e, [{
            key: "frame",
            get: function get() {
              return this._frame;
            },
            set: function set(t) {
              this._frame = t, this.noFrame = !1;
              var e = t.x,
                r = t.y,
                n = t.width,
                i = t.height,
                o = e + n > this.baseTexture.width,
                s = r + i > this.baseTexture.height;
              if (o || s) {
                var a = o && s ? "and" : "or",
                  u = "X: " + e + " + " + n + " = " + (e + n) + " > " + this.baseTexture.width,
                  h = "Y: " + r + " + " + i + " = " + (r + i) + " > " + this.baseTexture.height;
                throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: " + u + " " + a + " " + h);
              }
              this.valid = n && i && this.baseTexture.hasLoaded, this.trim || this.rotate || (this.orig = t), this.valid && this._updateUvs();
            }
          }, {
            key: "rotate",
            get: function get() {
              return this._rotate;
            },
            set: function set(t) {
              this._rotate = t, this.valid && this._updateUvs();
            }
          }, {
            key: "width",
            get: function get() {
              return this.orig.width;
            }
          }, {
            key: "height",
            get: function get() {
              return this.orig.height;
            }
          }]), e;
        }(g.default);
      r.default = x, x.EMPTY = new x(new l.default()), a(x.EMPTY), a(x.EMPTY.baseTexture), x.WHITE = function () {
        var t = document.createElement("canvas");
        t.width = 10, t.height = 10;
        var e = t.getContext("2d");
        return e.fillStyle = "white", e.fillRect(0, 0, 10, 10), new x(new l.default(t));
      }(), a(x.WHITE), a(x.WHITE.baseTexture);
    }, {
      "../math": 70,
      "../settings": 101,
      "../utils": 125,
      "./BaseTexture": 112,
      "./TextureUvs": 117,
      "./VideoBaseTexture": 118,
      eventemitter3: 3
    }],
    116: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      r.__esModule = !0;
      var i = function () {
          function t(t, e) {
            for (var r = 0; r < e.length; r++) {
              var n = e[r];
              n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n);
            }
          }
          return function (e, r, n) {
            return r && t(e.prototype, r), n && t(e, n), e;
          };
        }(),
        o = t("../math/Matrix"),
        s = function (t) {
          return t && t.__esModule ? t : {
            default: t
          };
        }(o),
        a = new s.default(),
        u = function () {
          function t(e, r) {
            n(this, t), this._texture = e, this.mapCoord = new s.default(), this.uClampFrame = new Float32Array(4), this.uClampOffset = new Float32Array(2), this._lastTextureID = -1, this.clampOffset = 0, this.clampMargin = void 0 === r ? .5 : r;
          }
          return t.prototype.multiplyUvs = function (t, e) {
            void 0 === e && (e = t);
            for (var r = this.mapCoord, n = 0; n < t.length; n += 2) {
              var i = t[n],
                o = t[n + 1];
              e[n] = i * r.a + o * r.c + r.tx, e[n + 1] = i * r.b + o * r.d + r.ty;
            }
            return e;
          }, t.prototype.update = function (t) {
            var e = this._texture;
            if (!e || !e.valid) return !1;
            if (!t && this._lastTextureID === e._updateID) return !1;
            this._lastTextureID = e._updateID;
            var r = e._uvs;
            this.mapCoord.set(r.x1 - r.x0, r.y1 - r.y0, r.x3 - r.x0, r.y3 - r.y0, r.x0, r.y0);
            var n = e.orig,
              i = e.trim;
            i && (a.set(n.width / i.width, 0, 0, n.height / i.height, -i.x / i.width, -i.y / i.height), this.mapCoord.append(a));
            var o = e.baseTexture,
              s = this.uClampFrame,
              u = this.clampMargin / o.resolution,
              h = this.clampOffset;
            return s[0] = (e._frame.x + u + h) / o.width, s[1] = (e._frame.y + u + h) / o.height, s[2] = (e._frame.x + e._frame.width - u + h) / o.width, s[3] = (e._frame.y + e._frame.height - u + h) / o.height, this.uClampOffset[0] = h / o.realWidth, this.uClampOffset[1] = h / o.realHeight, !0;
          }, i(t, [{
            key: "texture",
            get: function get() {
              return this._texture;
            },
            set: function set(t) {
              this._texture = t, this._lastTextureID = -1;
            }
          }]), t;
        }();
      r.default = u;
    }, {
      "../math/Matrix": 67
    }],
    117: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      r.__esModule = !0;
      var i = t("../math/GroupD8"),
        o = function (t) {
          return t && t.__esModule ? t : {
            default: t
          };
        }(i),
        s = function () {
          function t() {
            n(this, t), this.x0 = 0, this.y0 = 0, this.x1 = 1, this.y1 = 0, this.x2 = 1, this.y2 = 1, this.x3 = 0, this.y3 = 1, this.uvsUint32 = new Uint32Array(4);
          }
          return t.prototype.set = function (t, e, r) {
            var n = e.width,
              i = e.height;
            if (r) {
              var s = t.width / 2 / n,
                a = t.height / 2 / i,
                u = t.x / n + s,
                h = t.y / i + a;
              r = o.default.add(r, o.default.NW), this.x0 = u + s * o.default.uX(r), this.y0 = h + a * o.default.uY(r), r = o.default.add(r, 2), this.x1 = u + s * o.default.uX(r), this.y1 = h + a * o.default.uY(r), r = o.default.add(r, 2), this.x2 = u + s * o.default.uX(r), this.y2 = h + a * o.default.uY(r), r = o.default.add(r, 2), this.x3 = u + s * o.default.uX(r), this.y3 = h + a * o.default.uY(r);
            } else this.x0 = t.x / n, this.y0 = t.y / i, this.x1 = (t.x + t.width) / n, this.y1 = t.y / i, this.x2 = (t.x + t.width) / n, this.y2 = (t.y + t.height) / i, this.x3 = t.x / n, this.y3 = (t.y + t.height) / i;
            this.uvsUint32[0] = (65535 & Math.round(65535 * this.y0)) << 16 | 65535 & Math.round(65535 * this.x0), this.uvsUint32[1] = (65535 & Math.round(65535 * this.y1)) << 16 | 65535 & Math.round(65535 * this.x1), this.uvsUint32[2] = (65535 & Math.round(65535 * this.y2)) << 16 | 65535 & Math.round(65535 * this.x2), this.uvsUint32[3] = (65535 & Math.round(65535 * this.y3)) << 16 | 65535 & Math.round(65535 * this.x3);
          }, t;
        }();
      r.default = s;
    }, {
      "../math/GroupD8": 66
    }],
    118: [function (t, e, r) {
      "use strict";

      function n(t) {
        return t && t.__esModule ? t : {
          default: t
        };
      }
      function i(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      function o(t, e) {
        if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !e || "object" != _typeof(e) && "function" != typeof e ? t : e;
      }
      function s(t, e) {
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + _typeof(e));
        t.prototype = Object.create(e && e.prototype, {
          constructor: {
            value: t,
            enumerable: !1,
            writable: !0,
            configurable: !0
          }
        }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e);
      }
      function a(t, e) {
        if (!e) {
          var r = t.split("?").shift().toLowerCase();
          e = "video/" + r.substr(r.lastIndexOf(".") + 1);
        }
        var n = document.createElement("source");
        return n.src = t, n.type = e, n;
      }
      r.__esModule = !0;
      var u = function () {
          function t(t, e) {
            for (var r = 0; r < e.length; r++) {
              var n = e[r];
              n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n);
            }
          }
          return function (e, r, n) {
            return r && t(e.prototype, r), n && t(e, n), e;
          };
        }(),
        h = t("./BaseTexture"),
        l = n(h),
        c = t("../utils"),
        d = t("../ticker"),
        f = t("../const"),
        p = t("../utils/determineCrossOrigin"),
        v = n(p),
        g = function (t) {
          function e(r, n) {
            var s = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2];
            if (i(this, e), !r) throw new Error("No video source element specified.");
            (r.readyState === r.HAVE_ENOUGH_DATA || r.readyState === r.HAVE_FUTURE_DATA) && r.width && r.height && (r.complete = !0);
            var a = o(this, t.call(this, r, n));
            return a.width = r.videoWidth, a.height = r.videoHeight, a._autoUpdate = !0, a._isAutoUpdating = !1, a.autoPlay = s, a.update = a.update.bind(a), a._onCanPlay = a._onCanPlay.bind(a), r.addEventListener("play", a._onPlayStart.bind(a)), r.addEventListener("pause", a._onPlayStop.bind(a)), a.hasLoaded = !1, a.__loaded = !1, a._isSourceReady() ? a._onCanPlay() : (r.addEventListener("canplay", a._onCanPlay), r.addEventListener("canplaythrough", a._onCanPlay)), a;
          }
          return s(e, t), e.prototype._isSourcePlaying = function () {
            var t = this.source;
            return t.currentTime > 0 && !1 === t.paused && !1 === t.ended && t.readyState > 2;
          }, e.prototype._isSourceReady = function () {
            return 3 === this.source.readyState || 4 === this.source.readyState;
          }, e.prototype._onPlayStart = function () {
            this.hasLoaded || this._onCanPlay(), !this._isAutoUpdating && this.autoUpdate && (d.shared.add(this.update, this, f.UPDATE_PRIORITY.HIGH), this._isAutoUpdating = !0);
          }, e.prototype._onPlayStop = function () {
            this._isAutoUpdating && (d.shared.remove(this.update, this), this._isAutoUpdating = !1);
          }, e.prototype._onCanPlay = function () {
            this.hasLoaded = !0, this.source && (this.source.removeEventListener("canplay", this._onCanPlay), this.source.removeEventListener("canplaythrough", this._onCanPlay), this.width = this.source.videoWidth, this.height = this.source.videoHeight, this.__loaded || (this.__loaded = !0, this.emit("loaded", this)), this._isSourcePlaying() ? this._onPlayStart() : this.autoPlay && this.source.play());
          }, e.prototype.destroy = function () {
            this._isAutoUpdating && d.shared.remove(this.update, this), this.source && this.source._pixiId && (l.default.removeFromCache(this.source._pixiId), delete this.source._pixiId, this.source.pause(), this.source.src = "", this.source.load()), t.prototype.destroy.call(this);
          }, e.fromVideo = function (t, r, n) {
            t._pixiId || (t._pixiId = "video_" + (0, c.uid)());
            var i = c.BaseTextureCache[t._pixiId];
            return i || (i = new e(t, r, n), l.default.addToCache(i, t._pixiId)), i;
          }, e.fromUrl = function (t, r, n, i) {
            var o = document.createElement("video");
            o.setAttribute("webkit-playsinline", ""), o.setAttribute("playsinline", "");
            var s = Array.isArray(t) ? t[0].src || t[0] : t.src || t;
            if (void 0 === n && 0 !== s.indexOf("data:") ? o.crossOrigin = (0, v.default)(s) : n && (o.crossOrigin = "string" == typeof n ? n : "anonymous"), Array.isArray(t)) for (var u = 0; u < t.length; ++u) o.appendChild(a(t[u].src || t[u], t[u].mime));else o.appendChild(a(s, t.mime));
            return o.load(), e.fromVideo(o, r, i);
          }, u(e, [{
            key: "autoUpdate",
            get: function get() {
              return this._autoUpdate;
            },
            set: function set(t) {
              t !== this._autoUpdate && (this._autoUpdate = t, !this._autoUpdate && this._isAutoUpdating ? (d.shared.remove(this.update, this), this._isAutoUpdating = !1) : this._autoUpdate && !this._isAutoUpdating && (d.shared.add(this.update, this, f.UPDATE_PRIORITY.HIGH), this._isAutoUpdating = !0));
            }
          }]), e;
        }(l.default);
      r.default = g, g.fromUrls = g.fromUrl;
    }, {
      "../const": 46,
      "../ticker": 121,
      "../utils": 125,
      "../utils/determineCrossOrigin": 124,
      "./BaseTexture": 112
    }],
    119: [function (t, e, r) {
      "use strict";

      function n(t) {
        return t && t.__esModule ? t : {
          default: t
        };
      }
      function i(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      r.__esModule = !0;
      var o = function () {
          function t(t, e) {
            for (var r = 0; r < e.length; r++) {
              var n = e[r];
              n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n);
            }
          }
          return function (e, r, n) {
            return r && t(e.prototype, r), n && t(e, n), e;
          };
        }(),
        s = t("../settings"),
        a = n(s),
        u = t("../const"),
        h = t("./TickerListener"),
        l = n(h),
        c = function () {
          function t() {
            var e = this;
            i(this, t), this._head = new l.default(null, null, 1 / 0), this._requestId = null, this._maxElapsedMS = 100, this.autoStart = !1, this.deltaTime = 1, this.elapsedMS = 1 / a.default.TARGET_FPMS, this.lastTime = -1, this.speed = 1, this.started = !1, this._tick = function (t) {
              e._requestId = null, e.started && (e.update(t), e.started && null === e._requestId && e._head.next && (e._requestId = requestAnimationFrame(e._tick)));
            };
          }
          return t.prototype._requestIfNeeded = function () {
            null === this._requestId && this._head.next && (this.lastTime = performance.now(), this._requestId = requestAnimationFrame(this._tick));
          }, t.prototype._cancelIfNeeded = function () {
            null !== this._requestId && (cancelAnimationFrame(this._requestId), this._requestId = null);
          }, t.prototype._startIfPossible = function () {
            this.started ? this._requestIfNeeded() : this.autoStart && this.start();
          }, t.prototype.add = function (t, e) {
            var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : u.UPDATE_PRIORITY.NORMAL;
            return this._addListener(new l.default(t, e, r));
          }, t.prototype.addOnce = function (t, e) {
            var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : u.UPDATE_PRIORITY.NORMAL;
            return this._addListener(new l.default(t, e, r, !0));
          }, t.prototype._addListener = function (t) {
            var e = this._head.next,
              r = this._head;
            if (e) {
              for (; e;) {
                if (t.priority > e.priority) {
                  t.connect(r);
                  break;
                }
                r = e, e = e.next;
              }
              t.previous || t.connect(r);
            } else t.connect(r);
            return this._startIfPossible(), this;
          }, t.prototype.remove = function (t, e) {
            for (var r = this._head.next; r;) r = r.match(t, e) ? r.destroy() : r.next;
            return this._head.next || this._cancelIfNeeded(), this;
          }, t.prototype.start = function () {
            this.started || (this.started = !0, this._requestIfNeeded());
          }, t.prototype.stop = function () {
            this.started && (this.started = !1, this._cancelIfNeeded());
          }, t.prototype.destroy = function () {
            this.stop();
            for (var t = this._head.next; t;) t = t.destroy(!0);
            this._head.destroy(), this._head = null;
          }, t.prototype.update = function () {
            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : performance.now(),
              e = void 0;
            if (t > this.lastTime) {
              e = this.elapsedMS = t - this.lastTime, e > this._maxElapsedMS && (e = this._maxElapsedMS), this.deltaTime = e * a.default.TARGET_FPMS * this.speed;
              for (var r = this._head, n = r.next; n;) n = n.emit(this.deltaTime);
              r.next || this._cancelIfNeeded();
            } else this.deltaTime = this.elapsedMS = 0;
            this.lastTime = t;
          }, o(t, [{
            key: "FPS",
            get: function get() {
              return 1e3 / this.elapsedMS;
            }
          }, {
            key: "minFPS",
            get: function get() {
              return 1e3 / this._maxElapsedMS;
            },
            set: function set(t) {
              var e = Math.min(Math.max(0, t) / 1e3, a.default.TARGET_FPMS);
              this._maxElapsedMS = 1 / e;
            }
          }]), t;
        }();
      r.default = c;
    }, {
      "../const": 46,
      "../settings": 101,
      "./TickerListener": 120
    }],
    120: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      r.__esModule = !0;
      var i = function () {
        function t(e) {
          var r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null,
            i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
            o = arguments.length > 3 && void 0 !== arguments[3] && arguments[3];
          n(this, t), this.fn = e, this.context = r, this.priority = i, this.once = o, this.next = null, this.previous = null, this._destroyed = !1;
        }
        return t.prototype.match = function (t, e) {
          return e = e || null, this.fn === t && this.context === e;
        }, t.prototype.emit = function (t) {
          this.fn && (this.context ? this.fn.call(this.context, t) : this.fn(t));
          var e = this.next;
          return this.once && this.destroy(!0), this._destroyed && (this.next = null), e;
        }, t.prototype.connect = function (t) {
          this.previous = t, t.next && (t.next.previous = this), this.next = t.next, t.next = this;
        }, t.prototype.destroy = function () {
          var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
          this._destroyed = !0, this.fn = null, this.context = null, this.previous && (this.previous.next = this.next), this.next && (this.next.previous = this.previous);
          var e = this.next;
          return this.next = t ? null : e, this.previous = null, e;
        }, t;
      }();
      r.default = i;
    }, {}],
    121: [function (t, e, r) {
      "use strict";

      r.__esModule = !0, r.Ticker = r.shared = void 0;
      var n = t("./Ticker"),
        i = function (t) {
          return t && t.__esModule ? t : {
            default: t
          };
        }(n),
        o = new i.default();
      o.autoStart = !0, o.destroy = function () {}, r.shared = o, r.Ticker = i.default;
    }, {
      "./Ticker": 119
    }],
    122: [function (t, e, r) {
      "use strict";

      function n() {
        return !(!!navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform));
      }
      r.__esModule = !0, r.default = n;
    }, {}],
    123: [function (t, e, r) {
      "use strict";

      function n(t) {
        for (var e = 6 * t, r = new Uint16Array(e), n = 0, i = 0; n < e; n += 6, i += 4) r[n + 0] = i + 0, r[n + 1] = i + 1, r[n + 2] = i + 2, r[n + 3] = i + 0, r[n + 4] = i + 2, r[n + 5] = i + 3;
        return r;
      }
      r.__esModule = !0, r.default = n;
    }, {}],
    124: [function (t, e, r) {
      "use strict";

      function n(t) {
        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : window.location;
        if (0 === t.indexOf("data:")) return "";
        e = e || window.location, s || (s = document.createElement("a")), s.href = t, t = o.default.parse(s.href);
        var r = !t.port && "" === e.port || t.port === e.port;
        return t.hostname === e.hostname && r && t.protocol === e.protocol ? "" : "anonymous";
      }
      r.__esModule = !0, r.default = n;
      var i = t("url"),
        o = function (t) {
          return t && t.__esModule ? t : {
            default: t
          };
        }(i),
        s = void 0;
    }, {
      url: 38
    }],
    125: [function (t, e, r) {
      "use strict";

      function n(t) {
        if (t && t.__esModule) return t;
        var e = {};
        if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
        return e.default = t, e;
      }
      function i(t) {
        return t && t.__esModule ? t : {
          default: t
        };
      }
      function o() {
        return ++U;
      }
      function s(t, e) {
        return e = e || [], e[0] = (t >> 16 & 255) / 255, e[1] = (t >> 8 & 255) / 255, e[2] = (255 & t) / 255, e;
      }
      function a(t) {
        return t = t.toString(16), "#" + (t = "000000".substr(0, 6 - t.length) + t);
      }
      function u(t) {
        return (255 * t[0] << 16) + (255 * t[1] << 8) + (255 * t[2] | 0);
      }
      function h(t, e) {
        var r = S.default.RETINA_PREFIX.exec(t);
        return r ? parseFloat(r[1]) : void 0 !== e ? e : 1;
      }
      function l(t) {
        var e = w.DATA_URI.exec(t);
        if (e) return {
          mediaType: e[1] ? e[1].toLowerCase() : void 0,
          subType: e[2] ? e[2].toLowerCase() : void 0,
          charset: e[3] ? e[3].toLowerCase() : void 0,
          encoding: e[4] ? e[4].toLowerCase() : void 0,
          data: e[5]
        };
      }
      function c(t) {
        var e = w.URL_FILE_EXTENSION.exec(t);
        if (e) return e[1].toLowerCase();
      }
      function d(t) {
        var e = w.SVG_SIZE.exec(t),
          r = {};
        return e && (r[e[1]] = Math.round(parseFloat(e[3])), r[e[5]] = Math.round(parseFloat(e[7]))), r;
      }
      function f() {
        X = !0;
      }
      function p(t) {
        if (!X) {
          if (navigator.userAgent.toLowerCase().indexOf("chrome") > -1) {
            var e = ["\n %c %c %c PixiJS " + w.VERSION + " - ✰ " + t + " ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n", "background: #ff66a5; padding:5px 0;", "background: #ff66a5; padding:5px 0;", "color: #ff66a5; background: #030307; padding:5px 0;", "background: #ff66a5; padding:5px 0;", "background: #ffc3dc; padding:5px 0;", "background: #ff66a5; padding:5px 0;", "color: #ff2424; background: #fff; padding:5px 0;", "color: #ff2424; background: #fff; padding:5px 0;", "color: #ff2424; background: #fff; padding:5px 0;"];
            window.console.log.apply(console, e);
          } else window.console && window.console.log("PixiJS " + w.VERSION + " - " + t + " - http://www.pixijs.com/");
          X = !0;
        }
      }
      function v() {
        var t = {
          stencil: !0,
          failIfMajorPerformanceCaveat: !0
        };
        try {
          if (!window.WebGLRenderingContext) return !1;
          var e = document.createElement("canvas"),
            r = e.getContext("webgl", t) || e.getContext("experimental-webgl", t),
            n = !(!r || !r.getContextAttributes().stencil);
          if (r) {
            var i = r.getExtension("WEBGL_lose_context");
            i && i.loseContext();
          }
          return r = null, n;
        } catch (t) {
          return !1;
        }
      }
      function g(t) {
        return 0 === t ? 0 : t < 0 ? -1 : 1;
      }
      function y() {
        var t = void 0;
        for (t in G) G[t].destroy();
        for (t in W) W[t].destroy();
      }
      function m() {
        var t = void 0;
        for (t in G) delete G[t];
        for (t in W) delete W[t];
      }
      function _(t, e) {
        return H[e ? 1 : 0][t];
      }
      function b(t, e) {
        if (1 === e) return (255 * e << 24) + t;
        if (0 === e) return 0;
        var r = t >> 16 & 255,
          n = t >> 8 & 255,
          i = 255 & t;
        return r = r * e + .5 | 0, n = n * e + .5 | 0, i = i * e + .5 | 0, (255 * e << 24) + (r << 16) + (n << 8) + i;
      }
      function x(t, e, r, n) {
        return r = r || new Float32Array(4), n || void 0 === n ? (r[0] = t[0] * e, r[1] = t[1] * e, r[2] = t[2] * e) : (r[0] = t[0], r[1] = t[1], r[2] = t[2]), r[3] = e, r;
      }
      function T(t, e, r, n) {
        return r = r || new Float32Array(4), r[0] = (t >> 16 & 255) / 255, r[1] = (t >> 8 & 255) / 255, r[2] = (255 & t) / 255, (n || void 0 === n) && (r[0] *= e, r[1] *= e, r[2] *= e), r[3] = e, r;
      }
      r.__esModule = !0, r.premultiplyBlendMode = r.BaseTextureCache = r.TextureCache = r.earcut = r.mixins = r.pluginTarget = r.EventEmitter = r.removeItems = r.isMobile = void 0, r.uid = o, r.hex2rgb = s, r.hex2string = a, r.rgb2hex = u, r.getResolutionOfUrl = h, r.decomposeDataUri = l, r.getUrlFileExtension = c, r.getSvgSize = d, r.skipHello = f, r.sayHello = p, r.isWebGLSupported = v, r.sign = g, r.destroyTextureCache = y, r.clearTextureCache = m, r.correctBlendMode = _, r.premultiplyTint = b, r.premultiplyRgba = x, r.premultiplyTintToRgba = T;
      var w = t("../const"),
        E = t("../settings"),
        S = i(E),
        O = t("eventemitter3"),
        M = i(O),
        P = t("./pluginTarget"),
        C = i(P),
        R = t("./mixin"),
        A = n(R),
        I = t("ismobilejs"),
        D = n(I),
        L = t("remove-array-items"),
        N = i(L),
        B = t("./mapPremultipliedBlendModes"),
        k = i(B),
        F = t("earcut"),
        j = i(F),
        U = 0,
        X = !1;
      r.isMobile = D, r.removeItems = N.default, r.EventEmitter = M.default, r.pluginTarget = C.default, r.mixins = A, r.earcut = j.default;
      var G = r.TextureCache = Object.create(null),
        W = r.BaseTextureCache = Object.create(null),
        H = r.premultiplyBlendMode = (0, k.default)();
    }, {
      "../const": 46,
      "../settings": 101,
      "./mapPremultipliedBlendModes": 126,
      "./mixin": 128,
      "./pluginTarget": 129,
      earcut: 2,
      eventemitter3: 3,
      ismobilejs: 4,
      "remove-array-items": 31
    }],
    126: [function (t, e, r) {
      "use strict";

      function n() {
        for (var t = [], e = [], r = 0; r < 32; r++) t[r] = r, e[r] = r;
        t[i.BLEND_MODES.NORMAL_NPM] = i.BLEND_MODES.NORMAL, t[i.BLEND_MODES.ADD_NPM] = i.BLEND_MODES.ADD, t[i.BLEND_MODES.SCREEN_NPM] = i.BLEND_MODES.SCREEN, e[i.BLEND_MODES.NORMAL] = i.BLEND_MODES.NORMAL_NPM, e[i.BLEND_MODES.ADD] = i.BLEND_MODES.ADD_NPM, e[i.BLEND_MODES.SCREEN] = i.BLEND_MODES.SCREEN_NPM;
        var n = [];
        return n.push(e), n.push(t), n;
      }
      r.__esModule = !0, r.default = n;
      var i = t("../const");
    }, {
      "../const": 46
    }],
    127: [function (t, e, r) {
      "use strict";

      function n(t) {
        return o.default.tablet || o.default.phone ? 4 : t;
      }
      r.__esModule = !0, r.default = n;
      var i = t("ismobilejs"),
        o = function (t) {
          return t && t.__esModule ? t : {
            default: t
          };
        }(i);
    }, {
      ismobilejs: 4
    }],
    128: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (t && e) for (var r = Object.keys(e), n = 0; n < r.length; ++n) {
          var i = r[n];
          Object.defineProperty(t, i, Object.getOwnPropertyDescriptor(e, i));
        }
      }
      function i(t, e) {
        s.push(t, e);
      }
      function o() {
        for (var t = 0; t < s.length; t += 2) n(s[t], s[t + 1]);
        s.length = 0;
      }
      r.__esModule = !0, r.mixin = n, r.delayMixin = i, r.performMixins = o;
      var s = [];
    }, {}],
    129: [function (t, e, r) {
      "use strict";

      function n(t) {
        t.__plugins = {}, t.registerPlugin = function (e, r) {
          t.__plugins[e] = r;
        }, t.prototype.initPlugins = function () {
          this.plugins = this.plugins || {};
          for (var e in t.__plugins) this.plugins[e] = new t.__plugins[e](this);
        }, t.prototype.destroyPlugins = function () {
          for (var t in this.plugins) this.plugins[t].destroy(), this.plugins[t] = null;
          this.plugins = null;
        };
      }
      r.__esModule = !0, r.default = {
        mixin: function mixin(t) {
          n(t);
        }
      };
    }, {}],
    130: [function (t, e, r) {
      "use strict";

      function n(t) {
        var e = t.width,
          r = t.height,
          n = t.getContext("2d"),
          i = n.getImageData(0, 0, e, r),
          o = i.data,
          s = o.length,
          a = {
            top: null,
            left: null,
            right: null,
            bottom: null
          },
          u = null,
          h = void 0,
          l = void 0,
          c = void 0;
        for (h = 0; h < s; h += 4) 0 !== o[h + 3] && (l = h / 4 % e, c = ~~(h / 4 / e), null === a.top && (a.top = c), null === a.left ? a.left = l : l < a.left && (a.left = l), null === a.right ? a.right = l + 1 : a.right < l && (a.right = l + 1), null === a.bottom ? a.bottom = c : a.bottom < c && (a.bottom = c));
        return null !== a.top && (e = a.right - a.left, r = a.bottom - a.top + 1, u = n.getImageData(a.left, a.top, e, r)), {
          height: r,
          width: e,
          data: u
        };
      }
      r.__esModule = !0, r.default = n;
    }, {}],
    131: [function (t, e, r) {
      "use strict";

      function n(t) {
        if (!o[t]) {
          var e = new Error().stack;
          void 0 === e ? console.warn("Deprecation Warning: ", t) : (e = e.split("\n").splice(3).join("\n"), console.groupCollapsed ? (console.groupCollapsed("%cDeprecation Warning: %c%s", "color:#614108;background:#fffbe6", "font-weight:normal;color:#614108;background:#fffbe6", t), console.warn(e), console.groupEnd()) : (console.warn("Deprecation Warning: ", t), console.warn(e))), o[t] = !0;
        }
      }
      function i(t) {
        var e = t.mesh,
          r = t.particles,
          i = t.extras,
          o = t.filters,
          s = t.prepare,
          a = t.loaders,
          u = t.interaction;
        Object.defineProperties(t, {
          SpriteBatch: {
            get: function get() {
              throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.");
            }
          },
          AssetLoader: {
            get: function get() {
              throw new ReferenceError("The loader system was overhauled in PixiJS v3, please see the new PIXI.loaders.Loader class.");
            }
          },
          Stage: {
            get: function get() {
              return n("You do not need to use a PIXI Stage any more, you can simply render any container."), t.Container;
            }
          },
          DisplayObjectContainer: {
            get: function get() {
              return n("DisplayObjectContainer has been shortened to Container, please use Container from now on."), t.Container;
            }
          },
          Strip: {
            get: function get() {
              return n("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."), e.Mesh;
            }
          },
          Rope: {
            get: function get() {
              return n("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."), e.Rope;
            }
          },
          ParticleContainer: {
            get: function get() {
              return n("The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on."), r.ParticleContainer;
            }
          },
          MovieClip: {
            get: function get() {
              return n("The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite."), i.AnimatedSprite;
            }
          },
          TilingSprite: {
            get: function get() {
              return n("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."), i.TilingSprite;
            }
          },
          BitmapText: {
            get: function get() {
              return n("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."), i.BitmapText;
            }
          },
          blendModes: {
            get: function get() {
              return n("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."), t.BLEND_MODES;
            }
          },
          scaleModes: {
            get: function get() {
              return n("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."), t.SCALE_MODES;
            }
          },
          BaseTextureCache: {
            get: function get() {
              return n("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."), t.utils.BaseTextureCache;
            }
          },
          TextureCache: {
            get: function get() {
              return n("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."), t.utils.TextureCache;
            }
          },
          math: {
            get: function get() {
              return n("The math namespace is deprecated, please access members already accessible on PIXI."), t;
            }
          },
          AbstractFilter: {
            get: function get() {
              return n("AstractFilter has been renamed to Filter, please use PIXI.Filter"), t.Filter;
            }
          },
          TransformManual: {
            get: function get() {
              return n("TransformManual has been renamed to TransformBase, please update your pixi-spine"), t.TransformBase;
            }
          },
          TARGET_FPMS: {
            get: function get() {
              return n("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"), t.settings.TARGET_FPMS;
            },
            set: function set(e) {
              n("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"), t.settings.TARGET_FPMS = e;
            }
          },
          FILTER_RESOLUTION: {
            get: function get() {
              return n("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"), t.settings.FILTER_RESOLUTION;
            },
            set: function set(e) {
              n("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"), t.settings.FILTER_RESOLUTION = e;
            }
          },
          RESOLUTION: {
            get: function get() {
              return n("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"), t.settings.RESOLUTION;
            },
            set: function set(e) {
              n("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"), t.settings.RESOLUTION = e;
            }
          },
          MIPMAP_TEXTURES: {
            get: function get() {
              return n("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"), t.settings.MIPMAP_TEXTURES;
            },
            set: function set(e) {
              n("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"), t.settings.MIPMAP_TEXTURES = e;
            }
          },
          SPRITE_BATCH_SIZE: {
            get: function get() {
              return n("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"), t.settings.SPRITE_BATCH_SIZE;
            },
            set: function set(e) {
              n("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"), t.settings.SPRITE_BATCH_SIZE = e;
            }
          },
          SPRITE_MAX_TEXTURES: {
            get: function get() {
              return n("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"), t.settings.SPRITE_MAX_TEXTURES;
            },
            set: function set(e) {
              n("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"), t.settings.SPRITE_MAX_TEXTURES = e;
            }
          },
          RETINA_PREFIX: {
            get: function get() {
              return n("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"), t.settings.RETINA_PREFIX;
            },
            set: function set(e) {
              n("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"), t.settings.RETINA_PREFIX = e;
            }
          },
          DEFAULT_RENDER_OPTIONS: {
            get: function get() {
              return n("PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS"), t.settings.RENDER_OPTIONS;
            }
          }
        });
        for (var h = [{
            parent: "TRANSFORM_MODE",
            target: "TRANSFORM_MODE"
          }, {
            parent: "GC_MODES",
            target: "GC_MODE"
          }, {
            parent: "WRAP_MODES",
            target: "WRAP_MODE"
          }, {
            parent: "SCALE_MODES",
            target: "SCALE_MODE"
          }, {
            parent: "PRECISION",
            target: "PRECISION_FRAGMENT"
          }], l = 0; l < h.length; l++) !function (e) {
          var r = h[e];
          Object.defineProperty(t[r.parent], "DEFAULT", {
            get: function get() {
              return n("PIXI." + r.parent + ".DEFAULT has been deprecated, please use PIXI.settings." + r.target), t.settings[r.target];
            },
            set: function set(e) {
              n("PIXI." + r.parent + ".DEFAULT has been deprecated, please use PIXI.settings." + r.target), t.settings[r.target] = e;
            }
          });
        }(l);
        Object.defineProperties(t.settings, {
          PRECISION: {
            get: function get() {
              return n("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"), t.settings.PRECISION_FRAGMENT;
            },
            set: function set(e) {
              n("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"), t.settings.PRECISION_FRAGMENT = e;
            }
          }
        }), i.AnimatedSprite && Object.defineProperties(i, {
          MovieClip: {
            get: function get() {
              return n("The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on."), i.AnimatedSprite;
            }
          }
        }), i && Object.defineProperties(i, {
          TextureTransform: {
            get: function get() {
              return n("The TextureTransform class has been renamed to TextureMatrix, please use PIXI.TextureMatrix from now on."), t.TextureMatrix;
            }
          }
        }), t.DisplayObject.prototype.generateTexture = function (t, e, r) {
          return n("generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)"), t.generateTexture(this, e, r);
        }, t.Graphics.prototype.generateTexture = function (t, e) {
          return n("graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture"), this.generateCanvasTexture(t, e);
        }, t.GroupD8.isSwapWidthHeight = function (e) {
          return n("GroupD8.isSwapWidthHeight was renamed to GroupD8.isVertical"), t.GroupD8.isVertical(e);
        }, t.RenderTexture.prototype.render = function (t, e, r, i) {
          this.legacyRenderer.render(t, this, r, e, !i), n("RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)");
        }, t.RenderTexture.prototype.getImage = function (t) {
          return n("RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)"), this.legacyRenderer.extract.image(t);
        }, t.RenderTexture.prototype.getBase64 = function (t) {
          return n("RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)"), this.legacyRenderer.extract.base64(t);
        }, t.RenderTexture.prototype.getCanvas = function (t) {
          return n("RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)"), this.legacyRenderer.extract.canvas(t);
        }, t.RenderTexture.prototype.getPixels = function (t) {
          return n("RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)"), this.legacyRenderer.pixels(t);
        }, t.Sprite.prototype.setTexture = function (t) {
          this.texture = t, n("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;");
        }, i.BitmapText && (i.BitmapText.prototype.setText = function (t) {
          this.text = t, n("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';");
        }), t.Text.prototype.setText = function (t) {
          this.text = t, n("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';");
        }, t.Text.calculateFontProperties = function (e) {
          return n("Text.calculateFontProperties is now deprecated, please use the TextMetrics.measureFont"), t.TextMetrics.measureFont(e);
        }, Object.defineProperties(t.Text, {
          fontPropertiesCache: {
            get: function get() {
              return n("Text.fontPropertiesCache is deprecated"), t.TextMetrics._fonts;
            }
          },
          fontPropertiesCanvas: {
            get: function get() {
              return n("Text.fontPropertiesCanvas is deprecated"), t.TextMetrics._canvas;
            }
          },
          fontPropertiesContext: {
            get: function get() {
              return n("Text.fontPropertiesContext is deprecated"), t.TextMetrics._context;
            }
          }
        }), t.Text.prototype.setStyle = function (t) {
          this.style = t, n("setStyle is now deprecated, please use the style property, e.g : myText.style = style;");
        }, t.Text.prototype.determineFontProperties = function (e) {
          return n("determineFontProperties is now deprecated, please use TextMetrics.measureFont method"), t.TextMetrics.measureFont(e);
        }, t.Text.getFontStyle = function (e) {
          return n("getFontStyle is now deprecated, please use TextStyle.toFontString() instead"), e = e || {}, e instanceof t.TextStyle || (e = new t.TextStyle(e)), e.toFontString();
        }, Object.defineProperties(t.TextStyle.prototype, {
          font: {
            get: function get() {
              n("text style property 'font' is now deprecated, please use the 'fontFamily', 'fontSize', 'fontStyle', 'fontVariant' and 'fontWeight' properties from now on");
              var t = "number" == typeof this._fontSize ? this._fontSize + "px" : this._fontSize;
              return this._fontStyle + " " + this._fontVariant + " " + this._fontWeight + " " + t + " " + this._fontFamily;
            },
            set: function set(t) {
              n("text style property 'font' is now deprecated, please use the 'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on"), t.indexOf("italic") > 1 ? this._fontStyle = "italic" : t.indexOf("oblique") > -1 ? this._fontStyle = "oblique" : this._fontStyle = "normal", t.indexOf("small-caps") > -1 ? this._fontVariant = "small-caps" : this._fontVariant = "normal";
              var e = t.split(" "),
                r = -1;
              this._fontSize = 26;
              for (var i = 0; i < e.length; ++i) if (e[i].match(/(px|pt|em|%)/)) {
                r = i, this._fontSize = e[i];
                break;
              }
              this._fontWeight = "normal";
              for (var o = 0; o < r; ++o) if (e[o].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)) {
                this._fontWeight = e[o];
                break;
              }
              if (r > -1 && r < e.length - 1) {
                this._fontFamily = "";
                for (var s = r + 1; s < e.length; ++s) this._fontFamily += e[s] + " ";
                this._fontFamily = this._fontFamily.slice(0, -1);
              } else this._fontFamily = "Arial";
              this.styleID++;
            }
          }
        }), t.Texture.prototype.setFrame = function (t) {
          this.frame = t, n("setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;");
        }, t.Texture.addTextureToCache = function (e, r) {
          t.Texture.addToCache(e, r), n("Texture.addTextureToCache is deprecated, please use Texture.addToCache from now on.");
        }, t.Texture.removeTextureFromCache = function (e) {
          return n("Texture.removeTextureFromCache is deprecated, please use Texture.removeFromCache from now on. Be aware that Texture.removeFromCache does not automatically its BaseTexture from the BaseTextureCache. For that, use BaseTexture.removeFromCache"), t.BaseTexture.removeFromCache(e), t.Texture.removeFromCache(e);
        }, Object.defineProperties(o, {
          AbstractFilter: {
            get: function get() {
              return n("AstractFilter has been renamed to Filter, please use PIXI.Filter"), t.AbstractFilter;
            }
          },
          SpriteMaskFilter: {
            get: function get() {
              return n("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."), t.SpriteMaskFilter;
            }
          },
          VoidFilter: {
            get: function get() {
              return n("VoidFilter has been renamed to AlphaFilter, please use PIXI.filters.AlphaFilter"), o.AlphaFilter;
            }
          }
        }), t.utils.uuid = function () {
          return n("utils.uuid() is deprecated, please use utils.uid() from now on."), t.utils.uid();
        }, t.utils.canUseNewCanvasBlendModes = function () {
          return n("utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on"), t.CanvasTinter.canUseMultiply;
        };
        var c = !0;
        if (Object.defineProperty(t.utils, "_saidHello", {
          set: function set(t) {
            t && (n("PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()"), this.skipHello()), c = t;
          },
          get: function get() {
            return c;
          }
        }), s.BasePrepare && (s.BasePrepare.prototype.register = function (t, e) {
          return n("renderer.plugins.prepare.register is now deprecated, please use renderer.plugins.prepare.registerFindHook & renderer.plugins.prepare.registerUploadHook"), t && this.registerFindHook(t), e && this.registerUploadHook(e), this;
        }), s.canvas && Object.defineProperty(s.canvas, "UPLOADS_PER_FRAME", {
          set: function set() {
            n("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer");
          },
          get: function get() {
            return n("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"), NaN;
          }
        }), s.webgl && Object.defineProperty(s.webgl, "UPLOADS_PER_FRAME", {
          set: function set() {
            n("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer");
          },
          get: function get() {
            return n("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"), NaN;
          }
        }), a.Loader) {
          var d = a.Resource,
            f = a.Loader;
          Object.defineProperties(d.prototype, {
            isJson: {
              get: function get() {
                return n("The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`."), this.type === d.TYPE.JSON;
              }
            },
            isXml: {
              get: function get() {
                return n("The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`."), this.type === d.TYPE.XML;
              }
            },
            isImage: {
              get: function get() {
                return n("The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`."), this.type === d.TYPE.IMAGE;
              }
            },
            isAudio: {
              get: function get() {
                return n("The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`."), this.type === d.TYPE.AUDIO;
              }
            },
            isVideo: {
              get: function get() {
                return n("The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`."), this.type === d.TYPE.VIDEO;
              }
            }
          }), Object.defineProperties(f.prototype, {
            before: {
              get: function get() {
                return n("The before() method is deprecated, please use pre()."), this.pre;
              }
            },
            after: {
              get: function get() {
                return n("The after() method is deprecated, please use use()."), this.use;
              }
            }
          });
        }
        u.interactiveTarget && Object.defineProperty(u.interactiveTarget, "defaultCursor", {
          set: function set(t) {
            n("Property defaultCursor has been replaced with 'cursor'. "), this.cursor = t;
          },
          get: function get() {
            return n("Property defaultCursor has been replaced with 'cursor'. "), this.cursor;
          }
        }), u.InteractionManager && (Object.defineProperty(u.InteractionManager, "defaultCursorStyle", {
          set: function set(t) {
            n("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "), this.cursorStyles.default = t;
          },
          get: function get() {
            return n("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "), this.cursorStyles.default;
          }
        }), Object.defineProperty(u.InteractionManager, "currentCursorStyle", {
          set: function set(t) {
            n("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."), this.currentCursorMode = t;
          },
          get: function get() {
            return n("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."), this.currentCursorMode;
          }
        }));
      }
      r.__esModule = !0, r.default = i;
      var o = {};
    }, {}],
    132: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      r.__esModule = !0;
      var i = t("../../core"),
        o = function (t) {
          if (t && t.__esModule) return t;
          var e = {};
          if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
          return e.default = t, e;
        }(i),
        s = new o.Rectangle(),
        a = function () {
          function t(e) {
            n(this, t), this.renderer = e, e.extract = this;
          }
          return t.prototype.image = function (t) {
            var e = new Image();
            return e.src = this.base64(t), e;
          }, t.prototype.base64 = function (t) {
            return this.canvas(t).toDataURL();
          }, t.prototype.canvas = function (t) {
            var e = this.renderer,
              r = void 0,
              n = void 0,
              i = void 0,
              a = void 0;
            t && (a = t instanceof o.RenderTexture ? t : e.generateTexture(t)), a ? (r = a.baseTexture._canvasRenderTarget.context, n = a.baseTexture._canvasRenderTarget.resolution, i = a.frame) : (r = e.rootContext, n = e.resolution, i = s, i.width = this.renderer.width, i.height = this.renderer.height);
            var u = i.width * n,
              h = i.height * n,
              l = new o.CanvasRenderTarget(u, h, 1),
              c = r.getImageData(i.x * n, i.y * n, u, h);
            return l.context.putImageData(c, 0, 0), l.canvas;
          }, t.prototype.pixels = function (t) {
            var e = this.renderer,
              r = void 0,
              n = void 0,
              i = void 0,
              a = void 0;
            return t && (a = t instanceof o.RenderTexture ? t : e.generateTexture(t)), a ? (r = a.baseTexture._canvasRenderTarget.context, n = a.baseTexture._canvasRenderTarget.resolution, i = a.frame) : (r = e.rootContext, i = s, i.width = e.width, i.height = e.height), r.getImageData(0, 0, i.width * n, i.height * n).data;
          }, t.prototype.destroy = function () {
            this.renderer.extract = null, this.renderer = null;
          }, t;
        }();
      r.default = a, o.CanvasRenderer.registerPlugin("extract", a);
    }, {
      "../../core": 65
    }],
    133: [function (t, e, r) {
      "use strict";

      function n(t) {
        return t && t.__esModule ? t : {
          default: t
        };
      }
      r.__esModule = !0;
      var i = t("./webgl/WebGLExtract");
      Object.defineProperty(r, "webgl", {
        enumerable: !0,
        get: function get() {
          return n(i).default;
        }
      });
      var o = t("./canvas/CanvasExtract");
      Object.defineProperty(r, "canvas", {
        enumerable: !0,
        get: function get() {
          return n(o).default;
        }
      });
    }, {
      "./canvas/CanvasExtract": 132,
      "./webgl/WebGLExtract": 134
    }],
    134: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      r.__esModule = !0;
      var i = t("../../core"),
        o = function (t) {
          if (t && t.__esModule) return t;
          var e = {};
          if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
          return e.default = t, e;
        }(i),
        s = new o.Rectangle(),
        a = function () {
          function t(e) {
            n(this, t), this.renderer = e, e.extract = this;
          }
          return t.prototype.image = function (t) {
            var e = new Image();
            return e.src = this.base64(t), e;
          }, t.prototype.base64 = function (t) {
            return this.canvas(t).toDataURL();
          }, t.prototype.canvas = function (t) {
            var e = this.renderer,
              r = void 0,
              n = void 0,
              i = void 0,
              a = !1,
              u = void 0,
              h = !1;
            t && (t instanceof o.RenderTexture ? u = t : (u = this.renderer.generateTexture(t), h = !0)), u ? (r = u.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID], n = r.resolution, i = u.frame, a = !1) : (r = this.renderer.rootRenderTarget, n = r.resolution, a = !0, i = s, i.width = r.size.width, i.height = r.size.height);
            var l = i.width * n,
              c = i.height * n,
              d = new o.CanvasRenderTarget(l, c, 1);
            if (r) {
              e.bindRenderTarget(r);
              var f = new Uint8Array(4 * l * c),
                p = e.gl;
              p.readPixels(i.x * n, i.y * n, l, c, p.RGBA, p.UNSIGNED_BYTE, f);
              var v = d.context.getImageData(0, 0, l, c);
              v.data.set(f), d.context.putImageData(v, 0, 0), a && (d.context.scale(1, -1), d.context.drawImage(d.canvas, 0, -c));
            }
            return h && u.destroy(!0), d.canvas;
          }, t.prototype.pixels = function (t) {
            var e = this.renderer,
              r = void 0,
              n = void 0,
              i = void 0,
              a = void 0,
              u = !1;
            t && (t instanceof o.RenderTexture ? a = t : (a = this.renderer.generateTexture(t), u = !0)), a ? (r = a.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID], n = r.resolution, i = a.frame) : (r = this.renderer.rootRenderTarget, n = r.resolution, i = s, i.width = r.size.width, i.height = r.size.height);
            var h = i.width * n,
              l = i.height * n,
              c = new Uint8Array(4 * h * l);
            if (r) {
              e.bindRenderTarget(r);
              var d = e.gl;
              d.readPixels(i.x * n, i.y * n, h, l, d.RGBA, d.UNSIGNED_BYTE, c);
            }
            return u && a.destroy(!0), c;
          }, t.prototype.destroy = function () {
            this.renderer.extract = null, this.renderer = null;
          }, t;
        }();
      r.default = a, o.WebGLRenderer.registerPlugin("extract", a);
    }, {
      "../../core": 65
    }],
    135: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      function i(t, e) {
        if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !e || "object" != _typeof(e) && "function" != typeof e ? t : e;
      }
      function o(t, e) {
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + _typeof(e));
        t.prototype = Object.create(e && e.prototype, {
          constructor: {
            value: t,
            enumerable: !1,
            writable: !0,
            configurable: !0
          }
        }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e);
      }
      r.__esModule = !0;
      var s = function () {
          function t(t, e) {
            for (var r = 0; r < e.length; r++) {
              var n = e[r];
              n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n);
            }
          }
          return function (e, r, n) {
            return r && t(e.prototype, r), n && t(e, n), e;
          };
        }(),
        a = t("../core"),
        u = function (t) {
          if (t && t.__esModule) return t;
          var e = {};
          if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
          return e.default = t, e;
        }(a),
        h = function (t) {
          function e(r, o) {
            n(this, e);
            var s = i(this, t.call(this, r[0] instanceof u.Texture ? r[0] : r[0].texture));
            return s._textures = null, s._durations = null, s.textures = r, s._autoUpdate = !1 !== o, s.animationSpeed = 1, s.loop = !0, s.updateAnchor = !1, s.onComplete = null, s.onFrameChange = null, s.onLoop = null, s._currentTime = 0, s.playing = !1, s;
          }
          return o(e, t), e.prototype.stop = function () {
            this.playing && (this.playing = !1, this._autoUpdate && u.ticker.shared.remove(this.update, this));
          }, e.prototype.play = function () {
            this.playing || (this.playing = !0, this._autoUpdate && u.ticker.shared.add(this.update, this, u.UPDATE_PRIORITY.HIGH));
          }, e.prototype.gotoAndStop = function (t) {
            this.stop();
            var e = this.currentFrame;
            this._currentTime = t, e !== this.currentFrame && this.updateTexture();
          }, e.prototype.gotoAndPlay = function (t) {
            var e = this.currentFrame;
            this._currentTime = t, e !== this.currentFrame && this.updateTexture(), this.play();
          }, e.prototype.update = function (t) {
            var e = this.animationSpeed * t,
              r = this.currentFrame;
            if (null !== this._durations) {
              var n = this._currentTime % 1 * this._durations[this.currentFrame];
              for (n += e / 60 * 1e3; n < 0;) this._currentTime--, n += this._durations[this.currentFrame];
              var i = Math.sign(this.animationSpeed * t);
              for (this._currentTime = Math.floor(this._currentTime); n >= this._durations[this.currentFrame];) n -= this._durations[this.currentFrame] * i, this._currentTime += i;
              this._currentTime += n / this._durations[this.currentFrame];
            } else this._currentTime += e;
            this._currentTime < 0 && !this.loop ? (this.gotoAndStop(0), this.onComplete && this.onComplete()) : this._currentTime >= this._textures.length && !this.loop ? (this.gotoAndStop(this._textures.length - 1), this.onComplete && this.onComplete()) : r !== this.currentFrame && (this.loop && this.onLoop && (this.animationSpeed > 0 && this.currentFrame < r ? this.onLoop() : this.animationSpeed < 0 && this.currentFrame > r && this.onLoop()), this.updateTexture());
          }, e.prototype.updateTexture = function () {
            this._texture = this._textures[this.currentFrame], this._textureID = -1, this.cachedTint = 16777215, this.updateAnchor && this._anchor.copy(this._texture.defaultAnchor), this.onFrameChange && this.onFrameChange(this.currentFrame);
          }, e.prototype.destroy = function (e) {
            this.stop(), t.prototype.destroy.call(this, e);
          }, e.fromFrames = function (t) {
            for (var r = [], n = 0; n < t.length; ++n) r.push(u.Texture.fromFrame(t[n]));
            return new e(r);
          }, e.fromImages = function (t) {
            for (var r = [], n = 0; n < t.length; ++n) r.push(u.Texture.fromImage(t[n]));
            return new e(r);
          }, s(e, [{
            key: "totalFrames",
            get: function get() {
              return this._textures.length;
            }
          }, {
            key: "textures",
            get: function get() {
              return this._textures;
            },
            set: function set(t) {
              if (t[0] instanceof u.Texture) this._textures = t, this._durations = null;else {
                this._textures = [], this._durations = [];
                for (var e = 0; e < t.length; e++) this._textures.push(t[e].texture), this._durations.push(t[e].time);
              }
              this.gotoAndStop(0), this.updateTexture();
            }
          }, {
            key: "currentFrame",
            get: function get() {
              var t = Math.floor(this._currentTime) % this._textures.length;
              return t < 0 && (t += this._textures.length), t;
            }
          }]), e;
        }(u.Sprite);
      r.default = h;
    }, {
      "../core": 65
    }],
    136: [function (t, e, r) {
      "use strict";

      function n(t) {
        return t && t.__esModule ? t : {
          default: t
        };
      }
      function i(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      function o(t, e) {
        if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !e || "object" != _typeof(e) && "function" != typeof e ? t : e;
      }
      function s(t, e) {
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + _typeof(e));
        t.prototype = Object.create(e && e.prototype, {
          constructor: {
            value: t,
            enumerable: !1,
            writable: !0,
            configurable: !0
          }
        }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e);
      }
      r.__esModule = !0;
      var a = function () {
          function t(t, e) {
            for (var r = 0; r < e.length; r++) {
              var n = e[r];
              n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n);
            }
          }
          return function (e, r, n) {
            return r && t(e.prototype, r), n && t(e, n), e;
          };
        }(),
        u = t("../core"),
        h = function (t) {
          if (t && t.__esModule) return t;
          var e = {};
          if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
          return e.default = t, e;
        }(u),
        l = t("../core/math/ObservablePoint"),
        c = n(l),
        d = t("../core/utils"),
        f = t("../core/settings"),
        p = n(f),
        v = function (t) {
          function e(r) {
            var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            i(this, e);
            var s = o(this, t.call(this));
            return s._textWidth = 0, s._textHeight = 0, s._glyphs = [], s._font = {
              tint: void 0 !== n.tint ? n.tint : 16777215,
              align: n.align || "left",
              name: null,
              size: 0
            }, s.font = n.font, s._text = r, s._maxWidth = 0, s._maxLineHeight = 0, s._letterSpacing = 0, s._anchor = new c.default(function () {
              s.dirty = !0;
            }, s, 0, 0), s.dirty = !1, s.updateText(), s;
          }
          return s(e, t), e.prototype.updateText = function () {
            for (var t = e.fonts[this._font.name], r = this._font.size / t.size, n = new h.Point(), i = [], o = [], s = this.text.replace(/(?:\r\n|\r)/g, "\n"), a = s.length, u = this._maxWidth * t.size / this._font.size, l = null, c = 0, d = 0, f = 0, p = -1, v = 0, g = 0, y = 0, m = 0; m < a; m++) {
              var _ = s.charCodeAt(m),
                b = s.charAt(m);
              if (/(?:\s)/.test(b) && (p = m, v = c), "\r" !== b && "\n" !== b) {
                var x = t.chars[_];
                x && (l && x.kerning[l] && (n.x += x.kerning[l]), i.push({
                  texture: x.texture,
                  line: f,
                  charCode: _,
                  position: new h.Point(n.x + x.xOffset + this._letterSpacing / 2, n.y + x.yOffset)
                }), n.x += x.xAdvance + this._letterSpacing, c = n.x, y = Math.max(y, x.yOffset + x.texture.height), l = _, -1 !== p && u > 0 && n.x > u && (++g, h.utils.removeItems(i, 1 + p - g, 1 + m - p), m = p, p = -1, o.push(v), d = Math.max(d, v), f++, n.x = 0, n.y += t.lineHeight, l = null));
              } else o.push(c), d = Math.max(d, c), ++f, ++g, n.x = 0, n.y += t.lineHeight, l = null;
            }
            var T = s.charAt(s.length - 1);
            "\r" !== T && "\n" !== T && (/(?:\s)/.test(T) && (c = v), o.push(c), d = Math.max(d, c));
            for (var w = [], E = 0; E <= f; E++) {
              var S = 0;
              "right" === this._font.align ? S = d - o[E] : "center" === this._font.align && (S = (d - o[E]) / 2), w.push(S);
            }
            for (var O = i.length, M = this.tint, P = 0; P < O; P++) {
              var C = this._glyphs[P];
              C ? C.texture = i[P].texture : (C = new h.Sprite(i[P].texture), this._glyphs.push(C)), C.position.x = (i[P].position.x + w[i[P].line]) * r, C.position.y = i[P].position.y * r, C.scale.x = C.scale.y = r, C.tint = M, C.parent || this.addChild(C);
            }
            for (var R = O; R < this._glyphs.length; ++R) this.removeChild(this._glyphs[R]);
            if (this._textWidth = d * r, this._textHeight = (n.y + t.lineHeight) * r, 0 !== this.anchor.x || 0 !== this.anchor.y) for (var A = 0; A < O; A++) this._glyphs[A].x -= this._textWidth * this.anchor.x, this._glyphs[A].y -= this._textHeight * this.anchor.y;
            this._maxLineHeight = y * r;
          }, e.prototype.updateTransform = function () {
            this.validate(), this.containerUpdateTransform();
          }, e.prototype.getLocalBounds = function () {
            return this.validate(), t.prototype.getLocalBounds.call(this);
          }, e.prototype.validate = function () {
            this.dirty && (this.updateText(), this.dirty = !1);
          }, e.registerFont = function (t, r) {
            var n = {},
              i = t.getElementsByTagName("info")[0],
              o = t.getElementsByTagName("common")[0],
              s = t.getElementsByTagName("page"),
              a = (0, d.getResolutionOfUrl)(s[0].getAttribute("file"), p.default.RESOLUTION),
              u = {};
            n.font = i.getAttribute("face"), n.size = parseInt(i.getAttribute("size"), 10), n.lineHeight = parseInt(o.getAttribute("lineHeight"), 10) / a, n.chars = {}, r instanceof h.Texture && (r = [r]);
            for (var l = 0; l < s.length; l++) {
              var c = s[l].getAttribute("id"),
                f = s[l].getAttribute("file");
              u[c] = r instanceof Array ? r[l] : r[f];
            }
            for (var v = t.getElementsByTagName("char"), g = 0; g < v.length; g++) {
              var y = v[g],
                m = parseInt(y.getAttribute("id"), 10),
                _ = y.getAttribute("page") || 0,
                b = new h.Rectangle(parseInt(y.getAttribute("x"), 10) / a + u[_].frame.x / a, parseInt(y.getAttribute("y"), 10) / a + u[_].frame.y / a, parseInt(y.getAttribute("width"), 10) / a, parseInt(y.getAttribute("height"), 10) / a);
              n.chars[m] = {
                xOffset: parseInt(y.getAttribute("xoffset"), 10) / a,
                yOffset: parseInt(y.getAttribute("yoffset"), 10) / a,
                xAdvance: parseInt(y.getAttribute("xadvance"), 10) / a,
                kerning: {},
                texture: new h.Texture(u[_].baseTexture, b),
                page: _
              };
            }
            for (var x = t.getElementsByTagName("kerning"), T = 0; T < x.length; T++) {
              var w = x[T],
                E = parseInt(w.getAttribute("first"), 10) / a,
                S = parseInt(w.getAttribute("second"), 10) / a,
                O = parseInt(w.getAttribute("amount"), 10) / a;
              n.chars[S] && (n.chars[S].kerning[E] = O);
            }
            return e.fonts[n.font] = n, n;
          }, a(e, [{
            key: "tint",
            get: function get() {
              return this._font.tint;
            },
            set: function set(t) {
              this._font.tint = "number" == typeof t && t >= 0 ? t : 16777215, this.dirty = !0;
            }
          }, {
            key: "align",
            get: function get() {
              return this._font.align;
            },
            set: function set(t) {
              this._font.align = t || "left", this.dirty = !0;
            }
          }, {
            key: "anchor",
            get: function get() {
              return this._anchor;
            },
            set: function set(t) {
              "number" == typeof t ? this._anchor.set(t) : this._anchor.copy(t);
            }
          }, {
            key: "font",
            get: function get() {
              return this._font;
            },
            set: function set(t) {
              t && ("string" == typeof t ? (t = t.split(" "), this._font.name = 1 === t.length ? t[0] : t.slice(1).join(" "), this._font.size = t.length >= 2 ? parseInt(t[0], 10) : e.fonts[this._font.name].size) : (this._font.name = t.name, this._font.size = "number" == typeof t.size ? t.size : parseInt(t.size, 10)), this.dirty = !0);
            }
          }, {
            key: "text",
            get: function get() {
              return this._text;
            },
            set: function set(t) {
              t = t.toString() || " ", this._text !== t && (this._text = t, this.dirty = !0);
            }
          }, {
            key: "maxWidth",
            get: function get() {
              return this._maxWidth;
            },
            set: function set(t) {
              this._maxWidth !== t && (this._maxWidth = t, this.dirty = !0);
            }
          }, {
            key: "maxLineHeight",
            get: function get() {
              return this.validate(), this._maxLineHeight;
            }
          }, {
            key: "textWidth",
            get: function get() {
              return this.validate(), this._textWidth;
            }
          }, {
            key: "letterSpacing",
            get: function get() {
              return this._letterSpacing;
            },
            set: function set(t) {
              this._letterSpacing !== t && (this._letterSpacing = t, this.dirty = !0);
            }
          }, {
            key: "textHeight",
            get: function get() {
              return this.validate(), this._textHeight;
            }
          }]), e;
        }(h.Container);
      r.default = v, v.fonts = {};
    }, {
      "../core": 65,
      "../core/math/ObservablePoint": 68,
      "../core/settings": 101,
      "../core/utils": 125
    }],
    137: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      function i(t, e) {
        if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !e || "object" != _typeof(e) && "function" != typeof e ? t : e;
      }
      function o(t, e) {
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + _typeof(e));
        t.prototype = Object.create(e && e.prototype, {
          constructor: {
            value: t,
            enumerable: !1,
            writable: !0,
            configurable: !0
          }
        }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e);
      }
      r.__esModule = !0;
      var s = function () {
          function t(t, e) {
            for (var r = 0; r < e.length; r++) {
              var n = e[r];
              n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n);
            }
          }
          return function (e, r, n) {
            return r && t(e.prototype, r), n && t(e, n), e;
          };
        }(),
        a = t("../core"),
        u = function (t) {
          if (t && t.__esModule) return t;
          var e = {};
          if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
          return e.default = t, e;
        }(a),
        h = t("../core/sprites/canvas/CanvasTinter"),
        l = function (t) {
          return t && t.__esModule ? t : {
            default: t
          };
        }(h),
        c = new u.Point(),
        d = function (t) {
          function e(r) {
            var o = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 100,
              s = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 100;
            n(this, e);
            var a = i(this, t.call(this, r));
            return a.tileTransform = new u.TransformStatic(), a._width = o, a._height = s, a._canvasPattern = null, a.uvTransform = r.transform || new u.TextureMatrix(r), a.pluginName = "tilingSprite", a.uvRespectAnchor = !1, a;
          }
          return o(e, t), e.prototype._onTextureUpdate = function () {
            this.uvTransform && (this.uvTransform.texture = this._texture), this.cachedTint = 16777215;
          }, e.prototype._renderWebGL = function (t) {
            var e = this._texture;
            e && e.valid && (this.tileTransform.updateLocalTransform(), this.uvTransform.update(), t.setObjectRenderer(t.plugins[this.pluginName]), t.plugins[this.pluginName].render(this));
          }, e.prototype._renderCanvas = function (t) {
            var e = this._texture;
            if (e.baseTexture.hasLoaded) {
              var r = t.context,
                n = this.worldTransform,
                i = t.resolution,
                o = 2 === e.rotate,
                s = e.baseTexture,
                a = s.resolution,
                h = this.tilePosition.x / this.tileScale.x % e.orig.width * a,
                c = this.tilePosition.y / this.tileScale.y % e.orig.height * a;
              if (this._textureID !== this._texture._updateID || this.cachedTint !== this.tint) {
                this._textureID = this._texture._updateID;
                var d = new u.CanvasRenderTarget(e.orig.width, e.orig.height, a);
                if (16777215 !== this.tint) this.tintedTexture = l.default.getTintedTexture(this, this.tint), d.context.drawImage(this.tintedTexture, 0, 0);else {
                  var f = e._frame.x * a,
                    p = e._frame.y * a,
                    v = e._frame.width * a,
                    g = e._frame.height * a,
                    y = (e.trim ? e.trim.width : e.orig.width) * a,
                    m = (e.trim ? e.trim.height : e.orig.height) * a,
                    _ = (e.trim ? e.trim.x : 0) * a,
                    b = (e.trim ? e.trim.y : 0) * a;
                  o ? (d.context.rotate(-Math.PI / 2), d.context.translate(-m, 0), d.context.drawImage(s.source, f, p, v, g, -b, _, m, y)) : d.context.drawImage(s.source, f, p, v, g, _, b, y, m);
                }
                this.cachedTint = this.tint, this._canvasPattern = d.context.createPattern(d.canvas, "repeat");
              }
              r.globalAlpha = this.worldAlpha, r.setTransform(n.a * i, n.b * i, n.c * i, n.d * i, n.tx * i, n.ty * i), t.setBlendMode(this.blendMode), r.fillStyle = this._canvasPattern, r.scale(this.tileScale.x / a, this.tileScale.y / a);
              var x = this.anchor.x * -this._width * a,
                T = this.anchor.y * -this._height * a;
              this.uvRespectAnchor ? (r.translate(h, c), r.fillRect(-h + x, -c + T, this._width / this.tileScale.x * a, this._height / this.tileScale.y * a)) : (r.translate(h + x, c + T), r.fillRect(-h, -c, this._width / this.tileScale.x * a, this._height / this.tileScale.y * a));
            }
          }, e.prototype._calculateBounds = function () {
            var t = this._width * -this._anchor._x,
              e = this._height * -this._anchor._y,
              r = this._width * (1 - this._anchor._x),
              n = this._height * (1 - this._anchor._y);
            this._bounds.addFrame(this.transform, t, e, r, n);
          }, e.prototype.getLocalBounds = function (e) {
            return 0 === this.children.length ? (this._bounds.minX = this._width * -this._anchor._x, this._bounds.minY = this._height * -this._anchor._y, this._bounds.maxX = this._width * (1 - this._anchor._x), this._bounds.maxY = this._height * (1 - this._anchor._y), e || (this._localBoundsRect || (this._localBoundsRect = new u.Rectangle()), e = this._localBoundsRect), this._bounds.getRectangle(e)) : t.prototype.getLocalBounds.call(this, e);
          }, e.prototype.containsPoint = function (t) {
            this.worldTransform.applyInverse(t, c);
            var e = this._width,
              r = this._height,
              n = -e * this.anchor._x;
            if (c.x >= n && c.x < n + e) {
              var i = -r * this.anchor._y;
              if (c.y >= i && c.y < i + r) return !0;
            }
            return !1;
          }, e.prototype.destroy = function (e) {
            t.prototype.destroy.call(this, e), this.tileTransform = null, this.uvTransform = null;
          }, e.from = function (t, r, n) {
            return new e(u.Texture.from(t), r, n);
          }, e.fromFrame = function (t, r, n) {
            var i = u.utils.TextureCache[t];
            if (!i) throw new Error('The frameId "' + t + '" does not exist in the texture cache ' + this);
            return new e(i, r, n);
          }, e.fromImage = function (t, r, n, i, o) {
            return new e(u.Texture.fromImage(t, i, o), r, n);
          }, s(e, [{
            key: "clampMargin",
            get: function get() {
              return this.uvTransform.clampMargin;
            },
            set: function set(t) {
              this.uvTransform.clampMargin = t, this.uvTransform.update(!0);
            }
          }, {
            key: "tileScale",
            get: function get() {
              return this.tileTransform.scale;
            },
            set: function set(t) {
              this.tileTransform.scale.copy(t);
            }
          }, {
            key: "tilePosition",
            get: function get() {
              return this.tileTransform.position;
            },
            set: function set(t) {
              this.tileTransform.position.copy(t);
            }
          }, {
            key: "width",
            get: function get() {
              return this._width;
            },
            set: function set(t) {
              this._width = t;
            }
          }, {
            key: "height",
            get: function get() {
              return this._height;
            },
            set: function set(t) {
              this._height = t;
            }
          }]), e;
        }(u.Sprite);
      r.default = d;
    }, {
      "../core": 65,
      "../core/sprites/canvas/CanvasTinter": 104
    }],
    138: [function (t, e, r) {
      "use strict";

      function n(t) {
        return t && t.__esModule ? t : {
          default: t
        };
      }
      function i(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      var o = t("../core"),
        s = function (t) {
          if (t && t.__esModule) return t;
          var e = {};
          if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
          return e.default = t, e;
        }(o),
        a = t("../core/textures/Texture"),
        u = n(a),
        h = t("../core/textures/BaseTexture"),
        l = n(h),
        c = t("../core/utils"),
        d = s.DisplayObject,
        f = new s.Matrix();
      d.prototype._cacheAsBitmap = !1, d.prototype._cacheData = !1;
      var p = function t() {
        i(this, t), this.textureCacheId = null, this.originalRenderWebGL = null, this.originalRenderCanvas = null, this.originalCalculateBounds = null, this.originalGetLocalBounds = null, this.originalUpdateTransform = null, this.originalHitTest = null, this.originalDestroy = null, this.originalMask = null, this.originalFilterArea = null, this.sprite = null;
      };
      Object.defineProperties(d.prototype, {
        cacheAsBitmap: {
          get: function get() {
            return this._cacheAsBitmap;
          },
          set: function set(t) {
            if (this._cacheAsBitmap !== t) {
              this._cacheAsBitmap = t;
              var e = void 0;
              t ? (this._cacheData || (this._cacheData = new p()), e = this._cacheData, e.originalRenderWebGL = this.renderWebGL, e.originalRenderCanvas = this.renderCanvas, e.originalUpdateTransform = this.updateTransform, e.originalCalculateBounds = this.calculateBounds, e.originalGetLocalBounds = this.getLocalBounds, e.originalDestroy = this.destroy, e.originalContainsPoint = this.containsPoint, e.originalMask = this._mask, e.originalFilterArea = this.filterArea, this.renderWebGL = this._renderCachedWebGL, this.renderCanvas = this._renderCachedCanvas, this.destroy = this._cacheAsBitmapDestroy) : (e = this._cacheData, e.sprite && this._destroyCachedDisplayObject(), this.renderWebGL = e.originalRenderWebGL, this.renderCanvas = e.originalRenderCanvas, this.calculateBounds = e.originalCalculateBounds, this.getLocalBounds = e.originalGetLocalBounds, this.destroy = e.originalDestroy, this.updateTransform = e.originalUpdateTransform, this.containsPoint = e.originalContainsPoint, this._mask = e.originalMask, this.filterArea = e.originalFilterArea);
            }
          }
        }
      }), d.prototype._renderCachedWebGL = function (t) {
        !this.visible || this.worldAlpha <= 0 || !this.renderable || (this._initCachedDisplayObject(t), this._cacheData.sprite.transform._worldID = this.transform._worldID, this._cacheData.sprite.worldAlpha = this.worldAlpha, this._cacheData.sprite._renderWebGL(t));
      }, d.prototype._initCachedDisplayObject = function (t) {
        if (!this._cacheData || !this._cacheData.sprite) {
          var e = this.alpha;
          this.alpha = 1, t.currentRenderer.flush();
          var r = this.getLocalBounds().clone();
          if (this._filters && this._filters.length) {
            var n = this._filters[0].padding;
            r.pad(n);
          }
          r.ceil(s.settings.RESOLUTION);
          var i = t._activeRenderTarget,
            o = t.filterManager.filterStack,
            a = s.RenderTexture.create(r.width, r.height),
            h = "cacheAsBitmap_" + (0, c.uid)();
          this._cacheData.textureCacheId = h, l.default.addToCache(a.baseTexture, h), u.default.addToCache(a, h);
          var d = f;
          d.tx = -r.x, d.ty = -r.y, this.transform.worldTransform.identity(), this.renderWebGL = this._cacheData.originalRenderWebGL, t.render(this, a, !0, d, !0), t.bindRenderTarget(i), t.filterManager.filterStack = o, this.renderWebGL = this._renderCachedWebGL, this.updateTransform = this.displayObjectUpdateTransform, this.calculateBounds = this._calculateCachedBounds, this.getLocalBounds = this._getCachedLocalBounds, this._mask = null, this.filterArea = null;
          var p = new s.Sprite(a);
          p.transform.worldTransform = this.transform.worldTransform, p.anchor.x = -r.x / r.width, p.anchor.y = -r.y / r.height, p.alpha = e, p._bounds = this._bounds, this._cacheData.sprite = p, this.transform._parentID = -1, this.parent ? this.updateTransform() : (this.parent = t._tempDisplayObjectParent, this.updateTransform(), this.parent = null), this.containsPoint = p.containsPoint.bind(p);
        }
      }, d.prototype._renderCachedCanvas = function (t) {
        !this.visible || this.worldAlpha <= 0 || !this.renderable || (this._initCachedDisplayObjectCanvas(t), this._cacheData.sprite.worldAlpha = this.worldAlpha, this._cacheData.sprite._renderCanvas(t));
      }, d.prototype._initCachedDisplayObjectCanvas = function (t) {
        if (!this._cacheData || !this._cacheData.sprite) {
          var e = this.getLocalBounds(),
            r = this.alpha;
          this.alpha = 1;
          var n = t.context;
          e.ceil(s.settings.RESOLUTION);
          var i = s.RenderTexture.create(e.width, e.height),
            o = "cacheAsBitmap_" + (0, c.uid)();
          this._cacheData.textureCacheId = o, l.default.addToCache(i.baseTexture, o), u.default.addToCache(i, o);
          var a = f;
          this.transform.localTransform.copy(a), a.invert(), a.tx -= e.x, a.ty -= e.y, this.renderCanvas = this._cacheData.originalRenderCanvas, t.render(this, i, !0, a, !1), t.context = n, this.renderCanvas = this._renderCachedCanvas, this.updateTransform = this.displayObjectUpdateTransform, this.calculateBounds = this._calculateCachedBounds, this.getLocalBounds = this._getCachedLocalBounds, this._mask = null, this.filterArea = null;
          var h = new s.Sprite(i);
          h.transform.worldTransform = this.transform.worldTransform, h.anchor.x = -e.x / e.width, h.anchor.y = -e.y / e.height, h.alpha = r, h._bounds = this._bounds, this._cacheData.sprite = h, this.transform._parentID = -1, this.parent ? this.updateTransform() : (this.parent = t._tempDisplayObjectParent, this.updateTransform(), this.parent = null), this.containsPoint = h.containsPoint.bind(h);
        }
      }, d.prototype._calculateCachedBounds = function () {
        this._bounds.clear(), this._cacheData.sprite.transform._worldID = this.transform._worldID, this._cacheData.sprite._calculateBounds(), this._lastBoundsID = this._boundsID;
      }, d.prototype._getCachedLocalBounds = function () {
        return this._cacheData.sprite.getLocalBounds();
      }, d.prototype._destroyCachedDisplayObject = function () {
        this._cacheData.sprite._texture.destroy(!0), this._cacheData.sprite = null, l.default.removeFromCache(this._cacheData.textureCacheId), u.default.removeFromCache(this._cacheData.textureCacheId), this._cacheData.textureCacheId = null;
      }, d.prototype._cacheAsBitmapDestroy = function (t) {
        this.cacheAsBitmap = !1, this.destroy(t);
      };
    }, {
      "../core": 65,
      "../core/textures/BaseTexture": 112,
      "../core/textures/Texture": 115,
      "../core/utils": 125
    }],
    139: [function (t, e, r) {
      "use strict";

      var n = t("../core"),
        i = function (t) {
          if (t && t.__esModule) return t;
          var e = {};
          if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
          return e.default = t, e;
        }(n);
      i.DisplayObject.prototype.name = null, i.Container.prototype.getChildByName = function (t) {
        for (var e = 0; e < this.children.length; e++) if (this.children[e].name === t) return this.children[e];
        return null;
      };
    }, {
      "../core": 65
    }],
    140: [function (t, e, r) {
      "use strict";

      var n = t("../core"),
        i = function (t) {
          if (t && t.__esModule) return t;
          var e = {};
          if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
          return e.default = t, e;
        }(n);
      i.DisplayObject.prototype.getGlobalPosition = function () {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : new i.Point(),
          e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
        return this.parent ? this.parent.toGlobal(this.position, t, e) : (t.x = this.position.x, t.y = this.position.y), t;
      };
    }, {
      "../core": 65
    }],
    141: [function (t, e, r) {
      "use strict";

      function n(t) {
        return t && t.__esModule ? t : {
          default: t
        };
      }
      r.__esModule = !0, r.BitmapText = r.TilingSpriteRenderer = r.TilingSprite = r.AnimatedSprite = void 0;
      var i = t("./AnimatedSprite");
      Object.defineProperty(r, "AnimatedSprite", {
        enumerable: !0,
        get: function get() {
          return n(i).default;
        }
      });
      var o = t("./TilingSprite");
      Object.defineProperty(r, "TilingSprite", {
        enumerable: !0,
        get: function get() {
          return n(o).default;
        }
      });
      var s = t("./webgl/TilingSpriteRenderer");
      Object.defineProperty(r, "TilingSpriteRenderer", {
        enumerable: !0,
        get: function get() {
          return n(s).default;
        }
      });
      var a = t("./BitmapText");
      Object.defineProperty(r, "BitmapText", {
        enumerable: !0,
        get: function get() {
          return n(a).default;
        }
      }), t("./cacheAsBitmap"), t("./getChildByName"), t("./getGlobalPosition");
    }, {
      "./AnimatedSprite": 135,
      "./BitmapText": 136,
      "./TilingSprite": 137,
      "./cacheAsBitmap": 138,
      "./getChildByName": 139,
      "./getGlobalPosition": 140,
      "./webgl/TilingSpriteRenderer": 142
    }],
    142: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      function i(t, e) {
        if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !e || "object" != _typeof(e) && "function" != typeof e ? t : e;
      }
      function o(t, e) {
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + _typeof(e));
        t.prototype = Object.create(e && e.prototype, {
          constructor: {
            value: t,
            enumerable: !1,
            writable: !0,
            configurable: !0
          }
        }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e);
      }
      r.__esModule = !0;
      var s = t("../../core"),
        a = function (t) {
          if (t && t.__esModule) return t;
          var e = {};
          if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
          return e.default = t, e;
        }(s),
        u = t("../../core/const"),
        h = (t("path"), new a.Matrix()),
        l = function (t) {
          function e(r) {
            n(this, e);
            var o = i(this, t.call(this, r));
            return o.shader = null, o.simpleShader = null, o.quad = null, o;
          }
          return o(e, t), e.prototype.onContextChange = function () {
            var t = this.renderer.gl;
            this.shader = new a.Shader(t, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n", "varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    gl_FragColor = sample * uColor;\n}\n"), this.simpleShader = new a.Shader(t, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n", "varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n"), this.renderer.bindVao(null), this.quad = new a.Quad(t, this.renderer.state.attribState), this.quad.initVao(this.shader);
          }, e.prototype.render = function (t) {
            var e = this.renderer,
              r = this.quad;
            e.bindVao(r.vao);
            var n = r.vertices;
            n[0] = n[6] = t._width * -t.anchor.x, n[1] = n[3] = t._height * -t.anchor.y, n[2] = n[4] = t._width * (1 - t.anchor.x), n[5] = n[7] = t._height * (1 - t.anchor.y), t.uvRespectAnchor && (n = r.uvs, n[0] = n[6] = -t.anchor.x, n[1] = n[3] = -t.anchor.y, n[2] = n[4] = 1 - t.anchor.x, n[5] = n[7] = 1 - t.anchor.y), r.upload();
            var i = t._texture,
              o = i.baseTexture,
              s = t.tileTransform.localTransform,
              l = t.uvTransform,
              c = o.isPowerOfTwo && i.frame.width === o.width && i.frame.height === o.height;
            c && (o._glTextures[e.CONTEXT_UID] ? c = o.wrapMode !== u.WRAP_MODES.CLAMP : o.wrapMode === u.WRAP_MODES.CLAMP && (o.wrapMode = u.WRAP_MODES.REPEAT));
            var d = c ? this.simpleShader : this.shader;
            e.bindShader(d);
            var f = i.width,
              p = i.height,
              v = t._width,
              g = t._height;
            h.set(s.a * f / v, s.b * f / g, s.c * p / v, s.d * p / g, s.tx / v, s.ty / g), h.invert(), c ? h.prepend(l.mapCoord) : (d.uniforms.uMapCoord = l.mapCoord.toArray(!0), d.uniforms.uClampFrame = l.uClampFrame, d.uniforms.uClampOffset = l.uClampOffset), d.uniforms.uTransform = h.toArray(!0), d.uniforms.uColor = a.utils.premultiplyTintToRgba(t.tint, t.worldAlpha, d.uniforms.uColor, o.premultipliedAlpha), d.uniforms.translationMatrix = t.transform.worldTransform.toArray(!0), d.uniforms.uSampler = e.bindTexture(i), e.setBlendMode(a.utils.correctBlendMode(t.blendMode, o.premultipliedAlpha)), r.vao.draw(this.renderer.gl.TRIANGLES, 6, 0);
          }, e;
        }(a.ObjectRenderer);
      r.default = l, a.WebGLRenderer.registerPlugin("tilingSprite", l);
    }, {
      "../../core": 65,
      "../../core/const": 46,
      path: 8
    }],
    143: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      function i(t, e) {
        if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !e || "object" != _typeof(e) && "function" != typeof e ? t : e;
      }
      function o(t, e) {
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + _typeof(e));
        t.prototype = Object.create(e && e.prototype, {
          constructor: {
            value: t,
            enumerable: !1,
            writable: !0,
            configurable: !0
          }
        }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e);
      }
      r.__esModule = !0;
      var s = function () {
          function t(t, e) {
            for (var r = 0; r < e.length; r++) {
              var n = e[r];
              n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n);
            }
          }
          return function (e, r, n) {
            return r && t(e.prototype, r), n && t(e, n), e;
          };
        }(),
        a = t("../../core"),
        u = function (t) {
          if (t && t.__esModule) return t;
          var e = {};
          if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
          return e.default = t, e;
        }(a),
        h = (t("path"), function (t) {
          function e() {
            var r = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1;
            n(this, e);
            var o = i(this, t.call(this, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}", "varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n"));
            return o.alpha = r, o.glShaderKey = "alpha", o;
          }
          return o(e, t), s(e, [{
            key: "alpha",
            get: function get() {
              return this.uniforms.uAlpha;
            },
            set: function set(t) {
              this.uniforms.uAlpha = t;
            }
          }]), e;
        }(u.Filter));
      r.default = h;
    }, {
      "../../core": 65,
      path: 8
    }],
    144: [function (t, e, r) {
      "use strict";

      function n(t) {
        return t && t.__esModule ? t : {
          default: t
        };
      }
      function i(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      function o(t, e) {
        if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !e || "object" != _typeof(e) && "function" != typeof e ? t : e;
      }
      function s(t, e) {
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + _typeof(e));
        t.prototype = Object.create(e && e.prototype, {
          constructor: {
            value: t,
            enumerable: !1,
            writable: !0,
            configurable: !0
          }
        }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e);
      }
      r.__esModule = !0;
      var a = function () {
          function t(t, e) {
            for (var r = 0; r < e.length; r++) {
              var n = e[r];
              n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n);
            }
          }
          return function (e, r, n) {
            return r && t(e.prototype, r), n && t(e, n), e;
          };
        }(),
        u = t("../../core"),
        h = function (t) {
          if (t && t.__esModule) return t;
          var e = {};
          if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
          return e.default = t, e;
        }(u),
        l = t("./BlurXFilter"),
        c = n(l),
        d = t("./BlurYFilter"),
        f = n(d),
        p = function (t) {
          function e(r, n, s, a) {
            i(this, e);
            var u = o(this, t.call(this));
            return u.blurXFilter = new c.default(r, n, s, a), u.blurYFilter = new f.default(r, n, s, a), u.padding = 0, u.resolution = s || h.settings.RESOLUTION, u.quality = n || 4, u.blur = r || 8, u;
          }
          return s(e, t), e.prototype.apply = function (t, e, r) {
            var n = t.getRenderTarget(!0);
            this.blurXFilter.apply(t, e, n, !0), this.blurYFilter.apply(t, n, r, !1), t.returnRenderTarget(n);
          }, a(e, [{
            key: "blur",
            get: function get() {
              return this.blurXFilter.blur;
            },
            set: function set(t) {
              this.blurXFilter.blur = this.blurYFilter.blur = t, this.padding = 2 * Math.max(Math.abs(this.blurXFilter.strength), Math.abs(this.blurYFilter.strength));
            }
          }, {
            key: "quality",
            get: function get() {
              return this.blurXFilter.quality;
            },
            set: function set(t) {
              this.blurXFilter.quality = this.blurYFilter.quality = t;
            }
          }, {
            key: "blurX",
            get: function get() {
              return this.blurXFilter.blur;
            },
            set: function set(t) {
              this.blurXFilter.blur = t, this.padding = 2 * Math.max(Math.abs(this.blurXFilter.strength), Math.abs(this.blurYFilter.strength));
            }
          }, {
            key: "blurY",
            get: function get() {
              return this.blurYFilter.blur;
            },
            set: function set(t) {
              this.blurYFilter.blur = t, this.padding = 2 * Math.max(Math.abs(this.blurXFilter.strength), Math.abs(this.blurYFilter.strength));
            }
          }, {
            key: "blendMode",
            get: function get() {
              return this.blurYFilter._blendMode;
            },
            set: function set(t) {
              this.blurYFilter._blendMode = t;
            }
          }]), e;
        }(h.Filter);
      r.default = p;
    }, {
      "../../core": 65,
      "./BlurXFilter": 145,
      "./BlurYFilter": 146
    }],
    145: [function (t, e, r) {
      "use strict";

      function n(t) {
        return t && t.__esModule ? t : {
          default: t
        };
      }
      function i(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      function o(t, e) {
        if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !e || "object" != _typeof(e) && "function" != typeof e ? t : e;
      }
      function s(t, e) {
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + _typeof(e));
        t.prototype = Object.create(e && e.prototype, {
          constructor: {
            value: t,
            enumerable: !1,
            writable: !0,
            configurable: !0
          }
        }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e);
      }
      r.__esModule = !0;
      var a = function () {
          function t(t, e) {
            for (var r = 0; r < e.length; r++) {
              var n = e[r];
              n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n);
            }
          }
          return function (e, r, n) {
            return r && t(e.prototype, r), n && t(e, n), e;
          };
        }(),
        u = t("../../core"),
        h = function (t) {
          if (t && t.__esModule) return t;
          var e = {};
          if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
          return e.default = t, e;
        }(u),
        l = t("./generateBlurVertSource"),
        c = n(l),
        d = t("./generateBlurFragSource"),
        f = n(d),
        p = t("./getMaxBlurKernelSize"),
        v = n(p),
        g = function (t) {
          function e(r, n, s, a) {
            i(this, e), a = a || 5;
            var u = (0, c.default)(a, !0),
              l = (0, f.default)(a),
              d = o(this, t.call(this, u, l));
            return d.resolution = s || h.settings.RESOLUTION, d._quality = 0, d.quality = n || 4, d.strength = r || 8, d.firstRun = !0, d;
          }
          return s(e, t), e.prototype.apply = function (t, e, r, n) {
            if (this.firstRun) {
              var i = t.renderer.gl,
                o = (0, v.default)(i);
              this.vertexSrc = (0, c.default)(o, !0), this.fragmentSrc = (0, f.default)(o), this.firstRun = !1;
            }
            if (this.uniforms.strength = 1 / r.size.width * (r.size.width / e.size.width), this.uniforms.strength *= this.strength, this.uniforms.strength /= this.passes, 1 === this.passes) t.applyFilter(this, e, r, n);else {
              for (var s = t.getRenderTarget(!0), a = e, u = s, h = 0; h < this.passes - 1; h++) {
                t.applyFilter(this, a, u, !0);
                var l = u;
                u = a, a = l;
              }
              t.applyFilter(this, a, r, n), t.returnRenderTarget(s);
            }
          }, a(e, [{
            key: "blur",
            get: function get() {
              return this.strength;
            },
            set: function set(t) {
              this.padding = 2 * Math.abs(t), this.strength = t;
            }
          }, {
            key: "quality",
            get: function get() {
              return this._quality;
            },
            set: function set(t) {
              this._quality = t, this.passes = t;
            }
          }]), e;
        }(h.Filter);
      r.default = g;
    }, {
      "../../core": 65,
      "./generateBlurFragSource": 147,
      "./generateBlurVertSource": 148,
      "./getMaxBlurKernelSize": 149
    }],
    146: [function (t, e, r) {
      "use strict";

      function n(t) {
        return t && t.__esModule ? t : {
          default: t
        };
      }
      function i(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      function o(t, e) {
        if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !e || "object" != _typeof(e) && "function" != typeof e ? t : e;
      }
      function s(t, e) {
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + _typeof(e));
        t.prototype = Object.create(e && e.prototype, {
          constructor: {
            value: t,
            enumerable: !1,
            writable: !0,
            configurable: !0
          }
        }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e);
      }
      r.__esModule = !0;
      var a = function () {
          function t(t, e) {
            for (var r = 0; r < e.length; r++) {
              var n = e[r];
              n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n);
            }
          }
          return function (e, r, n) {
            return r && t(e.prototype, r), n && t(e, n), e;
          };
        }(),
        u = t("../../core"),
        h = function (t) {
          if (t && t.__esModule) return t;
          var e = {};
          if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
          return e.default = t, e;
        }(u),
        l = t("./generateBlurVertSource"),
        c = n(l),
        d = t("./generateBlurFragSource"),
        f = n(d),
        p = t("./getMaxBlurKernelSize"),
        v = n(p),
        g = function (t) {
          function e(r, n, s, a) {
            i(this, e), a = a || 5;
            var u = (0, c.default)(a, !1),
              l = (0, f.default)(a),
              d = o(this, t.call(this, u, l));
            return d.resolution = s || h.settings.RESOLUTION, d._quality = 0, d.quality = n || 4, d.strength = r || 8, d.firstRun = !0, d;
          }
          return s(e, t), e.prototype.apply = function (t, e, r, n) {
            if (this.firstRun) {
              var i = t.renderer.gl,
                o = (0, v.default)(i);
              this.vertexSrc = (0, c.default)(o, !1), this.fragmentSrc = (0, f.default)(o), this.firstRun = !1;
            }
            if (this.uniforms.strength = 1 / r.size.height * (r.size.height / e.size.height), this.uniforms.strength *= this.strength, this.uniforms.strength /= this.passes, 1 === this.passes) t.applyFilter(this, e, r, n);else {
              for (var s = t.getRenderTarget(!0), a = e, u = s, h = 0; h < this.passes - 1; h++) {
                t.applyFilter(this, a, u, !0);
                var l = u;
                u = a, a = l;
              }
              t.applyFilter(this, a, r, n), t.returnRenderTarget(s);
            }
          }, a(e, [{
            key: "blur",
            get: function get() {
              return this.strength;
            },
            set: function set(t) {
              this.padding = 2 * Math.abs(t), this.strength = t;
            }
          }, {
            key: "quality",
            get: function get() {
              return this._quality;
            },
            set: function set(t) {
              this._quality = t, this.passes = t;
            }
          }]), e;
        }(h.Filter);
      r.default = g;
    }, {
      "../../core": 65,
      "./generateBlurFragSource": 147,
      "./generateBlurVertSource": 148,
      "./getMaxBlurKernelSize": 149
    }],
    147: [function (t, e, r) {
      "use strict";

      function n(t) {
        for (var e = i[t], r = e.length, n = o, s = "", a = "gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;", u = void 0, h = 0; h < t; h++) {
          var l = a.replace("%index%", h);
          u = h, h >= r && (u = t - h - 1), l = l.replace("%value%", e[u]), s += l, s += "\n";
        }
        return n = n.replace("%blur%", s), n = n.replace("%size%", t);
      }
      r.__esModule = !0, r.default = n;
      var i = {
          5: [.153388, .221461, .250301],
          7: [.071303, .131514, .189879, .214607],
          9: [.028532, .067234, .124009, .179044, .20236],
          11: [.0093, .028002, .065984, .121703, .175713, .198596],
          13: [.002406, .009255, .027867, .065666, .121117, .174868, .197641],
          15: [489e-6, .002403, .009246, .02784, .065602, .120999, .174697, .197448]
        },
        o = ["varying vec2 vBlurTexCoords[%size%];", "uniform sampler2D uSampler;", "void main(void)", "{", "    gl_FragColor = vec4(0.0);", "    %blur%", "}"].join("\n");
    }, {}],
    148: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        var r = Math.ceil(t / 2),
          n = i,
          o = "",
          s = void 0;
        s = e ? "vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);" : "vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";
        for (var a = 0; a < t; a++) {
          var u = s.replace("%index%", a);
          u = u.replace("%sampleIndex%", a - (r - 1) + ".0"), o += u, o += "\n";
        }
        return n = n.replace("%blur%", o), n = n.replace("%size%", t);
      }
      r.__esModule = !0, r.default = n;
      var i = ["attribute vec2 aVertexPosition;", "attribute vec2 aTextureCoord;", "uniform float strength;", "uniform mat3 projectionMatrix;", "varying vec2 vBlurTexCoords[%size%];", "void main(void)", "{", "gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);", "%blur%", "}"].join("\n");
    }, {}],
    149: [function (t, e, r) {
      "use strict";

      function n(t) {
        for (var e = t.getParameter(t.MAX_VARYING_VECTORS), r = 15; r > e;) r -= 2;
        return r;
      }
      r.__esModule = !0, r.default = n;
    }, {}],
    150: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      function i(t, e) {
        if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !e || "object" != _typeof(e) && "function" != typeof e ? t : e;
      }
      function o(t, e) {
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + _typeof(e));
        t.prototype = Object.create(e && e.prototype, {
          constructor: {
            value: t,
            enumerable: !1,
            writable: !0,
            configurable: !0
          }
        }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e);
      }
      r.__esModule = !0;
      var s = function () {
          function t(t, e) {
            for (var r = 0; r < e.length; r++) {
              var n = e[r];
              n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n);
            }
          }
          return function (e, r, n) {
            return r && t(e.prototype, r), n && t(e, n), e;
          };
        }(),
        a = t("../../core"),
        u = function (t) {
          if (t && t.__esModule) return t;
          var e = {};
          if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
          return e.default = t, e;
        }(a),
        h = (t("path"), function (t) {
          function e() {
            n(this, e);
            var r = i(this, t.call(this, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}", "varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n"));
            return r.uniforms.m = [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0], r.alpha = 1, r;
          }
          return o(e, t), e.prototype._loadMatrix = function (t) {
            var e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
              r = t;
            e && (this._multiply(r, this.uniforms.m, t), r = this._colorMatrix(r)), this.uniforms.m = r;
          }, e.prototype._multiply = function (t, e, r) {
            return t[0] = e[0] * r[0] + e[1] * r[5] + e[2] * r[10] + e[3] * r[15], t[1] = e[0] * r[1] + e[1] * r[6] + e[2] * r[11] + e[3] * r[16], t[2] = e[0] * r[2] + e[1] * r[7] + e[2] * r[12] + e[3] * r[17], t[3] = e[0] * r[3] + e[1] * r[8] + e[2] * r[13] + e[3] * r[18], t[4] = e[0] * r[4] + e[1] * r[9] + e[2] * r[14] + e[3] * r[19] + e[4], t[5] = e[5] * r[0] + e[6] * r[5] + e[7] * r[10] + e[8] * r[15], t[6] = e[5] * r[1] + e[6] * r[6] + e[7] * r[11] + e[8] * r[16], t[7] = e[5] * r[2] + e[6] * r[7] + e[7] * r[12] + e[8] * r[17], t[8] = e[5] * r[3] + e[6] * r[8] + e[7] * r[13] + e[8] * r[18], t[9] = e[5] * r[4] + e[6] * r[9] + e[7] * r[14] + e[8] * r[19] + e[9], t[10] = e[10] * r[0] + e[11] * r[5] + e[12] * r[10] + e[13] * r[15], t[11] = e[10] * r[1] + e[11] * r[6] + e[12] * r[11] + e[13] * r[16], t[12] = e[10] * r[2] + e[11] * r[7] + e[12] * r[12] + e[13] * r[17], t[13] = e[10] * r[3] + e[11] * r[8] + e[12] * r[13] + e[13] * r[18], t[14] = e[10] * r[4] + e[11] * r[9] + e[12] * r[14] + e[13] * r[19] + e[14], t[15] = e[15] * r[0] + e[16] * r[5] + e[17] * r[10] + e[18] * r[15], t[16] = e[15] * r[1] + e[16] * r[6] + e[17] * r[11] + e[18] * r[16], t[17] = e[15] * r[2] + e[16] * r[7] + e[17] * r[12] + e[18] * r[17], t[18] = e[15] * r[3] + e[16] * r[8] + e[17] * r[13] + e[18] * r[18], t[19] = e[15] * r[4] + e[16] * r[9] + e[17] * r[14] + e[18] * r[19] + e[19], t;
          }, e.prototype._colorMatrix = function (t) {
            var e = new Float32Array(t);
            return e[4] /= 255, e[9] /= 255, e[14] /= 255, e[19] /= 255, e;
          }, e.prototype.brightness = function (t, e) {
            var r = [t, 0, 0, 0, 0, 0, t, 0, 0, 0, 0, 0, t, 0, 0, 0, 0, 0, 1, 0];
            this._loadMatrix(r, e);
          }, e.prototype.greyscale = function (t, e) {
            var r = [t, t, t, 0, 0, t, t, t, 0, 0, t, t, t, 0, 0, 0, 0, 0, 1, 0];
            this._loadMatrix(r, e);
          }, e.prototype.blackAndWhite = function (t) {
            var e = [.3, .6, .1, 0, 0, .3, .6, .1, 0, 0, .3, .6, .1, 0, 0, 0, 0, 0, 1, 0];
            this._loadMatrix(e, t);
          }, e.prototype.hue = function (t, e) {
            t = (t || 0) / 180 * Math.PI;
            var r = Math.cos(t),
              n = Math.sin(t),
              i = Math.sqrt,
              o = 1 / 3,
              s = i(o),
              a = r + (1 - r) * o,
              u = o * (1 - r) - s * n,
              h = o * (1 - r) + s * n,
              l = o * (1 - r) + s * n,
              c = r + o * (1 - r),
              d = o * (1 - r) - s * n,
              f = o * (1 - r) - s * n,
              p = o * (1 - r) + s * n,
              v = r + o * (1 - r),
              g = [a, u, h, 0, 0, l, c, d, 0, 0, f, p, v, 0, 0, 0, 0, 0, 1, 0];
            this._loadMatrix(g, e);
          }, e.prototype.contrast = function (t, e) {
            var r = (t || 0) + 1,
              n = -.5 * (r - 1),
              i = [r, 0, 0, 0, n, 0, r, 0, 0, n, 0, 0, r, 0, n, 0, 0, 0, 1, 0];
            this._loadMatrix(i, e);
          }, e.prototype.saturate = function () {
            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
              e = arguments[1],
              r = 2 * t / 3 + 1,
              n = -.5 * (r - 1),
              i = [r, n, n, 0, 0, n, r, n, 0, 0, n, n, r, 0, 0, 0, 0, 0, 1, 0];
            this._loadMatrix(i, e);
          }, e.prototype.desaturate = function () {
            this.saturate(-1);
          }, e.prototype.negative = function (t) {
            var e = [-1, 0, 0, 1, 0, 0, -1, 0, 1, 0, 0, 0, -1, 1, 0, 0, 0, 0, 1, 0];
            this._loadMatrix(e, t);
          }, e.prototype.sepia = function (t) {
            var e = [.393, .7689999, .18899999, 0, 0, .349, .6859999, .16799999, 0, 0, .272, .5339999, .13099999, 0, 0, 0, 0, 0, 1, 0];
            this._loadMatrix(e, t);
          }, e.prototype.technicolor = function (t) {
            var e = [1.9125277891456083, -.8545344976951645, -.09155508482755585, 0, 11.793603434377337, -.3087833385928097, 1.7658908555458428, -.10601743074722245, 0, -70.35205161461398, -.231103377548616, -.7501899197440212, 1.847597816108189, 0, 30.950940869491138, 0, 0, 0, 1, 0];
            this._loadMatrix(e, t);
          }, e.prototype.polaroid = function (t) {
            var e = [1.438, -.062, -.062, 0, 0, -.122, 1.378, -.122, 0, 0, -.016, -.016, 1.483, 0, 0, 0, 0, 0, 1, 0];
            this._loadMatrix(e, t);
          }, e.prototype.toBGR = function (t) {
            var e = [0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0];
            this._loadMatrix(e, t);
          }, e.prototype.kodachrome = function (t) {
            var e = [1.1285582396593525, -.3967382283601348, -.03992559172921793, 0, 63.72958762196502, -.16404339962244616, 1.0835251566291304, -.05498805115633132, 0, 24.732407896706203, -.16786010706155763, -.5603416277695248, 1.6014850761964943, 0, 35.62982807460946, 0, 0, 0, 1, 0];
            this._loadMatrix(e, t);
          }, e.prototype.browni = function (t) {
            var e = [.5997023498159715, .34553243048391263, -.2708298674538042, 0, 47.43192855600873, -.037703249837783157, .8609577587992641, .15059552388459913, 0, -36.96841498319127, .24113635128153335, -.07441037908422492, .44972182064877153, 0, -7.562075277591283, 0, 0, 0, 1, 0];
            this._loadMatrix(e, t);
          }, e.prototype.vintage = function (t) {
            var e = [.6279345635605994, .3202183420819367, -.03965408211312453, 0, 9.651285835294123, .02578397704808868, .6441188644374771, .03259127616149294, 0, 7.462829176470591, .0466055556782719, -.0851232987247891, .5241648018700465, 0, 5.159190588235296, 0, 0, 0, 1, 0];
            this._loadMatrix(e, t);
          }, e.prototype.colorTone = function (t, e, r, n, i) {
            t = t || .2, e = e || .15, r = r || 16770432, n = n || 3375104;
            var o = (r >> 16 & 255) / 255,
              s = (r >> 8 & 255) / 255,
              a = (255 & r) / 255,
              u = (n >> 16 & 255) / 255,
              h = (n >> 8 & 255) / 255,
              l = (255 & n) / 255,
              c = [.3, .59, .11, 0, 0, o, s, a, t, 0, u, h, l, e, 0, o - u, s - h, a - l, 0, 0];
            this._loadMatrix(c, i);
          }, e.prototype.night = function (t, e) {
            t = t || .1;
            var r = [-2 * t, -t, 0, 0, 0, -t, 0, t, 0, 0, 0, t, 2 * t, 0, 0, 0, 0, 0, 1, 0];
            this._loadMatrix(r, e);
          }, e.prototype.predator = function (t, e) {
            var r = [11.224130630493164 * t, -4.794486999511719 * t, -2.8746118545532227 * t, 0 * t, .40342438220977783 * t, -3.6330697536468506 * t, 9.193157196044922 * t, -2.951810836791992 * t, 0 * t, -1.316135048866272 * t, -3.2184197902679443 * t, -4.2375030517578125 * t, 7.476448059082031 * t, 0 * t, .8044459223747253 * t, 0, 0, 0, 1, 0];
            this._loadMatrix(r, e);
          }, e.prototype.lsd = function (t) {
            var e = [2, -.4, .5, 0, 0, -.5, 2, -.4, 0, 0, -.4, -.5, 3, 0, 0, 0, 0, 0, 1, 0];
            this._loadMatrix(e, t);
          }, e.prototype.reset = function () {
            var t = [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0];
            this._loadMatrix(t, !1);
          }, s(e, [{
            key: "matrix",
            get: function get() {
              return this.uniforms.m;
            },
            set: function set(t) {
              this.uniforms.m = t;
            }
          }, {
            key: "alpha",
            get: function get() {
              return this.uniforms.uAlpha;
            },
            set: function set(t) {
              this.uniforms.uAlpha = t;
            }
          }]), e;
        }(u.Filter));
      r.default = h, h.prototype.grayscale = h.prototype.greyscale;
    }, {
      "../../core": 65,
      path: 8
    }],
    151: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      function i(t, e) {
        if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !e || "object" != _typeof(e) && "function" != typeof e ? t : e;
      }
      function o(t, e) {
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + _typeof(e));
        t.prototype = Object.create(e && e.prototype, {
          constructor: {
            value: t,
            enumerable: !1,
            writable: !0,
            configurable: !0
          }
        }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e);
      }
      r.__esModule = !0;
      var s = function () {
          function t(t, e) {
            for (var r = 0; r < e.length; r++) {
              var n = e[r];
              n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n);
            }
          }
          return function (e, r, n) {
            return r && t(e.prototype, r), n && t(e, n), e;
          };
        }(),
        a = t("../../core"),
        u = function (t) {
          if (t && t.__esModule) return t;
          var e = {};
          if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
          return e.default = t, e;
        }(a),
        h = (t("path"), function (t) {
          function e(r, o) {
            n(this, e);
            var s = new u.Matrix();
            r.renderable = !1;
            var a = i(this, t.call(this, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}", "varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy *= scale / filterArea.xy;\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n"));
            return a.maskSprite = r, a.maskMatrix = s, a.uniforms.mapSampler = r._texture, a.uniforms.filterMatrix = s, a.uniforms.scale = {
              x: 1,
              y: 1
            }, null !== o && void 0 !== o || (o = 20), a.scale = new u.Point(o, o), a;
          }
          return o(e, t), e.prototype.apply = function (t, e, r) {
            this.uniforms.filterMatrix = t.calculateSpriteMatrix(this.maskMatrix, this.maskSprite), this.uniforms.scale.x = this.scale.x, this.uniforms.scale.y = this.scale.y, t.applyFilter(this, e, r);
          }, s(e, [{
            key: "map",
            get: function get() {
              return this.uniforms.mapSampler;
            },
            set: function set(t) {
              this.uniforms.mapSampler = t;
            }
          }]), e;
        }(u.Filter));
      r.default = h;
    }, {
      "../../core": 65,
      path: 8
    }],
    152: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      function i(t, e) {
        if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !e || "object" != _typeof(e) && "function" != typeof e ? t : e;
      }
      function o(t, e) {
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + _typeof(e));
        t.prototype = Object.create(e && e.prototype, {
          constructor: {
            value: t,
            enumerable: !1,
            writable: !0,
            configurable: !0
          }
        }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e);
      }
      r.__esModule = !0;
      var s = t("../../core"),
        a = function (t) {
          if (t && t.__esModule) return t;
          var e = {};
          if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
          return e.default = t, e;
        }(s),
        u = (t("path"), function (t) {
          function e() {
            return n(this, e), i(this, t.call(this, "\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}", 'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n'));
          }
          return o(e, t), e;
        }(a.Filter));
      r.default = u;
    }, {
      "../../core": 65,
      path: 8
    }],
    153: [function (t, e, r) {
      "use strict";

      function n(t) {
        return t && t.__esModule ? t : {
          default: t
        };
      }
      r.__esModule = !0;
      var i = t("./fxaa/FXAAFilter");
      Object.defineProperty(r, "FXAAFilter", {
        enumerable: !0,
        get: function get() {
          return n(i).default;
        }
      });
      var o = t("./noise/NoiseFilter");
      Object.defineProperty(r, "NoiseFilter", {
        enumerable: !0,
        get: function get() {
          return n(o).default;
        }
      });
      var s = t("./displacement/DisplacementFilter");
      Object.defineProperty(r, "DisplacementFilter", {
        enumerable: !0,
        get: function get() {
          return n(s).default;
        }
      });
      var a = t("./blur/BlurFilter");
      Object.defineProperty(r, "BlurFilter", {
        enumerable: !0,
        get: function get() {
          return n(a).default;
        }
      });
      var u = t("./blur/BlurXFilter");
      Object.defineProperty(r, "BlurXFilter", {
        enumerable: !0,
        get: function get() {
          return n(u).default;
        }
      });
      var h = t("./blur/BlurYFilter");
      Object.defineProperty(r, "BlurYFilter", {
        enumerable: !0,
        get: function get() {
          return n(h).default;
        }
      });
      var l = t("./colormatrix/ColorMatrixFilter");
      Object.defineProperty(r, "ColorMatrixFilter", {
        enumerable: !0,
        get: function get() {
          return n(l).default;
        }
      });
      var c = t("./alpha/AlphaFilter");
      Object.defineProperty(r, "AlphaFilter", {
        enumerable: !0,
        get: function get() {
          return n(c).default;
        }
      });
    }, {
      "./alpha/AlphaFilter": 143,
      "./blur/BlurFilter": 144,
      "./blur/BlurXFilter": 145,
      "./blur/BlurYFilter": 146,
      "./colormatrix/ColorMatrixFilter": 150,
      "./displacement/DisplacementFilter": 151,
      "./fxaa/FXAAFilter": 152,
      "./noise/NoiseFilter": 154
    }],
    154: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      function i(t, e) {
        if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !e || "object" != _typeof(e) && "function" != typeof e ? t : e;
      }
      function o(t, e) {
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + _typeof(e));
        t.prototype = Object.create(e && e.prototype, {
          constructor: {
            value: t,
            enumerable: !1,
            writable: !0,
            configurable: !0
          }
        }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e);
      }
      r.__esModule = !0;
      var s = function () {
          function t(t, e) {
            for (var r = 0; r < e.length; r++) {
              var n = e[r];
              n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n);
            }
          }
          return function (e, r, n) {
            return r && t(e.prototype, r), n && t(e, n), e;
          };
        }(),
        a = t("../../core"),
        u = function (t) {
          if (t && t.__esModule) return t;
          var e = {};
          if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
          return e.default = t, e;
        }(a),
        h = (t("path"), function (t) {
          function e() {
            var r = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : .5,
              o = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : Math.random();
            n(this, e);
            var s = i(this, t.call(this, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}", "precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n"));
            return s.noise = r, s.seed = o, s;
          }
          return o(e, t), s(e, [{
            key: "noise",
            get: function get() {
              return this.uniforms.uNoise;
            },
            set: function set(t) {
              this.uniforms.uNoise = t;
            }
          }, {
            key: "seed",
            get: function get() {
              return this.uniforms.uSeed;
            },
            set: function set(t) {
              this.uniforms.uSeed = t;
            }
          }]), e;
        }(u.Filter));
      r.default = h;
    }, {
      "../../core": 65,
      path: 8
    }],
    155: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      r.__esModule = !0;
      var i = function () {
          function t(t, e) {
            for (var r = 0; r < e.length; r++) {
              var n = e[r];
              n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n);
            }
          }
          return function (e, r, n) {
            return r && t(e.prototype, r), n && t(e, n), e;
          };
        }(),
        o = t("../core"),
        s = function (t) {
          if (t && t.__esModule) return t;
          var e = {};
          if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
          return e.default = t, e;
        }(o),
        a = function () {
          function t() {
            n(this, t), this.global = new s.Point(), this.target = null, this.originalEvent = null, this.identifier = null, this.isPrimary = !1, this.button = 0, this.buttons = 0, this.width = 0, this.height = 0, this.tiltX = 0, this.tiltY = 0, this.pointerType = null, this.pressure = 0, this.rotationAngle = 0, this.twist = 0, this.tangentialPressure = 0;
          }
          return t.prototype.getLocalPosition = function (t, e, r) {
            return t.worldTransform.applyInverse(r || this.global, e);
          }, t.prototype.copyEvent = function (t) {
            t.isPrimary && (this.isPrimary = !0), this.button = t.button, this.buttons = Number.isInteger(t.buttons) ? t.buttons : t.which, this.width = t.width, this.height = t.height, this.tiltX = t.tiltX, this.tiltY = t.tiltY, this.pointerType = t.pointerType, this.pressure = t.pressure, this.rotationAngle = t.rotationAngle, this.twist = t.twist || 0, this.tangentialPressure = t.tangentialPressure || 0;
          }, t.prototype.reset = function () {
            this.isPrimary = !1;
          }, i(t, [{
            key: "pointerId",
            get: function get() {
              return this.identifier;
            }
          }]), t;
        }();
      r.default = a;
    }, {
      "../core": 65
    }],
    156: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      r.__esModule = !0;
      var i = function () {
        function t() {
          n(this, t), this.stopped = !1, this.target = null, this.currentTarget = null, this.type = null, this.data = null;
        }
        return t.prototype.stopPropagation = function () {
          this.stopped = !0;
        }, t.prototype.reset = function () {
          this.stopped = !1, this.currentTarget = null, this.target = null;
        }, t;
      }();
      r.default = i;
    }, {}],
    157: [function (t, e, r) {
      "use strict";

      function n(t) {
        return t && t.__esModule ? t : {
          default: t
        };
      }
      function i(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      function o(t, e) {
        if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !e || "object" != _typeof(e) && "function" != typeof e ? t : e;
      }
      function s(t, e) {
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + _typeof(e));
        t.prototype = Object.create(e && e.prototype, {
          constructor: {
            value: t,
            enumerable: !1,
            writable: !0,
            configurable: !0
          }
        }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e);
      }
      r.__esModule = !0;
      var a = "function" == typeof Symbol && "symbol" == _typeof(Symbol.iterator) ? function (t) {
          return _typeof(t);
        } : function (t) {
          return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof(t);
        },
        u = t("../core"),
        h = function (t) {
          if (t && t.__esModule) return t;
          var e = {};
          if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
          return e.default = t, e;
        }(u),
        l = t("./InteractionData"),
        c = n(l),
        d = t("./InteractionEvent"),
        f = n(d),
        p = t("./InteractionTrackingData"),
        v = n(p),
        g = t("eventemitter3"),
        y = n(g),
        m = t("./interactiveTarget"),
        _ = n(m);
      h.utils.mixins.delayMixin(h.DisplayObject.prototype, _.default);
      var b = 1,
        x = {
          target: null,
          data: {
            global: null
          }
        },
        T = function (t) {
          function e(r, n) {
            i(this, e);
            var s = o(this, t.call(this));
            return n = n || {}, s.renderer = r, s.autoPreventDefault = void 0 === n.autoPreventDefault || n.autoPreventDefault, s.interactionFrequency = n.interactionFrequency || 10, s.mouse = new c.default(), s.mouse.identifier = b, s.mouse.global.set(-999999), s.activeInteractionData = {}, s.activeInteractionData[b] = s.mouse, s.interactionDataPool = [], s.eventData = new f.default(), s.interactionDOMElement = null, s.moveWhenInside = !1, s.eventsAdded = !1, s.mouseOverRenderer = !1, s.supportsTouchEvents = "ontouchstart" in window, s.supportsPointerEvents = !!window.PointerEvent, s.onPointerUp = s.onPointerUp.bind(s), s.processPointerUp = s.processPointerUp.bind(s), s.onPointerCancel = s.onPointerCancel.bind(s), s.processPointerCancel = s.processPointerCancel.bind(s), s.onPointerDown = s.onPointerDown.bind(s), s.processPointerDown = s.processPointerDown.bind(s), s.onPointerMove = s.onPointerMove.bind(s), s.processPointerMove = s.processPointerMove.bind(s), s.onPointerOut = s.onPointerOut.bind(s), s.processPointerOverOut = s.processPointerOverOut.bind(s), s.onPointerOver = s.onPointerOver.bind(s), s.cursorStyles = {
              default: "inherit",
              pointer: "pointer"
            }, s.currentCursorMode = null, s.cursor = null, s._tempPoint = new h.Point(), s.resolution = 1, s.setTargetElement(s.renderer.view, s.renderer.resolution), s;
          }
          return s(e, t), e.prototype.hitTest = function (t, e) {
            return x.target = null, x.data.global = t, e || (e = this.renderer._lastObjectRendered), this.processInteractive(x, e, null, !0), x.target;
          }, e.prototype.setTargetElement = function (t) {
            var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1;
            this.removeEvents(), this.interactionDOMElement = t, this.resolution = e, this.addEvents();
          }, e.prototype.addEvents = function () {
            this.interactionDOMElement && (h.ticker.shared.add(this.update, this, h.UPDATE_PRIORITY.INTERACTION), window.navigator.msPointerEnabled ? (this.interactionDOMElement.style["-ms-content-zooming"] = "none", this.interactionDOMElement.style["-ms-touch-action"] = "none") : this.supportsPointerEvents && (this.interactionDOMElement.style["touch-action"] = "none"), this.supportsPointerEvents ? (window.document.addEventListener("pointermove", this.onPointerMove, !0), this.interactionDOMElement.addEventListener("pointerdown", this.onPointerDown, !0), this.interactionDOMElement.addEventListener("pointerleave", this.onPointerOut, !0), this.interactionDOMElement.addEventListener("pointerover", this.onPointerOver, !0), window.addEventListener("pointercancel", this.onPointerCancel, !0), window.addEventListener("pointerup", this.onPointerUp, !0)) : (window.document.addEventListener("mousemove", this.onPointerMove, !0), this.interactionDOMElement.addEventListener("mousedown", this.onPointerDown, !0), this.interactionDOMElement.addEventListener("mouseout", this.onPointerOut, !0), this.interactionDOMElement.addEventListener("mouseover", this.onPointerOver, !0), window.addEventListener("mouseup", this.onPointerUp, !0)), this.supportsTouchEvents && (this.interactionDOMElement.addEventListener("touchstart", this.onPointerDown, !0), this.interactionDOMElement.addEventListener("touchcancel", this.onPointerCancel, !0), this.interactionDOMElement.addEventListener("touchend", this.onPointerUp, !0), this.interactionDOMElement.addEventListener("touchmove", this.onPointerMove, !0)), this.eventsAdded = !0);
          }, e.prototype.removeEvents = function () {
            this.interactionDOMElement && (h.ticker.shared.remove(this.update, this), window.navigator.msPointerEnabled ? (this.interactionDOMElement.style["-ms-content-zooming"] = "", this.interactionDOMElement.style["-ms-touch-action"] = "") : this.supportsPointerEvents && (this.interactionDOMElement.style["touch-action"] = ""), this.supportsPointerEvents ? (window.document.removeEventListener("pointermove", this.onPointerMove, !0), this.interactionDOMElement.removeEventListener("pointerdown", this.onPointerDown, !0), this.interactionDOMElement.removeEventListener("pointerleave", this.onPointerOut, !0), this.interactionDOMElement.removeEventListener("pointerover", this.onPointerOver, !0), window.removeEventListener("pointercancel", this.onPointerCancel, !0), window.removeEventListener("pointerup", this.onPointerUp, !0)) : (window.document.removeEventListener("mousemove", this.onPointerMove, !0), this.interactionDOMElement.removeEventListener("mousedown", this.onPointerDown, !0), this.interactionDOMElement.removeEventListener("mouseout", this.onPointerOut, !0), this.interactionDOMElement.removeEventListener("mouseover", this.onPointerOver, !0), window.removeEventListener("mouseup", this.onPointerUp, !0)), this.supportsTouchEvents && (this.interactionDOMElement.removeEventListener("touchstart", this.onPointerDown, !0), this.interactionDOMElement.removeEventListener("touchcancel", this.onPointerCancel, !0), this.interactionDOMElement.removeEventListener("touchend", this.onPointerUp, !0), this.interactionDOMElement.removeEventListener("touchmove", this.onPointerMove, !0)), this.interactionDOMElement = null, this.eventsAdded = !1);
          }, e.prototype.update = function (t) {
            if (this._deltaTime += t, !(this._deltaTime < this.interactionFrequency) && (this._deltaTime = 0, this.interactionDOMElement)) {
              if (this.didMove) return void (this.didMove = !1);
              this.cursor = null;
              for (var e in this.activeInteractionData) if (this.activeInteractionData.hasOwnProperty(e)) {
                var r = this.activeInteractionData[e];
                if (r.originalEvent && "touch" !== r.pointerType) {
                  var n = this.configureInteractionEventForDOMEvent(this.eventData, r.originalEvent, r);
                  this.processInteractive(n, this.renderer._lastObjectRendered, this.processPointerOverOut, !0);
                }
              }
              this.setCursorMode(this.cursor);
            }
          }, e.prototype.setCursorMode = function (t) {
            if (t = t || "default", this.currentCursorMode !== t) {
              this.currentCursorMode = t;
              var e = this.cursorStyles[t];
              if (e) switch (void 0 === e ? "undefined" : a(e)) {
                case "string":
                  this.interactionDOMElement.style.cursor = e;
                  break;
                case "function":
                  e(t);
                  break;
                case "object":
                  Object.assign(this.interactionDOMElement.style, e);
              } else "string" != typeof t || Object.prototype.hasOwnProperty.call(this.cursorStyles, t) || (this.interactionDOMElement.style.cursor = t);
            }
          }, e.prototype.dispatchEvent = function (t, e, r) {
            r.stopped || (r.currentTarget = t, r.type = e, t.emit(e, r), t[e] && t[e](r));
          }, e.prototype.mapPositionToPoint = function (t, e, r) {
            var n = void 0;
            n = this.interactionDOMElement.parentElement ? this.interactionDOMElement.getBoundingClientRect() : {
              x: 0,
              y: 0,
              width: 0,
              height: 0
            };
            var i = navigator.isCocoonJS ? this.resolution : 1 / this.resolution;
            t.x = (e - n.left) * (this.interactionDOMElement.width / n.width) * i, t.y = (r - n.top) * (this.interactionDOMElement.height / n.height) * i;
          }, e.prototype.processInteractive = function (t, e, r, n, i) {
            if (!e || !e.visible) return !1;
            var o = t.data.global;
            i = e.interactive || i;
            var s = !1,
              a = i,
              u = !0;
            if (e.hitArea ? (n && (e.worldTransform.applyInverse(o, this._tempPoint), e.hitArea.contains(this._tempPoint.x, this._tempPoint.y) ? s = !0 : (n = !1, u = !1)), a = !1) : e._mask && n && (e._mask.containsPoint(o) || (n = !1, u = !1)), u && e.interactiveChildren && e.children) for (var h = e.children, l = h.length - 1; l >= 0; l--) {
              var c = h[l],
                d = this.processInteractive(t, c, r, n, a);
              if (d) {
                if (!c.parent) continue;
                a = !1, d && (t.target && (n = !1), s = !0);
              }
            }
            return i && (n && !t.target && !e.hitArea && e.containsPoint && e.containsPoint(o) && (s = !0), e.interactive && (s && !t.target && (t.target = e), r && r(t, e, !!s))), s;
          }, e.prototype.onPointerDown = function (t) {
            if (!this.supportsTouchEvents || "touch" !== t.pointerType) {
              var e = this.normalizeToPointerData(t);
              this.autoPreventDefault && e[0].isNormalized && t.preventDefault();
              for (var r = e.length, n = 0; n < r; n++) {
                var i = e[n],
                  o = this.getInteractionDataForPointerId(i),
                  s = this.configureInteractionEventForDOMEvent(this.eventData, i, o);
                if (s.data.originalEvent = t, this.processInteractive(s, this.renderer._lastObjectRendered, this.processPointerDown, !0), this.emit("pointerdown", s), "touch" === i.pointerType) this.emit("touchstart", s);else if ("mouse" === i.pointerType || "pen" === i.pointerType) {
                  var a = 2 === i.button;
                  this.emit(a ? "rightdown" : "mousedown", this.eventData);
                }
              }
            }
          }, e.prototype.processPointerDown = function (t, e, r) {
            var n = t.data,
              i = t.data.identifier;
            if (r) if (e.trackedPointers[i] || (e.trackedPointers[i] = new v.default(i)), this.dispatchEvent(e, "pointerdown", t), "touch" === n.pointerType) this.dispatchEvent(e, "touchstart", t);else if ("mouse" === n.pointerType || "pen" === n.pointerType) {
              var o = 2 === n.button;
              o ? e.trackedPointers[i].rightDown = !0 : e.trackedPointers[i].leftDown = !0, this.dispatchEvent(e, o ? "rightdown" : "mousedown", t);
            }
          }, e.prototype.onPointerComplete = function (t, e, r) {
            for (var n = this.normalizeToPointerData(t), i = n.length, o = t.target !== this.interactionDOMElement ? "outside" : "", s = 0; s < i; s++) {
              var a = n[s],
                u = this.getInteractionDataForPointerId(a),
                h = this.configureInteractionEventForDOMEvent(this.eventData, a, u);
              if (h.data.originalEvent = t, this.processInteractive(h, this.renderer._lastObjectRendered, r, e || !o), this.emit(e ? "pointercancel" : "pointerup" + o, h), "mouse" === a.pointerType || "pen" === a.pointerType) {
                var l = 2 === a.button;
                this.emit(l ? "rightup" + o : "mouseup" + o, h);
              } else "touch" === a.pointerType && (this.emit(e ? "touchcancel" : "touchend" + o, h), this.releaseInteractionDataForPointerId(a.pointerId, u));
            }
          }, e.prototype.onPointerCancel = function (t) {
            this.supportsTouchEvents && "touch" === t.pointerType || this.onPointerComplete(t, !0, this.processPointerCancel);
          }, e.prototype.processPointerCancel = function (t, e) {
            var r = t.data,
              n = t.data.identifier;
            void 0 !== e.trackedPointers[n] && (delete e.trackedPointers[n], this.dispatchEvent(e, "pointercancel", t), "touch" === r.pointerType && this.dispatchEvent(e, "touchcancel", t));
          }, e.prototype.onPointerUp = function (t) {
            this.supportsTouchEvents && "touch" === t.pointerType || this.onPointerComplete(t, !1, this.processPointerUp);
          }, e.prototype.processPointerUp = function (t, e, r) {
            var n = t.data,
              i = t.data.identifier,
              o = e.trackedPointers[i],
              s = "touch" === n.pointerType,
              a = "mouse" === n.pointerType || "pen" === n.pointerType,
              u = !1;
            if (a) {
              var h = 2 === n.button,
                l = v.default.FLAGS,
                c = h ? l.RIGHT_DOWN : l.LEFT_DOWN,
                d = void 0 !== o && o.flags & c;
              r ? (this.dispatchEvent(e, h ? "rightup" : "mouseup", t), d && (this.dispatchEvent(e, h ? "rightclick" : "click", t), u = !0)) : d && this.dispatchEvent(e, h ? "rightupoutside" : "mouseupoutside", t), o && (h ? o.rightDown = !1 : o.leftDown = !1);
            }
            r ? (this.dispatchEvent(e, "pointerup", t), s && this.dispatchEvent(e, "touchend", t), o && (a && !u || this.dispatchEvent(e, "pointertap", t), s && (this.dispatchEvent(e, "tap", t), o.over = !1))) : o && (this.dispatchEvent(e, "pointerupoutside", t), s && this.dispatchEvent(e, "touchendoutside", t)), o && o.none && delete e.trackedPointers[i];
          }, e.prototype.onPointerMove = function (t) {
            if (!this.supportsTouchEvents || "touch" !== t.pointerType) {
              var e = this.normalizeToPointerData(t);
              "mouse" !== e[0].pointerType && "pen" !== e[0].pointerType || (this.didMove = !0, this.cursor = null);
              for (var r = e.length, n = 0; n < r; n++) {
                var i = e[n],
                  o = this.getInteractionDataForPointerId(i),
                  s = this.configureInteractionEventForDOMEvent(this.eventData, i, o);
                s.data.originalEvent = t;
                var a = "touch" !== i.pointerType || this.moveWhenInside;
                this.processInteractive(s, this.renderer._lastObjectRendered, this.processPointerMove, a), this.emit("pointermove", s), "touch" === i.pointerType && this.emit("touchmove", s), "mouse" !== i.pointerType && "pen" !== i.pointerType || this.emit("mousemove", s);
              }
              "mouse" === e[0].pointerType && this.setCursorMode(this.cursor);
            }
          }, e.prototype.processPointerMove = function (t, e, r) {
            var n = t.data,
              i = "touch" === n.pointerType,
              o = "mouse" === n.pointerType || "pen" === n.pointerType;
            o && this.processPointerOverOut(t, e, r), this.moveWhenInside && !r || (this.dispatchEvent(e, "pointermove", t), i && this.dispatchEvent(e, "touchmove", t), o && this.dispatchEvent(e, "mousemove", t));
          }, e.prototype.onPointerOut = function (t) {
            if (!this.supportsTouchEvents || "touch" !== t.pointerType) {
              var e = this.normalizeToPointerData(t),
                r = e[0];
              "mouse" === r.pointerType && (this.mouseOverRenderer = !1, this.setCursorMode(null));
              var n = this.getInteractionDataForPointerId(r),
                i = this.configureInteractionEventForDOMEvent(this.eventData, r, n);
              i.data.originalEvent = r, this.processInteractive(i, this.renderer._lastObjectRendered, this.processPointerOverOut, !1), this.emit("pointerout", i), "mouse" === r.pointerType || "pen" === r.pointerType ? this.emit("mouseout", i) : this.releaseInteractionDataForPointerId(n.identifier);
            }
          }, e.prototype.processPointerOverOut = function (t, e, r) {
            var n = t.data,
              i = t.data.identifier,
              o = "mouse" === n.pointerType || "pen" === n.pointerType,
              s = e.trackedPointers[i];
            r && !s && (s = e.trackedPointers[i] = new v.default(i)), void 0 !== s && (r && this.mouseOverRenderer ? (s.over || (s.over = !0, this.dispatchEvent(e, "pointerover", t), o && this.dispatchEvent(e, "mouseover", t)), o && null === this.cursor && (this.cursor = e.cursor)) : s.over && (s.over = !1, this.dispatchEvent(e, "pointerout", this.eventData), o && this.dispatchEvent(e, "mouseout", t), s.none && delete e.trackedPointers[i]));
          }, e.prototype.onPointerOver = function (t) {
            var e = this.normalizeToPointerData(t),
              r = e[0],
              n = this.getInteractionDataForPointerId(r),
              i = this.configureInteractionEventForDOMEvent(this.eventData, r, n);
            i.data.originalEvent = r, "mouse" === r.pointerType && (this.mouseOverRenderer = !0), this.emit("pointerover", i), "mouse" !== r.pointerType && "pen" !== r.pointerType || this.emit("mouseover", i);
          }, e.prototype.getInteractionDataForPointerId = function (t) {
            var e = t.pointerId,
              r = void 0;
            return e === b || "mouse" === t.pointerType ? r = this.mouse : this.activeInteractionData[e] ? r = this.activeInteractionData[e] : (r = this.interactionDataPool.pop() || new c.default(), r.identifier = e, this.activeInteractionData[e] = r), r.copyEvent(t), r;
          }, e.prototype.releaseInteractionDataForPointerId = function (t) {
            var e = this.activeInteractionData[t];
            e && (delete this.activeInteractionData[t], e.reset(), this.interactionDataPool.push(e));
          }, e.prototype.configureInteractionEventForDOMEvent = function (t, e, r) {
            return t.data = r, this.mapPositionToPoint(r.global, e.clientX, e.clientY), navigator.isCocoonJS && "touch" === e.pointerType && (r.global.x = r.global.x / this.resolution, r.global.y = r.global.y / this.resolution), "touch" === e.pointerType && (e.globalX = r.global.x, e.globalY = r.global.y), r.originalEvent = e, t.reset(), t;
          }, e.prototype.normalizeToPointerData = function (t) {
            var e = [];
            if (this.supportsTouchEvents && t instanceof TouchEvent) for (var r = 0, n = t.changedTouches.length; r < n; r++) {
              var i = t.changedTouches[r];
              void 0 === i.button && (i.button = t.touches.length ? 1 : 0), void 0 === i.buttons && (i.buttons = t.touches.length ? 1 : 0), void 0 === i.isPrimary && (i.isPrimary = 1 === t.touches.length && "touchstart" === t.type), void 0 === i.width && (i.width = i.radiusX || 1), void 0 === i.height && (i.height = i.radiusY || 1), void 0 === i.tiltX && (i.tiltX = 0), void 0 === i.tiltY && (i.tiltY = 0), void 0 === i.pointerType && (i.pointerType = "touch"), void 0 === i.pointerId && (i.pointerId = i.identifier || 0), void 0 === i.pressure && (i.pressure = i.force || .5), void 0 === i.twist && (i.twist = 0), void 0 === i.tangentialPressure && (i.tangentialPressure = 0), void 0 === i.layerX && (i.layerX = i.offsetX = i.clientX), void 0 === i.layerY && (i.layerY = i.offsetY = i.clientY), i.isNormalized = !0, e.push(i);
            } else !(t instanceof MouseEvent) || this.supportsPointerEvents && t instanceof window.PointerEvent ? e.push(t) : (void 0 === t.isPrimary && (t.isPrimary = !0), void 0 === t.width && (t.width = 1), void 0 === t.height && (t.height = 1), void 0 === t.tiltX && (t.tiltX = 0), void 0 === t.tiltY && (t.tiltY = 0), void 0 === t.pointerType && (t.pointerType = "mouse"), void 0 === t.pointerId && (t.pointerId = b), void 0 === t.pressure && (t.pressure = .5), void 0 === t.twist && (t.twist = 0), void 0 === t.tangentialPressure && (t.tangentialPressure = 0), t.isNormalized = !0, e.push(t));
            return e;
          }, e.prototype.destroy = function () {
            this.removeEvents(), this.removeAllListeners(), this.renderer = null, this.mouse = null, this.eventData = null, this.interactionDOMElement = null, this.onPointerDown = null, this.processPointerDown = null, this.onPointerUp = null, this.processPointerUp = null, this.onPointerCancel = null, this.processPointerCancel = null, this.onPointerMove = null, this.processPointerMove = null, this.onPointerOut = null, this.processPointerOverOut = null, this.onPointerOver = null, this._tempPoint = null;
          }, e;
        }(y.default);
      r.default = T, h.WebGLRenderer.registerPlugin("interaction", T), h.CanvasRenderer.registerPlugin("interaction", T);
    }, {
      "../core": 65,
      "./InteractionData": 155,
      "./InteractionEvent": 156,
      "./InteractionTrackingData": 158,
      "./interactiveTarget": 160,
      eventemitter3: 3
    }],
    158: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      r.__esModule = !0;
      var i = function () {
          function t(t, e) {
            for (var r = 0; r < e.length; r++) {
              var n = e[r];
              n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n);
            }
          }
          return function (e, r, n) {
            return r && t(e.prototype, r), n && t(e, n), e;
          };
        }(),
        o = function () {
          function t(e) {
            n(this, t), this._pointerId = e, this._flags = t.FLAGS.NONE;
          }
          return t.prototype._doSet = function (t, e) {
            this._flags = e ? this._flags | t : this._flags & ~t;
          }, i(t, [{
            key: "pointerId",
            get: function get() {
              return this._pointerId;
            }
          }, {
            key: "flags",
            get: function get() {
              return this._flags;
            },
            set: function set(t) {
              this._flags = t;
            }
          }, {
            key: "none",
            get: function get() {
              return this._flags === this.constructor.FLAGS.NONE;
            }
          }, {
            key: "over",
            get: function get() {
              return 0 != (this._flags & this.constructor.FLAGS.OVER);
            },
            set: function set(t) {
              this._doSet(this.constructor.FLAGS.OVER, t);
            }
          }, {
            key: "rightDown",
            get: function get() {
              return 0 != (this._flags & this.constructor.FLAGS.RIGHT_DOWN);
            },
            set: function set(t) {
              this._doSet(this.constructor.FLAGS.RIGHT_DOWN, t);
            }
          }, {
            key: "leftDown",
            get: function get() {
              return 0 != (this._flags & this.constructor.FLAGS.LEFT_DOWN);
            },
            set: function set(t) {
              this._doSet(this.constructor.FLAGS.LEFT_DOWN, t);
            }
          }]), t;
        }();
      r.default = o, o.FLAGS = Object.freeze({
        NONE: 0,
        OVER: 1,
        LEFT_DOWN: 2,
        RIGHT_DOWN: 4
      });
    }, {}],
    159: [function (t, e, r) {
      "use strict";

      function n(t) {
        return t && t.__esModule ? t : {
          default: t
        };
      }
      r.__esModule = !0;
      var i = t("./InteractionData");
      Object.defineProperty(r, "InteractionData", {
        enumerable: !0,
        get: function get() {
          return n(i).default;
        }
      });
      var o = t("./InteractionManager");
      Object.defineProperty(r, "InteractionManager", {
        enumerable: !0,
        get: function get() {
          return n(o).default;
        }
      });
      var s = t("./interactiveTarget");
      Object.defineProperty(r, "interactiveTarget", {
        enumerable: !0,
        get: function get() {
          return n(s).default;
        }
      });
      var a = t("./InteractionTrackingData");
      Object.defineProperty(r, "InteractionTrackingData", {
        enumerable: !0,
        get: function get() {
          return n(a).default;
        }
      });
      var u = t("./InteractionEvent");
      Object.defineProperty(r, "InteractionEvent", {
        enumerable: !0,
        get: function get() {
          return n(u).default;
        }
      });
    }, {
      "./InteractionData": 155,
      "./InteractionEvent": 156,
      "./InteractionManager": 157,
      "./InteractionTrackingData": 158,
      "./interactiveTarget": 160
    }],
    160: [function (t, e, r) {
      "use strict";

      r.__esModule = !0, r.default = {
        interactive: !1,
        interactiveChildren: !0,
        hitArea: null,
        get buttonMode() {
          return "pointer" === this.cursor;
        },
        set buttonMode(t) {
          t ? this.cursor = "pointer" : "pointer" === this.cursor && (this.cursor = null);
        },
        cursor: null,
        get trackedPointers() {
          return void 0 === this._trackedPointers && (this._trackedPointers = {}), this._trackedPointers;
        },
        _trackedPointers: void 0
      };
    }, {}],
    161: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        t.bitmapFont = a.BitmapText.registerFont(t.data, e);
      }
      r.__esModule = !0, r.parse = n, r.default = function () {
        return function (t, e) {
          if (!t.data || t.type !== s.Resource.TYPE.XML) return void e();
          if (0 === t.data.getElementsByTagName("page").length || 0 === t.data.getElementsByTagName("info").length || null === t.data.getElementsByTagName("info")[0].getAttribute("face")) return void e();
          var r = t.isDataUrl ? "" : o.dirname(t.url);
          t.isDataUrl && ("." === r && (r = ""), this.baseUrl && r && "/" === this.baseUrl.charAt(this.baseUrl.length - 1) && (r += "/")), (r = r.replace(this.baseUrl, "")) && "/" !== r.charAt(r.length - 1) && (r += "/");
          for (var i = t.data.getElementsByTagName("page"), a = {}, u = function u(r) {
              a[r.metadata.pageFile] = r.texture, Object.keys(a).length === i.length && (n(t, a), e());
            }, h = 0; h < i.length; ++h) {
            var l = i[h].getAttribute("file"),
              c = r + l,
              d = !1;
            for (var f in this.resources) {
              var p = this.resources[f];
              if (p.url === c) {
                p.metadata.pageFile = l, p.texture ? u(p) : p.onAfterMiddleware.add(u), d = !0;
                break;
              }
            }
            if (!d) {
              var v = {
                crossOrigin: t.crossOrigin,
                loadType: s.Resource.LOAD_TYPE.IMAGE,
                metadata: Object.assign({
                  pageFile: l
                }, t.metadata.imageMetadata),
                parentResource: t
              };
              this.add(c, v, u);
            }
          }
        };
      };
      var i = t("path"),
        o = function (t) {
          if (t && t.__esModule) return t;
          var e = {};
          if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
          return e.default = t, e;
        }(i),
        s = t("resource-loader"),
        a = t("../extras");
    }, {
      "../extras": 141,
      path: 8,
      "resource-loader": 36
    }],
    162: [function (t, e, r) {
      "use strict";

      function n(t) {
        return t && t.__esModule ? t : {
          default: t
        };
      }
      r.__esModule = !0, r.shared = r.Resource = r.textureParser = r.getResourcePath = r.spritesheetParser = r.parseBitmapFontData = r.bitmapFontParser = r.Loader = void 0;
      var i = t("./bitmapFontParser");
      Object.defineProperty(r, "bitmapFontParser", {
        enumerable: !0,
        get: function get() {
          return n(i).default;
        }
      }), Object.defineProperty(r, "parseBitmapFontData", {
        enumerable: !0,
        get: function get() {
          return i.parse;
        }
      });
      var o = t("./spritesheetParser");
      Object.defineProperty(r, "spritesheetParser", {
        enumerable: !0,
        get: function get() {
          return n(o).default;
        }
      }), Object.defineProperty(r, "getResourcePath", {
        enumerable: !0,
        get: function get() {
          return o.getResourcePath;
        }
      });
      var s = t("./textureParser");
      Object.defineProperty(r, "textureParser", {
        enumerable: !0,
        get: function get() {
          return n(s).default;
        }
      });
      var a = t("resource-loader");
      Object.defineProperty(r, "Resource", {
        enumerable: !0,
        get: function get() {
          return a.Resource;
        }
      });
      var u = t("../core/Application"),
        h = n(u),
        l = t("./loader"),
        c = n(l);
      r.Loader = c.default;
      var d = new c.default();
      d.destroy = function () {}, r.shared = d;
      var f = h.default.prototype;
      f._loader = null, Object.defineProperty(f, "loader", {
        get: function get() {
          if (!this._loader) {
            var t = this._options.sharedLoader;
            this._loader = t ? d : new c.default();
          }
          return this._loader;
        }
      }), f._parentDestroy = f.destroy, f.destroy = function (t, e) {
        this._loader && (this._loader.destroy(), this._loader = null), this._parentDestroy(t, e);
      };
    }, {
      "../core/Application": 43,
      "./bitmapFontParser": 161,
      "./loader": 163,
      "./spritesheetParser": 164,
      "./textureParser": 165,
      "resource-loader": 36
    }],
    163: [function (t, e, r) {
      "use strict";

      function n(t) {
        return t && t.__esModule ? t : {
          default: t
        };
      }
      function i(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      function o(t, e) {
        if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !e || "object" != _typeof(e) && "function" != typeof e ? t : e;
      }
      function s(t, e) {
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + _typeof(e));
        t.prototype = Object.create(e && e.prototype, {
          constructor: {
            value: t,
            enumerable: !1,
            writable: !0,
            configurable: !0
          }
        }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e);
      }
      r.__esModule = !0;
      var a = t("resource-loader"),
        u = n(a),
        h = t("resource-loader/lib/middlewares/parsing/blob"),
        l = t("eventemitter3"),
        c = n(l),
        d = t("./textureParser"),
        f = n(d),
        p = t("./spritesheetParser"),
        v = n(p),
        g = t("./bitmapFontParser"),
        y = n(g),
        m = function (t) {
          function e(r, n) {
            i(this, e);
            var s = o(this, t.call(this, r, n));
            c.default.call(s);
            for (var a = 0; a < e._pixiMiddleware.length; ++a) s.use(e._pixiMiddleware[a]());
            return s.onStart.add(function (t) {
              return s.emit("start", t);
            }), s.onProgress.add(function (t, e) {
              return s.emit("progress", t, e);
            }), s.onError.add(function (t, e, r) {
              return s.emit("error", t, e, r);
            }), s.onLoad.add(function (t, e) {
              return s.emit("load", t, e);
            }), s.onComplete.add(function (t, e) {
              return s.emit("complete", t, e);
            }), s;
          }
          return s(e, t), e.addPixiMiddleware = function (t) {
            e._pixiMiddleware.push(t);
          }, e.prototype.destroy = function () {
            this.removeAllListeners(), this.reset();
          }, e;
        }(u.default);
      r.default = m;
      for (var _ in c.default.prototype) m.prototype[_] = c.default.prototype[_];
      m._pixiMiddleware = [h.blobMiddlewareFactory, f.default, v.default, y.default];
      var b = u.default.Resource;
      b.setExtensionXhrType("fnt", b.XHR_RESPONSE_TYPE.DOCUMENT);
    }, {
      "./bitmapFontParser": 161,
      "./spritesheetParser": 164,
      "./textureParser": 165,
      eventemitter3: 3,
      "resource-loader": 36,
      "resource-loader/lib/middlewares/parsing/blob": 37
    }],
    164: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        return t.isDataUrl ? t.data.meta.image : s.default.resolve(t.url.replace(e, ""), t.data.meta.image);
      }
      r.__esModule = !0, r.default = function () {
        return function (t, e) {
          var r = t.name + "_image";
          if (!t.data || t.type !== i.Resource.TYPE.JSON || !t.data.frames || this.resources[r]) return void e();
          var o = {
              crossOrigin: t.crossOrigin,
              metadata: t.metadata.imageMetadata,
              parentResource: t
            },
            s = n(t, this.baseUrl);
          this.add(r, s, o, function (r) {
            if (r.error) return void e(r.error);
            var n = new a.Spritesheet(r.texture.baseTexture, t.data, t.url);
            n.parse(function () {
              t.spritesheet = n, t.textures = n.textures, e();
            });
          });
        };
      }, r.getResourcePath = n;
      var i = t("resource-loader"),
        o = t("url"),
        s = function (t) {
          return t && t.__esModule ? t : {
            default: t
          };
        }(o),
        a = t("../core");
    }, {
      "../core": 65,
      "resource-loader": 36,
      url: 38
    }],
    165: [function (t, e, r) {
      "use strict";

      r.__esModule = !0, r.default = function () {
        return function (t, e) {
          t.data && t.type === n.Resource.TYPE.IMAGE && (t.texture = o.default.fromLoader(t.data, t.url, t.name)), e();
        };
      };
      var n = t("resource-loader"),
        i = t("../core/textures/Texture"),
        o = function (t) {
          return t && t.__esModule ? t : {
            default: t
          };
        }(i);
    }, {
      "../core/textures/Texture": 115,
      "resource-loader": 36
    }],
    166: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      function i(t, e) {
        if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !e || "object" != _typeof(e) && "function" != typeof e ? t : e;
      }
      function o(t, e) {
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + _typeof(e));
        t.prototype = Object.create(e && e.prototype, {
          constructor: {
            value: t,
            enumerable: !1,
            writable: !0,
            configurable: !0
          }
        }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e);
      }
      r.__esModule = !0;
      var s = function () {
          function t(t, e) {
            for (var r = 0; r < e.length; r++) {
              var n = e[r];
              n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n);
            }
          }
          return function (e, r, n) {
            return r && t(e.prototype, r), n && t(e, n), e;
          };
        }(),
        a = t("../core"),
        u = function (t) {
          if (t && t.__esModule) return t;
          var e = {};
          if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
          return e.default = t, e;
        }(a),
        h = t("../core/textures/Texture"),
        l = function (t) {
          return t && t.__esModule ? t : {
            default: t
          };
        }(h),
        c = new u.Point(),
        d = new u.Polygon(),
        f = function (t) {
          function e(r, o, s, a, h) {
            n(this, e);
            var c = i(this, t.call(this));
            return c._texture = r || l.default.EMPTY, c.uvs = s || new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]), c.vertices = o || new Float32Array([0, 0, 100, 0, 100, 100, 0, 100]), c.indices = a || new Uint16Array([0, 1, 3, 2]), c.dirty = 0, c.indexDirty = 0, c.vertexDirty = 0, c.autoUpdate = !0, c.blendMode = u.BLEND_MODES.NORMAL, c.canvasPadding = u.settings.MESH_CANVAS_PADDING, c.drawMode = h || e.DRAW_MODES.TRIANGLE_MESH, c.shader = null, c.tintRgb = new Float32Array([1, 1, 1]), c._glDatas = {}, c._uvTransform = new u.TextureMatrix(c._texture), c.uploadUvTransform = !1, c.pluginName = "mesh", c;
          }
          return o(e, t), e.prototype._renderWebGL = function (t) {
            this.refresh(), t.setObjectRenderer(t.plugins[this.pluginName]), t.plugins[this.pluginName].render(this);
          }, e.prototype._renderCanvas = function (t) {
            this.refresh(), t.plugins[this.pluginName].render(this);
          }, e.prototype._onTextureUpdate = function () {
            this._uvTransform.texture = this._texture, this.refresh();
          }, e.prototype.multiplyUvs = function () {
            this.uploadUvTransform || this._uvTransform.multiplyUvs(this.uvs);
          }, e.prototype.refresh = function (t) {
            this.autoUpdate && this.vertexDirty++, this._uvTransform.update(t) && this._refresh();
          }, e.prototype._refresh = function () {}, e.prototype._calculateBounds = function () {
            this._bounds.addVertices(this.transform, this.vertices, 0, this.vertices.length);
          }, e.prototype.containsPoint = function (t) {
            if (!this.getBounds().contains(t.x, t.y)) return !1;
            this.worldTransform.applyInverse(t, c);
            for (var r = this.vertices, n = d.points, i = this.indices, o = this.indices.length, s = this.drawMode === e.DRAW_MODES.TRIANGLES ? 3 : 1, a = 0; a + 2 < o; a += s) {
              var u = 2 * i[a],
                h = 2 * i[a + 1],
                l = 2 * i[a + 2];
              if (n[0] = r[u], n[1] = r[u + 1], n[2] = r[h], n[3] = r[h + 1], n[4] = r[l], n[5] = r[l + 1], d.contains(c.x, c.y)) return !0;
            }
            return !1;
          }, e.prototype.destroy = function (e) {
            for (var r in this._glDatas) {
              var n = this._glDatas[r];
              n.destroy ? n.destroy() : (n.vertexBuffer && (n.vertexBuffer.destroy(), n.vertexBuffer = null), n.indexBuffer && (n.indexBuffer.destroy(), n.indexBuffer = null), n.uvBuffer && (n.uvBuffer.destroy(), n.uvBuffer = null), n.vao && (n.vao.destroy(), n.vao = null));
            }
            this._glDatas = null, t.prototype.destroy.call(this, e);
          }, s(e, [{
            key: "texture",
            get: function get() {
              return this._texture;
            },
            set: function set(t) {
              this._texture !== t && (this._texture = t, t && (t.baseTexture.hasLoaded ? this._onTextureUpdate() : t.once("update", this._onTextureUpdate, this)));
            }
          }, {
            key: "tint",
            get: function get() {
              return u.utils.rgb2hex(this.tintRgb);
            },
            set: function set(t) {
              this.tintRgb = u.utils.hex2rgb(t, this.tintRgb);
            }
          }]), e;
        }(u.Container);
      r.default = f, f.DRAW_MODES = {
        TRIANGLE_MESH: 0,
        TRIANGLES: 1
      };
    }, {
      "../core": 65,
      "../core/textures/Texture": 115
    }],
    167: [function (t, e, r) {
      "use strict";

      function n(t) {
        return t && t.__esModule ? t : {
          default: t
        };
      }
      function i(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      function o(t, e) {
        if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !e || "object" != _typeof(e) && "function" != typeof e ? t : e;
      }
      function s(t, e) {
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + _typeof(e));
        t.prototype = Object.create(e && e.prototype, {
          constructor: {
            value: t,
            enumerable: !1,
            writable: !0,
            configurable: !0
          }
        }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e);
      }
      r.__esModule = !0;
      var a = function () {
          function t(t, e) {
            for (var r = 0; r < e.length; r++) {
              var n = e[r];
              n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n);
            }
          }
          return function (e, r, n) {
            return r && t(e.prototype, r), n && t(e, n), e;
          };
        }(),
        u = t("./Plane"),
        h = n(u),
        l = t("../core/sprites/canvas/CanvasTinter"),
        c = n(l),
        d = 10,
        f = function (t) {
          function e(r, n, s, a, u) {
            i(this, e);
            var h = o(this, t.call(this, r, 4, 4));
            return h._origWidth = r.orig.width, h._origHeight = r.orig.height, h._width = h._origWidth, h._height = h._origHeight, h._leftWidth = void 0 !== n ? n : d, h._rightWidth = void 0 !== a ? a : d, h._topHeight = void 0 !== s ? s : d, h._bottomHeight = void 0 !== u ? u : d, h._cachedTint = 16777215, h._tintedTexture = null, h._canvasUvs = null, h.refresh(!0), h;
          }
          return s(e, t), e.prototype.updateHorizontalVertices = function () {
            var t = this.vertices,
              e = this._topHeight + this._bottomHeight,
              r = this._height > e ? 1 : this._height / e;
            t[9] = t[11] = t[13] = t[15] = this._topHeight * r, t[17] = t[19] = t[21] = t[23] = this._height - this._bottomHeight * r, t[25] = t[27] = t[29] = t[31] = this._height;
          }, e.prototype.updateVerticalVertices = function () {
            var t = this.vertices,
              e = this._leftWidth + this._rightWidth,
              r = this._width > e ? 1 : this._width / e;
            t[2] = t[10] = t[18] = t[26] = this._leftWidth * r, t[4] = t[12] = t[20] = t[28] = this._width - this._rightWidth * r, t[6] = t[14] = t[22] = t[30] = this._width;
          }, e.prototype._renderCanvas = function (t) {
            var e = t.context,
              r = this.worldTransform,
              n = t.resolution,
              i = 16777215 !== this.tint,
              o = this._texture;
            i && this._cachedTint !== this.tint && (this._cachedTint = this.tint, this._tintedTexture = c.default.getTintedTexture(this, this.tint));
            var s = i ? this._tintedTexture : o.baseTexture.source;
            this._canvasUvs || (this._canvasUvs = [0, 0, 0, 0, 0, 0, 0, 0]);
            var a = this.vertices,
              u = this._canvasUvs,
              h = i ? 0 : o.frame.x,
              l = i ? 0 : o.frame.y,
              d = h + o.frame.width,
              f = l + o.frame.height;
            u[0] = h, u[1] = h + this._leftWidth, u[2] = d - this._rightWidth, u[3] = d, u[4] = l, u[5] = l + this._topHeight, u[6] = f - this._bottomHeight, u[7] = f;
            for (var p = 0; p < 8; p++) u[p] *= o.baseTexture.resolution;
            e.globalAlpha = this.worldAlpha, t.setBlendMode(this.blendMode), t.roundPixels ? e.setTransform(r.a * n, r.b * n, r.c * n, r.d * n, r.tx * n | 0, r.ty * n | 0) : e.setTransform(r.a * n, r.b * n, r.c * n, r.d * n, r.tx * n, r.ty * n);
            for (var v = 0; v < 3; v++) for (var g = 0; g < 3; g++) {
              var y = 2 * g + 8 * v,
                m = Math.max(1, u[g + 1] - u[g]),
                _ = Math.max(1, u[v + 5] - u[v + 4]),
                b = Math.max(1, a[y + 10] - a[y]),
                x = Math.max(1, a[y + 11] - a[y + 1]);
              e.drawImage(s, u[g], u[v + 4], m, _, a[y], a[y + 1], b, x);
            }
          }, e.prototype._refresh = function () {
            t.prototype._refresh.call(this);
            var e = this.uvs,
              r = this._texture;
            this._origWidth = r.orig.width, this._origHeight = r.orig.height;
            var n = 1 / this._origWidth,
              i = 1 / this._origHeight;
            e[0] = e[8] = e[16] = e[24] = 0, e[1] = e[3] = e[5] = e[7] = 0, e[6] = e[14] = e[22] = e[30] = 1, e[25] = e[27] = e[29] = e[31] = 1, e[2] = e[10] = e[18] = e[26] = n * this._leftWidth, e[4] = e[12] = e[20] = e[28] = 1 - n * this._rightWidth, e[9] = e[11] = e[13] = e[15] = i * this._topHeight, e[17] = e[19] = e[21] = e[23] = 1 - i * this._bottomHeight, this.updateHorizontalVertices(), this.updateVerticalVertices(), this.dirty++, this.multiplyUvs();
          }, a(e, [{
            key: "width",
            get: function get() {
              return this._width;
            },
            set: function set(t) {
              this._width = t, this._refresh();
            }
          }, {
            key: "height",
            get: function get() {
              return this._height;
            },
            set: function set(t) {
              this._height = t, this._refresh();
            }
          }, {
            key: "leftWidth",
            get: function get() {
              return this._leftWidth;
            },
            set: function set(t) {
              this._leftWidth = t, this._refresh();
            }
          }, {
            key: "rightWidth",
            get: function get() {
              return this._rightWidth;
            },
            set: function set(t) {
              this._rightWidth = t, this._refresh();
            }
          }, {
            key: "topHeight",
            get: function get() {
              return this._topHeight;
            },
            set: function set(t) {
              this._topHeight = t, this._refresh();
            }
          }, {
            key: "bottomHeight",
            get: function get() {
              return this._bottomHeight;
            },
            set: function set(t) {
              this._bottomHeight = t, this._refresh();
            }
          }]), e;
        }(h.default);
      r.default = f;
    }, {
      "../core/sprites/canvas/CanvasTinter": 104,
      "./Plane": 168
    }],
    168: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      function i(t, e) {
        if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !e || "object" != _typeof(e) && "function" != typeof e ? t : e;
      }
      function o(t, e) {
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + _typeof(e));
        t.prototype = Object.create(e && e.prototype, {
          constructor: {
            value: t,
            enumerable: !1,
            writable: !0,
            configurable: !0
          }
        }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e);
      }
      r.__esModule = !0;
      var s = t("./Mesh"),
        a = function (t) {
          return t && t.__esModule ? t : {
            default: t
          };
        }(s),
        u = function (t) {
          function e(r, o, s) {
            n(this, e);
            var u = i(this, t.call(this, r));
            return u._ready = !0, u.verticesX = o || 10, u.verticesY = s || 10, u.drawMode = a.default.DRAW_MODES.TRIANGLES, u.refresh(), u;
          }
          return o(e, t), e.prototype._refresh = function () {
            for (var t = this._texture, e = this.verticesX * this.verticesY, r = [], n = [], i = [], o = [], s = this.verticesX - 1, a = this.verticesY - 1, u = t.width / s, h = t.height / a, l = 0; l < e; l++) {
              var c = l % this.verticesX,
                d = l / this.verticesX | 0;
              r.push(c * u, d * h), i.push(c / s, d / a);
            }
            for (var f = s * a, p = 0; p < f; p++) {
              var v = p % s,
                g = p / s | 0,
                y = g * this.verticesX + v,
                m = g * this.verticesX + v + 1,
                _ = (g + 1) * this.verticesX + v,
                b = (g + 1) * this.verticesX + v + 1;
              o.push(y, m, _), o.push(m, b, _);
            }
            this.vertices = new Float32Array(r), this.uvs = new Float32Array(i), this.colors = new Float32Array(n), this.indices = new Uint16Array(o), this.dirty++, this.indexDirty++, this.multiplyUvs();
          }, e.prototype._onTextureUpdate = function () {
            a.default.prototype._onTextureUpdate.call(this), this._ready && this.refresh();
          }, e;
        }(a.default);
      r.default = u;
    }, {
      "./Mesh": 166
    }],
    169: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      function i(t, e) {
        if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !e || "object" != _typeof(e) && "function" != typeof e ? t : e;
      }
      function o(t, e) {
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + _typeof(e));
        t.prototype = Object.create(e && e.prototype, {
          constructor: {
            value: t,
            enumerable: !1,
            writable: !0,
            configurable: !0
          }
        }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e);
      }
      r.__esModule = !0;
      var s = t("./Mesh"),
        a = function (t) {
          return t && t.__esModule ? t : {
            default: t
          };
        }(s),
        u = function (t) {
          function e(r, o) {
            n(this, e);
            var s = i(this, t.call(this, r));
            return s.points = o, s.vertices = new Float32Array(4 * o.length), s.uvs = new Float32Array(4 * o.length), s.colors = new Float32Array(2 * o.length), s.indices = new Uint16Array(2 * o.length), s.autoUpdate = !0, s.refresh(), s;
          }
          return o(e, t), e.prototype._refresh = function () {
            var t = this.points;
            if (!(t.length < 1) && this._texture._uvs) {
              this.vertices.length / 4 !== t.length && (this.vertices = new Float32Array(4 * t.length), this.uvs = new Float32Array(4 * t.length), this.colors = new Float32Array(2 * t.length), this.indices = new Uint16Array(2 * t.length));
              var e = this.uvs,
                r = this.indices,
                n = this.colors;
              e[0] = 0, e[1] = 0, e[2] = 0, e[3] = 1, n[0] = 1, n[1] = 1, r[0] = 0, r[1] = 1;
              for (var i = t.length, o = 1; o < i; o++) {
                var s = 4 * o,
                  a = o / (i - 1);
                e[s] = a, e[s + 1] = 0, e[s + 2] = a, e[s + 3] = 1, s = 2 * o, n[s] = 1, n[s + 1] = 1, s = 2 * o, r[s] = s, r[s + 1] = s + 1;
              }
              this.dirty++, this.indexDirty++, this.multiplyUvs(), this.refreshVertices();
            }
          }, e.prototype.refreshVertices = function () {
            var t = this.points;
            if (!(t.length < 1)) for (var e = t[0], r = void 0, n = 0, i = 0, o = this.vertices, s = t.length, a = 0; a < s; a++) {
              var u = t[a],
                h = 4 * a;
              r = a < t.length - 1 ? t[a + 1] : u, i = -(r.x - e.x), n = r.y - e.y;
              var l = 10 * (1 - a / (s - 1));
              l > 1 && (l = 1);
              var c = Math.sqrt(n * n + i * i),
                d = this._texture.height / 2;
              n /= c, i /= c, n *= d, i *= d, o[h] = u.x + n, o[h + 1] = u.y + i, o[h + 2] = u.x - n, o[h + 3] = u.y - i, e = u;
            }
          }, e.prototype.updateTransform = function () {
            this.autoUpdate && this.refreshVertices(), this.containerUpdateTransform();
          }, e;
        }(a.default);
      r.default = u;
    }, {
      "./Mesh": 166
    }],
    170: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      r.__esModule = !0;
      var i = t("../../core"),
        o = function (t) {
          if (t && t.__esModule) return t;
          var e = {};
          if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
          return e.default = t, e;
        }(i),
        s = t("../Mesh"),
        a = function (t) {
          return t && t.__esModule ? t : {
            default: t
          };
        }(s),
        u = function () {
          function t(e) {
            n(this, t), this.renderer = e;
          }
          return t.prototype.render = function (t) {
            var e = this.renderer,
              r = e.context,
              n = t.worldTransform,
              i = e.resolution;
            e.roundPixels ? r.setTransform(n.a * i, n.b * i, n.c * i, n.d * i, n.tx * i | 0, n.ty * i | 0) : r.setTransform(n.a * i, n.b * i, n.c * i, n.d * i, n.tx * i, n.ty * i), e.context.globalAlpha = t.worldAlpha, e.setBlendMode(t.blendMode), t.drawMode === a.default.DRAW_MODES.TRIANGLE_MESH ? this._renderTriangleMesh(t) : this._renderTriangles(t);
          }, t.prototype._renderTriangleMesh = function (t) {
            for (var e = t.vertices.length / 2, r = 0; r < e - 2; r++) {
              var n = 2 * r;
              this._renderDrawTriangle(t, n, n + 2, n + 4);
            }
          }, t.prototype._renderTriangles = function (t) {
            for (var e = t.indices, r = e.length, n = 0; n < r; n += 3) {
              var i = 2 * e[n],
                o = 2 * e[n + 1],
                s = 2 * e[n + 2];
              this._renderDrawTriangle(t, i, o, s);
            }
          }, t.prototype._renderDrawTriangle = function (t, e, r, n) {
            var i = this.renderer.context,
              o = t.uvs,
              s = t.vertices,
              a = t._texture;
            if (a.valid) {
              var u = a.baseTexture,
                h = u.source,
                l = u.width,
                c = u.height,
                d = void 0,
                f = void 0,
                p = void 0,
                v = void 0,
                g = void 0,
                y = void 0;
              if (t.uploadUvTransform) {
                var m = t._uvTransform.mapCoord;
                d = (o[e] * m.a + o[e + 1] * m.c + m.tx) * u.width, f = (o[r] * m.a + o[r + 1] * m.c + m.tx) * u.width, p = (o[n] * m.a + o[n + 1] * m.c + m.tx) * u.width, v = (o[e] * m.b + o[e + 1] * m.d + m.ty) * u.height, g = (o[r] * m.b + o[r + 1] * m.d + m.ty) * u.height, y = (o[n] * m.b + o[n + 1] * m.d + m.ty) * u.height;
              } else d = o[e] * u.width, f = o[r] * u.width, p = o[n] * u.width, v = o[e + 1] * u.height, g = o[r + 1] * u.height, y = o[n + 1] * u.height;
              var _ = s[e],
                b = s[r],
                x = s[n],
                T = s[e + 1],
                w = s[r + 1],
                E = s[n + 1],
                S = t.canvasPadding / this.renderer.resolution;
              if (S > 0) {
                var O = S / Math.abs(t.worldTransform.a),
                  M = S / Math.abs(t.worldTransform.d),
                  P = (_ + b + x) / 3,
                  C = (T + w + E) / 3,
                  R = _ - P,
                  A = T - C,
                  I = Math.sqrt(R * R + A * A);
                _ = P + R / I * (I + O), T = C + A / I * (I + M), R = b - P, A = w - C, I = Math.sqrt(R * R + A * A), b = P + R / I * (I + O), w = C + A / I * (I + M), R = x - P, A = E - C, I = Math.sqrt(R * R + A * A), x = P + R / I * (I + O), E = C + A / I * (I + M);
              }
              i.save(), i.beginPath(), i.moveTo(_, T), i.lineTo(b, w), i.lineTo(x, E), i.closePath(), i.clip();
              var D = d * g + v * p + f * y - g * p - v * f - d * y,
                L = _ * g + v * x + b * y - g * x - v * b - _ * y,
                N = d * b + _ * p + f * x - b * p - _ * f - d * x,
                B = d * g * x + v * b * p + _ * f * y - _ * g * p - v * f * x - d * b * y,
                k = T * g + v * E + w * y - g * E - v * w - T * y,
                F = d * w + T * p + f * E - w * p - T * f - d * E,
                j = d * g * E + v * w * p + T * f * y - T * g * p - v * f * E - d * w * y;
              i.transform(L / D, k / D, N / D, F / D, B / D, j / D), i.drawImage(h, 0, 0, l * u.resolution, c * u.resolution, 0, 0, l, c), i.restore(), this.renderer.invalidateBlendMode();
            }
          }, t.prototype.renderMeshFlat = function (t) {
            var e = this.renderer.context,
              r = t.vertices,
              n = r.length / 2;
            e.beginPath();
            for (var i = 1; i < n - 2; ++i) {
              var o = 2 * i,
                s = r[o],
                a = r[o + 1],
                u = r[o + 2],
                h = r[o + 3],
                l = r[o + 4],
                c = r[o + 5];
              e.moveTo(s, a), e.lineTo(u, h), e.lineTo(l, c);
            }
            e.fillStyle = "#FF0000", e.fill(), e.closePath();
          }, t.prototype.destroy = function () {
            this.renderer = null;
          }, t;
        }();
      r.default = u, o.CanvasRenderer.registerPlugin("mesh", u);
    }, {
      "../../core": 65,
      "../Mesh": 166
    }],
    171: [function (t, e, r) {
      "use strict";

      function n(t) {
        return t && t.__esModule ? t : {
          default: t
        };
      }
      r.__esModule = !0;
      var i = t("./Mesh");
      Object.defineProperty(r, "Mesh", {
        enumerable: !0,
        get: function get() {
          return n(i).default;
        }
      });
      var o = t("./webgl/MeshRenderer");
      Object.defineProperty(r, "MeshRenderer", {
        enumerable: !0,
        get: function get() {
          return n(o).default;
        }
      });
      var s = t("./canvas/CanvasMeshRenderer");
      Object.defineProperty(r, "CanvasMeshRenderer", {
        enumerable: !0,
        get: function get() {
          return n(s).default;
        }
      });
      var a = t("./Plane");
      Object.defineProperty(r, "Plane", {
        enumerable: !0,
        get: function get() {
          return n(a).default;
        }
      });
      var u = t("./NineSlicePlane");
      Object.defineProperty(r, "NineSlicePlane", {
        enumerable: !0,
        get: function get() {
          return n(u).default;
        }
      });
      var h = t("./Rope");
      Object.defineProperty(r, "Rope", {
        enumerable: !0,
        get: function get() {
          return n(h).default;
        }
      });
    }, {
      "./Mesh": 166,
      "./NineSlicePlane": 167,
      "./Plane": 168,
      "./Rope": 169,
      "./canvas/CanvasMeshRenderer": 170,
      "./webgl/MeshRenderer": 172
    }],
    172: [function (t, e, r) {
      "use strict";

      function n(t) {
        return t && t.__esModule ? t : {
          default: t
        };
      }
      function i(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      function o(t, e) {
        if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !e || "object" != _typeof(e) && "function" != typeof e ? t : e;
      }
      function s(t, e) {
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + _typeof(e));
        t.prototype = Object.create(e && e.prototype, {
          constructor: {
            value: t,
            enumerable: !1,
            writable: !0,
            configurable: !0
          }
        }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e);
      }
      r.__esModule = !0;
      var a = t("../../core"),
        u = function (t) {
          if (t && t.__esModule) return t;
          var e = {};
          if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
          return e.default = t, e;
        }(a),
        h = t("pixi-gl-core"),
        l = n(h),
        c = t("../Mesh"),
        d = n(c),
        f = (t("path"), u.Matrix.IDENTITY),
        p = function (t) {
          function e(r) {
            i(this, e);
            var n = o(this, t.call(this, r));
            return n.shader = null, n;
          }
          return s(e, t), e.prototype.onContextChange = function () {
            var t = this.renderer.gl;
            this.shader = new u.Shader(t, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n", "varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n");
          }, e.prototype.render = function (t) {
            var e = this.renderer,
              r = e.gl,
              n = t._texture;
            if (n.valid) {
              var i = t._glDatas[e.CONTEXT_UID];
              i || (e.bindVao(null), i = {
                shader: this.shader,
                vertexBuffer: l.default.GLBuffer.createVertexBuffer(r, t.vertices, r.STREAM_DRAW),
                uvBuffer: l.default.GLBuffer.createVertexBuffer(r, t.uvs, r.STREAM_DRAW),
                indexBuffer: l.default.GLBuffer.createIndexBuffer(r, t.indices, r.STATIC_DRAW),
                vao: null,
                dirty: t.dirty,
                indexDirty: t.indexDirty,
                vertexDirty: t.vertexDirty
              }, i.vao = new l.default.VertexArrayObject(r).addIndex(i.indexBuffer).addAttribute(i.vertexBuffer, i.shader.attributes.aVertexPosition, r.FLOAT, !1, 8, 0).addAttribute(i.uvBuffer, i.shader.attributes.aTextureCoord, r.FLOAT, !1, 8, 0), t._glDatas[e.CONTEXT_UID] = i), e.bindVao(i.vao), t.dirty !== i.dirty && (i.dirty = t.dirty, i.uvBuffer.upload(t.uvs)), t.indexDirty !== i.indexDirty && (i.indexDirty = t.indexDirty, i.indexBuffer.upload(t.indices)), t.vertexDirty !== i.vertexDirty && (i.vertexDirty = t.vertexDirty, i.vertexBuffer.upload(t.vertices)), e.bindShader(i.shader), i.shader.uniforms.uSampler = e.bindTexture(n), e.state.setBlendMode(u.utils.correctBlendMode(t.blendMode, n.baseTexture.premultipliedAlpha)), i.shader.uniforms.uTransform && (t.uploadUvTransform ? i.shader.uniforms.uTransform = t._uvTransform.mapCoord.toArray(!0) : i.shader.uniforms.uTransform = f.toArray(!0)), i.shader.uniforms.translationMatrix = t.worldTransform.toArray(!0), i.shader.uniforms.uColor = u.utils.premultiplyRgba(t.tintRgb, t.worldAlpha, i.shader.uniforms.uColor, n.baseTexture.premultipliedAlpha);
              var o = t.drawMode === d.default.DRAW_MODES.TRIANGLE_MESH ? r.TRIANGLE_STRIP : r.TRIANGLES;
              i.vao.draw(o, t.indices.length, 0);
            }
          }, e;
        }(u.ObjectRenderer);
      r.default = p, u.WebGLRenderer.registerPlugin("mesh", p);
    }, {
      "../../core": 65,
      "../Mesh": 166,
      path: 8,
      "pixi-gl-core": 15
    }],
    173: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      function i(t, e) {
        if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !e || "object" != _typeof(e) && "function" != typeof e ? t : e;
      }
      function o(t, e) {
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + _typeof(e));
        t.prototype = Object.create(e && e.prototype, {
          constructor: {
            value: t,
            enumerable: !1,
            writable: !0,
            configurable: !0
          }
        }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e);
      }
      r.__esModule = !0;
      var s = function () {
          function t(t, e) {
            for (var r = 0; r < e.length; r++) {
              var n = e[r];
              n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n);
            }
          }
          return function (e, r, n) {
            return r && t(e.prototype, r), n && t(e, n), e;
          };
        }(),
        a = t("../core"),
        u = function (t) {
          if (t && t.__esModule) return t;
          var e = {};
          if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
          return e.default = t, e;
        }(a),
        h = t("../core/utils"),
        l = function (t) {
          function e() {
            var r = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1500,
              o = arguments[1],
              s = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 16384,
              a = arguments.length > 3 && void 0 !== arguments[3] && arguments[3];
            n(this, e);
            var h = i(this, t.call(this));
            return s > 16384 && (s = 16384), s > r && (s = r), h._properties = [!1, !0, !1, !1, !1], h._maxSize = r, h._batchSize = s, h._glBuffers = {}, h._bufferUpdateIDs = [], h._updateID = 0, h.interactiveChildren = !1, h.blendMode = u.BLEND_MODES.NORMAL, h.autoResize = a, h.roundPixels = !0, h.baseTexture = null, h.setProperties(o), h._tint = 0, h.tintRgb = new Float32Array(4), h.tint = 16777215, h;
          }
          return o(e, t), e.prototype.setProperties = function (t) {
            t && (this._properties[0] = "vertices" in t || "scale" in t ? !!t.vertices || !!t.scale : this._properties[0], this._properties[1] = "position" in t ? !!t.position : this._properties[1], this._properties[2] = "rotation" in t ? !!t.rotation : this._properties[2], this._properties[3] = "uvs" in t ? !!t.uvs : this._properties[3], this._properties[4] = "tint" in t || "alpha" in t ? !!t.tint || !!t.alpha : this._properties[4]);
          }, e.prototype.updateTransform = function () {
            this.displayObjectUpdateTransform();
          }, e.prototype.renderWebGL = function (t) {
            var e = this;
            this.visible && !(this.worldAlpha <= 0) && this.children.length && this.renderable && (this.baseTexture || (this.baseTexture = this.children[0]._texture.baseTexture, this.baseTexture.hasLoaded || this.baseTexture.once("update", function () {
              return e.onChildrenChange(0);
            })), t.setObjectRenderer(t.plugins.particle), t.plugins.particle.render(this));
          }, e.prototype.onChildrenChange = function (t) {
            for (var e = Math.floor(t / this._batchSize); this._bufferUpdateIDs.length < e;) this._bufferUpdateIDs.push(0);
            this._bufferUpdateIDs[e] = ++this._updateID;
          }, e.prototype.renderCanvas = function (t) {
            if (this.visible && !(this.worldAlpha <= 0) && this.children.length && this.renderable) {
              var e = t.context,
                r = this.worldTransform,
                n = !0,
                i = 0,
                o = 0,
                s = 0,
                a = 0;
              t.setBlendMode(this.blendMode), e.globalAlpha = this.worldAlpha, this.displayObjectUpdateTransform();
              for (var u = 0; u < this.children.length; ++u) {
                var h = this.children[u];
                if (h.visible) {
                  var l = h._texture.frame;
                  if (e.globalAlpha = this.worldAlpha * h.alpha, h.rotation % (2 * Math.PI) == 0) n && (e.setTransform(r.a, r.b, r.c, r.d, r.tx * t.resolution, r.ty * t.resolution), n = !1), i = h.anchor.x * (-l.width * h.scale.x) + h.position.x + .5, o = h.anchor.y * (-l.height * h.scale.y) + h.position.y + .5, s = l.width * h.scale.x, a = l.height * h.scale.y;else {
                    n || (n = !0), h.displayObjectUpdateTransform();
                    var c = h.worldTransform;
                    t.roundPixels ? e.setTransform(c.a, c.b, c.c, c.d, c.tx * t.resolution | 0, c.ty * t.resolution | 0) : e.setTransform(c.a, c.b, c.c, c.d, c.tx * t.resolution, c.ty * t.resolution), i = h.anchor.x * -l.width + .5, o = h.anchor.y * -l.height + .5, s = l.width, a = l.height;
                  }
                  var d = h._texture.baseTexture.resolution;
                  e.drawImage(h._texture.baseTexture.source, l.x * d, l.y * d, l.width * d, l.height * d, i * t.resolution, o * t.resolution, s * t.resolution, a * t.resolution);
                }
              }
            }
          }, e.prototype.destroy = function (e) {
            if (t.prototype.destroy.call(this, e), this._buffers) for (var r = 0; r < this._buffers.length; ++r) this._buffers[r].destroy();
            this._properties = null, this._buffers = null, this._bufferUpdateIDs = null;
          }, s(e, [{
            key: "tint",
            get: function get() {
              return this._tint;
            },
            set: function set(t) {
              this._tint = t, (0, h.hex2rgb)(t, this.tintRgb);
            }
          }]), e;
        }(u.Container);
      r.default = l;
    }, {
      "../core": 65,
      "../core/utils": 125
    }],
    174: [function (t, e, r) {
      "use strict";

      function n(t) {
        return t && t.__esModule ? t : {
          default: t
        };
      }
      r.__esModule = !0;
      var i = t("./ParticleContainer");
      Object.defineProperty(r, "ParticleContainer", {
        enumerable: !0,
        get: function get() {
          return n(i).default;
        }
      });
      var o = t("./webgl/ParticleRenderer");
      Object.defineProperty(r, "ParticleRenderer", {
        enumerable: !0,
        get: function get() {
          return n(o).default;
        }
      });
    }, {
      "./ParticleContainer": 173,
      "./webgl/ParticleRenderer": 176
    }],
    175: [function (t, e, r) {
      "use strict";

      function n(t) {
        return t && t.__esModule ? t : {
          default: t
        };
      }
      function i(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      r.__esModule = !0;
      var o = t("pixi-gl-core"),
        s = n(o),
        a = t("../../core/utils/createIndicesForQuads"),
        u = n(a),
        h = function () {
          function t(e, r, n, o) {
            i(this, t), this.gl = e, this.size = o, this.dynamicProperties = [], this.staticProperties = [];
            for (var s = 0; s < r.length; ++s) {
              var a = r[s];
              a = {
                attribute: a.attribute,
                size: a.size,
                uploadFunction: a.uploadFunction,
                unsignedByte: a.unsignedByte,
                offset: a.offset
              }, n[s] ? this.dynamicProperties.push(a) : this.staticProperties.push(a);
            }
            this.staticStride = 0, this.staticBuffer = null, this.staticData = null, this.staticDataUint32 = null, this.dynamicStride = 0, this.dynamicBuffer = null, this.dynamicData = null, this.dynamicDataUint32 = null, this._updateID = 0, this.initBuffers();
          }
          return t.prototype.initBuffers = function () {
            var t = this.gl,
              e = 0;
            this.indices = (0, u.default)(this.size), this.indexBuffer = s.default.GLBuffer.createIndexBuffer(t, this.indices, t.STATIC_DRAW), this.dynamicStride = 0;
            for (var r = 0; r < this.dynamicProperties.length; ++r) {
              var n = this.dynamicProperties[r];
              n.offset = e, e += n.size, this.dynamicStride += n.size;
            }
            var i = new ArrayBuffer(this.size * this.dynamicStride * 4 * 4);
            this.dynamicData = new Float32Array(i), this.dynamicDataUint32 = new Uint32Array(i), this.dynamicBuffer = s.default.GLBuffer.createVertexBuffer(t, i, t.STREAM_DRAW);
            var o = 0;
            this.staticStride = 0;
            for (var a = 0; a < this.staticProperties.length; ++a) {
              var h = this.staticProperties[a];
              h.offset = o, o += h.size, this.staticStride += h.size;
            }
            var l = new ArrayBuffer(this.size * this.staticStride * 4 * 4);
            this.staticData = new Float32Array(l), this.staticDataUint32 = new Uint32Array(l), this.staticBuffer = s.default.GLBuffer.createVertexBuffer(t, l, t.STATIC_DRAW), this.vao = new s.default.VertexArrayObject(t).addIndex(this.indexBuffer);
            for (var c = 0; c < this.dynamicProperties.length; ++c) {
              var d = this.dynamicProperties[c];
              d.unsignedByte ? this.vao.addAttribute(this.dynamicBuffer, d.attribute, t.UNSIGNED_BYTE, !0, 4 * this.dynamicStride, 4 * d.offset) : this.vao.addAttribute(this.dynamicBuffer, d.attribute, t.FLOAT, !1, 4 * this.dynamicStride, 4 * d.offset);
            }
            for (var f = 0; f < this.staticProperties.length; ++f) {
              var p = this.staticProperties[f];
              p.unsignedByte ? this.vao.addAttribute(this.staticBuffer, p.attribute, t.UNSIGNED_BYTE, !0, 4 * this.staticStride, 4 * p.offset) : this.vao.addAttribute(this.staticBuffer, p.attribute, t.FLOAT, !1, 4 * this.staticStride, 4 * p.offset);
            }
          }, t.prototype.uploadDynamic = function (t, e, r) {
            for (var n = 0; n < this.dynamicProperties.length; n++) {
              var i = this.dynamicProperties[n];
              i.uploadFunction(t, e, r, i.unsignedByte ? this.dynamicDataUint32 : this.dynamicData, this.dynamicStride, i.offset);
            }
            this.dynamicBuffer.upload();
          }, t.prototype.uploadStatic = function (t, e, r) {
            for (var n = 0; n < this.staticProperties.length; n++) {
              var i = this.staticProperties[n];
              i.uploadFunction(t, e, r, i.unsignedByte ? this.staticDataUint32 : this.staticData, this.staticStride, i.offset);
            }
            this.staticBuffer.upload();
          }, t.prototype.destroy = function () {
            this.dynamicProperties = null, this.dynamicBuffer.destroy(), this.dynamicBuffer = null, this.dynamicData = null, this.dynamicDataUint32 = null, this.staticProperties = null, this.staticBuffer.destroy(), this.staticBuffer = null, this.staticData = null, this.staticDataUint32 = null;
          }, t;
        }();
      r.default = h;
    }, {
      "../../core/utils/createIndicesForQuads": 123,
      "pixi-gl-core": 15
    }],
    176: [function (t, e, r) {
      "use strict";

      function n(t) {
        return t && t.__esModule ? t : {
          default: t
        };
      }
      function i(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      function o(t, e) {
        if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !e || "object" != _typeof(e) && "function" != typeof e ? t : e;
      }
      function s(t, e) {
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + _typeof(e));
        t.prototype = Object.create(e && e.prototype, {
          constructor: {
            value: t,
            enumerable: !1,
            writable: !0,
            configurable: !0
          }
        }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e);
      }
      r.__esModule = !0;
      var a = t("../../core"),
        u = function (t) {
          if (t && t.__esModule) return t;
          var e = {};
          if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
          return e.default = t, e;
        }(a),
        h = t("./ParticleShader"),
        l = n(h),
        c = t("./ParticleBuffer"),
        d = n(c),
        f = t("../../core/utils"),
        p = function (t) {
          function e(r) {
            i(this, e);
            var n = o(this, t.call(this, r));
            return n.shader = null, n.indexBuffer = null, n.properties = null, n.tempMatrix = new u.Matrix(), n.CONTEXT_UID = 0, n;
          }
          return s(e, t), e.prototype.onContextChange = function () {
            var t = this.renderer.gl;
            this.CONTEXT_UID = this.renderer.CONTEXT_UID, this.shader = new l.default(t), this.properties = [{
              attribute: this.shader.attributes.aVertexPosition,
              size: 2,
              uploadFunction: this.uploadVertices,
              offset: 0
            }, {
              attribute: this.shader.attributes.aPositionCoord,
              size: 2,
              uploadFunction: this.uploadPosition,
              offset: 0
            }, {
              attribute: this.shader.attributes.aRotation,
              size: 1,
              uploadFunction: this.uploadRotation,
              offset: 0
            }, {
              attribute: this.shader.attributes.aTextureCoord,
              size: 2,
              uploadFunction: this.uploadUvs,
              offset: 0
            }, {
              attribute: this.shader.attributes.aColor,
              size: 1,
              unsignedByte: !0,
              uploadFunction: this.uploadTint,
              offset: 0
            }];
          }, e.prototype.start = function () {
            this.renderer.bindShader(this.shader);
          }, e.prototype.render = function (t) {
            var e = t.children,
              r = t._maxSize,
              n = t._batchSize,
              i = this.renderer,
              o = e.length;
            if (0 !== o) {
              o > r && (o = r);
              var s = t._glBuffers[i.CONTEXT_UID];
              s || (s = t._glBuffers[i.CONTEXT_UID] = this.generateBuffers(t));
              var a = e[0]._texture.baseTexture;
              this.renderer.setBlendMode(u.utils.correctBlendMode(t.blendMode, a.premultipliedAlpha));
              var h = i.gl,
                l = t.worldTransform.copy(this.tempMatrix);
              l.prepend(i._activeRenderTarget.projectionMatrix), this.shader.uniforms.projectionMatrix = l.toArray(!0), this.shader.uniforms.uColor = u.utils.premultiplyRgba(t.tintRgb, t.worldAlpha, this.shader.uniforms.uColor, a.premultipliedAlpha), this.shader.uniforms.uSampler = i.bindTexture(a);
              for (var c = !1, d = 0, f = 0; d < o; d += n, f += 1) {
                var p = o - d;
                if (p > n && (p = n), f >= s.length) {
                  if (!t.autoResize) break;
                  s.push(this._generateOneMoreBuffer(t));
                }
                var v = s[f];
                v.uploadDynamic(e, d, p);
                var g = t._bufferUpdateIDs[f] || 0;
                c = c || v._updateID < g, c && (v._updateID = t._updateID, v.uploadStatic(e, d, p)), i.bindVao(v.vao), v.vao.draw(h.TRIANGLES, 6 * p);
              }
            }
          }, e.prototype.generateBuffers = function (t) {
            for (var e = this.renderer.gl, r = [], n = t._maxSize, i = t._batchSize, o = t._properties, s = 0; s < n; s += i) r.push(new d.default(e, this.properties, o, i));
            return r;
          }, e.prototype._generateOneMoreBuffer = function (t) {
            var e = this.renderer.gl,
              r = t._batchSize,
              n = t._properties;
            return new d.default(e, this.properties, n, r);
          }, e.prototype.uploadVertices = function (t, e, r, n, i, o) {
            for (var s = 0, a = 0, u = 0, h = 0, l = 0; l < r; ++l) {
              var c = t[e + l],
                d = c._texture,
                f = c.scale.x,
                p = c.scale.y,
                v = d.trim,
                g = d.orig;
              v ? (a = v.x - c.anchor.x * g.width, s = a + v.width, h = v.y - c.anchor.y * g.height, u = h + v.height) : (s = g.width * (1 - c.anchor.x), a = g.width * -c.anchor.x, u = g.height * (1 - c.anchor.y), h = g.height * -c.anchor.y), n[o] = a * f, n[o + 1] = h * p, n[o + i] = s * f, n[o + i + 1] = h * p, n[o + 2 * i] = s * f, n[o + 2 * i + 1] = u * p, n[o + 3 * i] = a * f, n[o + 3 * i + 1] = u * p, o += 4 * i;
            }
          }, e.prototype.uploadPosition = function (t, e, r, n, i, o) {
            for (var s = 0; s < r; s++) {
              var a = t[e + s].position;
              n[o] = a.x, n[o + 1] = a.y, n[o + i] = a.x, n[o + i + 1] = a.y, n[o + 2 * i] = a.x, n[o + 2 * i + 1] = a.y, n[o + 3 * i] = a.x, n[o + 3 * i + 1] = a.y, o += 4 * i;
            }
          }, e.prototype.uploadRotation = function (t, e, r, n, i, o) {
            for (var s = 0; s < r; s++) {
              var a = t[e + s].rotation;
              n[o] = a, n[o + i] = a, n[o + 2 * i] = a, n[o + 3 * i] = a, o += 4 * i;
            }
          }, e.prototype.uploadUvs = function (t, e, r, n, i, o) {
            for (var s = 0; s < r; ++s) {
              var a = t[e + s]._texture._uvs;
              a ? (n[o] = a.x0, n[o + 1] = a.y0, n[o + i] = a.x1, n[o + i + 1] = a.y1, n[o + 2 * i] = a.x2, n[o + 2 * i + 1] = a.y2, n[o + 3 * i] = a.x3, n[o + 3 * i + 1] = a.y3, o += 4 * i) : (n[o] = 0, n[o + 1] = 0, n[o + i] = 0, n[o + i + 1] = 0, n[o + 2 * i] = 0, n[o + 2 * i + 1] = 0, n[o + 3 * i] = 0, n[o + 3 * i + 1] = 0, o += 4 * i);
            }
          }, e.prototype.uploadTint = function (t, e, r, n, i, o) {
            for (var s = 0; s < r; ++s) {
              var a = t[e + s],
                u = a._texture.baseTexture.premultipliedAlpha,
                h = a.alpha,
                l = h < 1 && u ? (0, f.premultiplyTint)(a._tintRGB, h) : a._tintRGB + (255 * h << 24);
              n[o] = l, n[o + i] = l, n[o + 2 * i] = l, n[o + 3 * i] = l, o += 4 * i;
            }
          }, e.prototype.destroy = function () {
            this.renderer.gl && this.renderer.gl.deleteBuffer(this.indexBuffer), t.prototype.destroy.call(this), this.shader.destroy(), this.indices = null, this.tempMatrix = null;
          }, e;
        }(u.ObjectRenderer);
      r.default = p, u.WebGLRenderer.registerPlugin("particle", p);
    }, {
      "../../core": 65,
      "../../core/utils": 125,
      "./ParticleBuffer": 175,
      "./ParticleShader": 177
    }],
    177: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      function i(t, e) {
        if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !e || "object" != _typeof(e) && "function" != typeof e ? t : e;
      }
      function o(t, e) {
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + _typeof(e));
        t.prototype = Object.create(e && e.prototype, {
          constructor: {
            value: t,
            enumerable: !1,
            writable: !0,
            configurable: !0
          }
        }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e);
      }
      r.__esModule = !0;
      var s = t("../../core/Shader"),
        a = function (t) {
          return t && t.__esModule ? t : {
            default: t
          };
        }(s),
        u = function (t) {
          function e(r) {
            return n(this, e), i(this, t.call(this, r, ["attribute vec2 aVertexPosition;", "attribute vec2 aTextureCoord;", "attribute vec4 aColor;", "attribute vec2 aPositionCoord;", "attribute float aRotation;", "uniform mat3 projectionMatrix;", "uniform vec4 uColor;", "varying vec2 vTextureCoord;", "varying vec4 vColor;", "void main(void){", "   float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);", "   float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);", "   vec2 v = vec2(x, y);", "   v = v + aPositionCoord;", "   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);", "   vTextureCoord = aTextureCoord;", "   vColor = aColor * uColor;", "}"].join("\n"), ["varying vec2 vTextureCoord;", "varying vec4 vColor;", "uniform sampler2D uSampler;", "void main(void){", "  vec4 color = texture2D(uSampler, vTextureCoord) * vColor;", "  gl_FragColor = color;", "}"].join("\n")));
          }
          return o(e, t), e;
        }(a.default);
      r.default = u;
    }, {
      "../../core/Shader": 44
    }],
    178: [function (t, e, r) {
      "use strict";

      Math.sign || (Math.sign = function (t) {
        return t = Number(t), 0 === t || isNaN(t) ? t : t > 0 ? 1 : -1;
      });
    }, {}],
    179: [function (t, e, r) {
      "use strict";

      Number.isInteger || (Number.isInteger = function (t) {
        return "number" == typeof t && isFinite(t) && Math.floor(t) === t;
      });
    }, {}],
    180: [function (t, e, r) {
      "use strict";

      var n = t("object-assign"),
        i = function (t) {
          return t && t.__esModule ? t : {
            default: t
          };
        }(n);
      Object.assign || (Object.assign = i.default);
    }, {
      "object-assign": 6
    }],
    181: [function (t, e, r) {
      "use strict";

      t("./Object.assign"), t("./requestAnimationFrame"), t("./Math.sign"), t("./Number.isInteger"), window.ArrayBuffer || (window.ArrayBuffer = Array), window.Float32Array || (window.Float32Array = Array), window.Uint32Array || (window.Uint32Array = Array), window.Uint16Array || (window.Uint16Array = Array);
    }, {
      "./Math.sign": 178,
      "./Number.isInteger": 179,
      "./Object.assign": 180,
      "./requestAnimationFrame": 182
    }],
    182: [function (t, e, r) {
      (function (t) {
        "use strict";

        if (Date.now && Date.prototype.getTime || (Date.now = function () {
          return new Date().getTime();
        }), !t.performance || !t.performance.now) {
          var e = Date.now();
          t.performance || (t.performance = {}), t.performance.now = function () {
            return Date.now() - e;
          };
        }
        for (var r = Date.now(), n = ["ms", "moz", "webkit", "o"], i = 0; i < n.length && !t.requestAnimationFrame; ++i) {
          var o = n[i];
          t.requestAnimationFrame = t[o + "RequestAnimationFrame"], t.cancelAnimationFrame = t[o + "CancelAnimationFrame"] || t[o + "CancelRequestAnimationFrame"];
        }
        t.requestAnimationFrame || (t.requestAnimationFrame = function (t) {
          if ("function" != typeof t) throw new TypeError(t + "is not a function");
          var e = Date.now(),
            n = 16 + r - e;
          return n < 0 && (n = 0), r = e, setTimeout(function () {
            r = Date.now(), t(performance.now());
          }, n);
        }), t.cancelAnimationFrame || (t.cancelAnimationFrame = function (t) {
          return clearTimeout(t);
        });
      }).call(this, "undefined" != typeof __webpack_require__.g ? __webpack_require__.g : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {});
    }, {}],
    183: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      function i(t, e) {
        var r = !1;
        if (t && t._textures && t._textures.length) for (var n = 0; n < t._textures.length; n++) if (t._textures[n] instanceof d.Texture) {
          var i = t._textures[n].baseTexture;
          -1 === e.indexOf(i) && (e.push(i), r = !0);
        }
        return r;
      }
      function o(t, e) {
        return t instanceof d.BaseTexture && (-1 === e.indexOf(t) && e.push(t), !0);
      }
      function s(t, e) {
        if (t._texture && t._texture instanceof d.Texture) {
          var r = t._texture.baseTexture;
          return -1 === e.indexOf(r) && e.push(r), !0;
        }
        return !1;
      }
      function a(t, e) {
        return e instanceof d.Text && (e.updateText(!0), !0);
      }
      function u(t, e) {
        if (e instanceof d.TextStyle) {
          var r = e.toFontString();
          return d.TextMetrics.measureFont(r), !0;
        }
        return !1;
      }
      function h(t, e) {
        if (t instanceof d.Text) {
          -1 === e.indexOf(t.style) && e.push(t.style), -1 === e.indexOf(t) && e.push(t);
          var r = t._texture.baseTexture;
          return -1 === e.indexOf(r) && e.push(r), !0;
        }
        return !1;
      }
      function l(t, e) {
        return t instanceof d.TextStyle && (-1 === e.indexOf(t) && e.push(t), !0);
      }
      r.__esModule = !0;
      var c = t("../core"),
        d = function (t) {
          if (t && t.__esModule) return t;
          var e = {};
          if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
          return e.default = t, e;
        }(c),
        f = t("./limiters/CountLimiter"),
        p = function (t) {
          return t && t.__esModule ? t : {
            default: t
          };
        }(f),
        v = d.ticker.shared;
      d.settings.UPLOADS_PER_FRAME = 4;
      var g = function () {
        function t(e) {
          var r = this;
          n(this, t), this.limiter = new p.default(d.settings.UPLOADS_PER_FRAME), this.renderer = e, this.uploadHookHelper = null, this.queue = [], this.addHooks = [], this.uploadHooks = [], this.completes = [], this.ticking = !1, this.delayedTick = function () {
            r.queue && r.prepareItems();
          }, this.registerFindHook(h), this.registerFindHook(l), this.registerFindHook(i), this.registerFindHook(o), this.registerFindHook(s), this.registerUploadHook(a), this.registerUploadHook(u);
        }
        return t.prototype.upload = function (t, e) {
          "function" == typeof t && (e = t, t = null), t && this.add(t), this.queue.length ? (e && this.completes.push(e), this.ticking || (this.ticking = !0, v.addOnce(this.tick, this, d.UPDATE_PRIORITY.UTILITY))) : e && e();
        }, t.prototype.tick = function () {
          setTimeout(this.delayedTick, 0);
        }, t.prototype.prepareItems = function () {
          for (this.limiter.beginFrame(); this.queue.length && this.limiter.allowedToUpload();) {
            var t = this.queue[0],
              e = !1;
            if (t && !t._destroyed) for (var r = 0, n = this.uploadHooks.length; r < n; r++) if (this.uploadHooks[r](this.uploadHookHelper, t)) {
              this.queue.shift(), e = !0;
              break;
            }
            e || this.queue.shift();
          }
          if (this.queue.length) v.addOnce(this.tick, this, d.UPDATE_PRIORITY.UTILITY);else {
            this.ticking = !1;
            var i = this.completes.slice(0);
            this.completes.length = 0;
            for (var o = 0, s = i.length; o < s; o++) i[o]();
          }
        }, t.prototype.registerFindHook = function (t) {
          return t && this.addHooks.push(t), this;
        }, t.prototype.registerUploadHook = function (t) {
          return t && this.uploadHooks.push(t), this;
        }, t.prototype.add = function (t) {
          for (var e = 0, r = this.addHooks.length; e < r && !this.addHooks[e](t, this.queue); e++);
          if (t instanceof d.Container) for (var n = t.children.length - 1; n >= 0; n--) this.add(t.children[n]);
          return this;
        }, t.prototype.destroy = function () {
          this.ticking && v.remove(this.tick, this), this.ticking = !1, this.addHooks = null, this.uploadHooks = null, this.renderer = null, this.completes = null, this.queue = null, this.limiter = null, this.uploadHookHelper = null;
        }, t;
      }();
      r.default = g;
    }, {
      "../core": 65,
      "./limiters/CountLimiter": 186
    }],
    184: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      function i(t, e) {
        if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !e || "object" != _typeof(e) && "function" != typeof e ? t : e;
      }
      function o(t, e) {
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + _typeof(e));
        t.prototype = Object.create(e && e.prototype, {
          constructor: {
            value: t,
            enumerable: !1,
            writable: !0,
            configurable: !0
          }
        }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e);
      }
      function s(t, e) {
        if (e instanceof u.BaseTexture) {
          var r = e.source,
            n = 0 === r.width ? t.canvas.width : Math.min(t.canvas.width, r.width),
            i = 0 === r.height ? t.canvas.height : Math.min(t.canvas.height, r.height);
          return t.ctx.drawImage(r, 0, 0, n, i, 0, 0, t.canvas.width, t.canvas.height), !0;
        }
        return !1;
      }
      r.__esModule = !0;
      var a = t("../../core"),
        u = function (t) {
          if (t && t.__esModule) return t;
          var e = {};
          if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
          return e.default = t, e;
        }(a),
        h = t("../BasePrepare"),
        l = function (t) {
          return t && t.__esModule ? t : {
            default: t
          };
        }(h),
        c = 16,
        d = function (t) {
          function e(r) {
            n(this, e);
            var o = i(this, t.call(this, r));
            return o.uploadHookHelper = o, o.canvas = document.createElement("canvas"), o.canvas.width = c, o.canvas.height = c, o.ctx = o.canvas.getContext("2d"), o.registerUploadHook(s), o;
          }
          return o(e, t), e.prototype.destroy = function () {
            t.prototype.destroy.call(this), this.ctx = null, this.canvas = null;
          }, e;
        }(l.default);
      r.default = d, u.CanvasRenderer.registerPlugin("prepare", d);
    }, {
      "../../core": 65,
      "../BasePrepare": 183
    }],
    185: [function (t, e, r) {
      "use strict";

      function n(t) {
        return t && t.__esModule ? t : {
          default: t
        };
      }
      r.__esModule = !0;
      var i = t("./webgl/WebGLPrepare");
      Object.defineProperty(r, "webgl", {
        enumerable: !0,
        get: function get() {
          return n(i).default;
        }
      });
      var o = t("./canvas/CanvasPrepare");
      Object.defineProperty(r, "canvas", {
        enumerable: !0,
        get: function get() {
          return n(o).default;
        }
      });
      var s = t("./BasePrepare");
      Object.defineProperty(r, "BasePrepare", {
        enumerable: !0,
        get: function get() {
          return n(s).default;
        }
      });
      var a = t("./limiters/CountLimiter");
      Object.defineProperty(r, "CountLimiter", {
        enumerable: !0,
        get: function get() {
          return n(a).default;
        }
      });
      var u = t("./limiters/TimeLimiter");
      Object.defineProperty(r, "TimeLimiter", {
        enumerable: !0,
        get: function get() {
          return n(u).default;
        }
      });
    }, {
      "./BasePrepare": 183,
      "./canvas/CanvasPrepare": 184,
      "./limiters/CountLimiter": 186,
      "./limiters/TimeLimiter": 187,
      "./webgl/WebGLPrepare": 188
    }],
    186: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      r.__esModule = !0;
      var i = function () {
        function t(e) {
          n(this, t), this.maxItemsPerFrame = e, this.itemsLeft = 0;
        }
        return t.prototype.beginFrame = function () {
          this.itemsLeft = this.maxItemsPerFrame;
        }, t.prototype.allowedToUpload = function () {
          return this.itemsLeft-- > 0;
        }, t;
      }();
      r.default = i;
    }, {}],
    187: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      r.__esModule = !0;
      var i = function () {
        function t(e) {
          n(this, t), this.maxMilliseconds = e, this.frameStart = 0;
        }
        return t.prototype.beginFrame = function () {
          this.frameStart = Date.now();
        }, t.prototype.allowedToUpload = function () {
          return Date.now() - this.frameStart < this.maxMilliseconds;
        }, t;
      }();
      r.default = i;
    }, {}],
    188: [function (t, e, r) {
      "use strict";

      function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
      }
      function i(t, e) {
        if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !e || "object" != _typeof(e) && "function" != typeof e ? t : e;
      }
      function o(t, e) {
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + _typeof(e));
        t.prototype = Object.create(e && e.prototype, {
          constructor: {
            value: t,
            enumerable: !1,
            writable: !0,
            configurable: !0
          }
        }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e);
      }
      function s(t, e) {
        return e instanceof l.BaseTexture && (e._glTextures[t.CONTEXT_UID] || t.textureManager.updateTexture(e), !0);
      }
      function a(t, e) {
        return e instanceof l.Graphics && ((e.dirty || e.clearDirty || !e._webGL[t.plugins.graphics.CONTEXT_UID]) && t.plugins.graphics.updateGraphics(e), !0);
      }
      function u(t, e) {
        return t instanceof l.Graphics && (e.push(t), !0);
      }
      r.__esModule = !0;
      var h = t("../../core"),
        l = function (t) {
          if (t && t.__esModule) return t;
          var e = {};
          if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
          return e.default = t, e;
        }(h),
        c = t("../BasePrepare"),
        d = function (t) {
          return t && t.__esModule ? t : {
            default: t
          };
        }(c),
        f = function (t) {
          function e(r) {
            n(this, e);
            var o = i(this, t.call(this, r));
            return o.uploadHookHelper = o.renderer, o.registerFindHook(u), o.registerUploadHook(s), o.registerUploadHook(a), o;
          }
          return o(e, t), e;
        }(d.default);
      r.default = f, l.WebGLRenderer.registerPlugin("prepare", f);
    }, {
      "../../core": 65,
      "../BasePrepare": 183
    }],
    189: [function (t, e, r) {
      (function (e) {
        "use strict";

        function n(t) {
          if (t && t.__esModule) return t;
          var e = {};
          if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
          return e.default = t, e;
        }
        r.__esModule = !0, r.loader = r.prepare = r.particles = r.mesh = r.loaders = r.interaction = r.filters = r.extras = r.extract = r.accessibility = void 0;
        var i = t("./polyfill");
        Object.keys(i).forEach(function (t) {
          "default" !== t && "__esModule" !== t && Object.defineProperty(r, t, {
            enumerable: !0,
            get: function get() {
              return i[t];
            }
          });
        });
        var o = t("./core");
        Object.keys(o).forEach(function (t) {
          "default" !== t && "__esModule" !== t && Object.defineProperty(r, t, {
            enumerable: !0,
            get: function get() {
              return o[t];
            }
          });
        });
        var s = t("./deprecation"),
          a = function (t) {
            return t && t.__esModule ? t : {
              default: t
            };
          }(s),
          u = t("./accessibility"),
          h = n(u),
          l = t("./extract"),
          c = n(l),
          d = t("./extras"),
          f = n(d),
          p = t("./filters"),
          v = n(p),
          g = t("./interaction"),
          y = n(g),
          m = t("./loaders"),
          _ = n(m),
          b = t("./mesh"),
          x = n(b),
          T = t("./particles"),
          w = n(T),
          E = t("./prepare"),
          S = n(E);
        o.utils.mixins.performMixins();
        var O = _.shared || null;
        r.accessibility = h, r.extract = c, r.extras = f, r.filters = v, r.interaction = y, r.loaders = _, r.mesh = x, r.particles = w, r.prepare = S, r.loader = O, "function" == typeof a.default && (0, a.default)(r), e.PIXI = r;
      }).call(this, "undefined" != typeof __webpack_require__.g ? __webpack_require__.g : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {});
    }, {
      "./accessibility": 42,
      "./core": 65,
      "./deprecation": 131,
      "./extract": 133,
      "./extras": 141,
      "./filters": 153,
      "./interaction": 159,
      "./loaders": 162,
      "./mesh": 171,
      "./particles": 174,
      "./polyfill": 181,
      "./prepare": 185
    }]
  }, {}, [189])(189);
});
if (true) {
  if ( true && module.exports) {
    exports = module.exports = PIXI;
  }
  exports.PIXI = PIXI;
} else {}
globalThis.PIXI = PIXI;

/***/ }),

/***/ "./js/game/unsafe-eval.min.js":
/*!************************************!*\
  !*** ./js/game/unsafe-eval.min.js ***!
  \************************************/
/***/ ((module, exports) => {

/*!
 * @pixi/unsafe-eval - v7.2.4
 * Compiled Thu, 06 Apr 2023 19:36:45 UTC
 *
 * @pixi/unsafe-eval is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
GameGlobal.PIXI = GameGlobal.PIXI || {};
var _pixi_unsafe_eval = function (s, p) {
  "use strict";

  var h = {
      float: function float(e, o, r, i) {
        r !== i && (r.v = i, e.uniform1f(o, i));
      },
      vec2: function vec2(e, o, r, i) {
        (r[0] !== i[0] || r[1] !== i[1]) && (r[0] = i[0], r[1] = i[1], e.uniform2f(o, i[0], i[1]));
      },
      vec3: function vec3(e, o, r, i) {
        (r[0] !== i[0] || r[1] !== i[1] || r[2] !== i[2]) && (r[0] = i[0], r[1] = i[1], r[2] = i[2], e.uniform3f(o, i[0], i[1], i[2]));
      },
      int: function int(e, o, r, i) {
        e.uniform1i(o, i);
      },
      ivec2: function ivec2(e, o, r, i) {
        e.uniform2i(o, i[0], i[1]);
      },
      ivec3: function ivec3(e, o, r, i) {
        e.uniform3i(o, i[0], i[1], i[2]);
      },
      ivec4: function ivec4(e, o, r, i) {
        e.uniform4i(o, i[0], i[1], i[2], i[3]);
      },
      uint: function uint(e, o, r, i) {
        e.uniform1ui(o, i);
      },
      uvec2: function uvec2(e, o, r, i) {
        e.uniform2ui(o, i[0], i[1]);
      },
      uvec3: function uvec3(e, o, r, i) {
        e.uniform3ui(o, i[0], i[1], i[2]);
      },
      uvec4: function uvec4(e, o, r, i) {
        e.uniform4ui(o, i[0], i[1], i[2], i[3]);
      },
      bool: function bool(e, o, r, i) {
        r !== i && (r.v = i, e.uniform1i(o, Number(i)));
      },
      bvec2: function bvec2(e, o, r, i) {
        e.uniform2i(o, i[0], i[1]);
      },
      bvec3: function bvec3(e, o, r, i) {
        e.uniform3i(o, i[0], i[1], i[2]);
      },
      bvec4: function bvec4(e, o, r, i) {
        e.uniform4i(o, i[0], i[1], i[2], i[3]);
      },
      mat2: function mat2(e, o, r, i) {
        e.uniformMatrix2fv(o, !1, i);
      },
      mat3: function mat3(e, o, r, i) {
        e.uniformMatrix3fv(o, !1, i);
      },
      mat4: function mat4(e, o, r, i) {
        e.uniformMatrix4fv(o, !1, i);
      },
      sampler2D: function sampler2D(e, o, r, i) {
        e.uniform1i(o, i);
      },
      samplerCube: function samplerCube(e, o, r, i) {
        e.uniform1i(o, i);
      },
      sampler2DArray: function sampler2DArray(e, o, r, i) {
        e.uniform1i(o, i);
      }
    },
    b = {
      float: function float(e, o, r, i) {
        e.uniform1fv(o, i);
      },
      vec2: function vec2(e, o, r, i) {
        e.uniform2fv(o, i);
      },
      vec3: function vec3(e, o, r, i) {
        e.uniform3fv(o, i);
      },
      vec4: function vec4(e, o, r, i) {
        e.uniform4fv(o, i);
      },
      int: function int(e, o, r, i) {
        e.uniform1iv(o, i);
      },
      ivec2: function ivec2(e, o, r, i) {
        e.uniform2iv(o, i);
      },
      ivec3: function ivec3(e, o, r, i) {
        e.uniform3iv(o, i);
      },
      ivec4: function ivec4(e, o, r, i) {
        e.uniform4iv(o, i);
      },
      uint: function uint(e, o, r, i) {
        e.uniform1uiv(o, i);
      },
      uvec2: function uvec2(e, o, r, i) {
        e.uniform2uiv(o, i);
      },
      uvec3: function uvec3(e, o, r, i) {
        e.uniform3uiv(o, i);
      },
      uvec4: function uvec4(e, o, r, i) {
        e.uniform4uiv(o, i);
      },
      bool: function bool(e, o, r, i) {
        e.uniform1iv(o, i);
      },
      bvec2: function bvec2(e, o, r, i) {
        e.uniform2iv(o, i);
      },
      bvec3: function bvec3(e, o, r, i) {
        e.uniform3iv(o, i);
      },
      bvec4: function bvec4(e, o, r, i) {
        e.uniform4iv(o, i);
      },
      sampler2D: function sampler2D(e, o, r, i) {
        e.uniform1iv(o, i);
      },
      samplerCube: function samplerCube(e, o, r, i) {
        e.uniform1iv(o, i);
      },
      sampler2DArray: function sampler2DArray(e, o, r, i) {
        e.uniform1iv(o, i);
      }
    };
  function d(e, o, r, i, y) {
    var a = 0,
      u = null,
      f = null;
    var v = y.gl;
    for (var c in e.uniforms) {
      var t = o[c],
        n = i[c],
        m = r[c],
        l = e.uniforms[c];
      if (!t) {
        l.group && y.shader.syncUniformGroup(n);
        continue;
      }
      t.type === "float" && t.size === 1 ? n !== m.value && (m.value = n, v.uniform1f(m.location, n)) : (t.type === "sampler2D" || t.type === "samplerCube" || t.type === "sampler2DArray") && t.size === 1 && !t.isArray ? (y.texture.bind(n, a), m.value !== a && (m.value = a, v.uniform1i(m.location, a)), a++) : t.type === "mat3" && t.size === 1 ? l.a !== void 0 ? v.uniformMatrix3fv(m.location, !1, n.toArray(!0)) : v.uniformMatrix3fv(m.location, !1, n) : t.type === "vec2" && t.size === 1 ? l.x !== void 0 ? (f = m.value, u = n, (f[0] !== u.x || f[1] !== u.y) && (f[0] = u.x, f[1] = u.y, v.uniform2f(m.location, u.x, u.y))) : (f = m.value, u = n, (f[0] !== u[0] || f[1] !== u[1]) && (f[0] = u[0], f[1] = u[1], v.uniform2f(m.location, u[0], u[1]))) : t.type === "vec4" && t.size === 1 ? l.width !== void 0 ? (f = m.value, u = n, (f[0] !== u.x || f[1] !== u.y || f[2] !== u.width || f[3] !== u.height) && (f[0] = u.x, f[1] = u.y, f[2] = u.width, f[3] = u.height, v.uniform4f(m.location, u.x, u.y, u.width, u.height))) : (f = m.value, u = n, (f[0] !== u[0] || f[1] !== u[1] || f[2] !== u[2] || f[3] !== u[3]) && (f[0] = u[0], f[1] = u[1], f[2] = u[2], f[3] = u[3], v.uniform4f(m.location, u[0], u[1], u[2], u[3]))) : (t.size === 1 ? h : b)[t.type].call(null, v, m.location, m.value, n);
    }
  }
  function x(e) {}
  function g() {
    Object.assign(p.Shader.prototype, {
      systemCheck: function systemCheck() {},
      syncUniforms: function syncUniforms(e, o) {
        var r = this.shader,
          i = this.renderer;
        d(e, r.program.uniformData, o.uniformData, e.uniforms, i);
      }
    });
  }
  return g(), s.install = x, Object.defineProperty(s, "__esModule", {
    value: !0
  }), s;
}({}, GameGlobal.PIXI);
Object.assign(GameGlobal.PIXI, _pixi_unsafe_eval);
if (true) {
  if ( true && module.exports) {
    exports = module.exports = _pixi_unsafe_eval;
  }
  exports.UnsafeEval = _pixi_unsafe_eval;
} else {}
globalThis.UnsafeEval = _pixi_unsafe_eval;

/***/ }),

/***/ "./js/libs/Audio.js":
/*!**************************!*\
  !*** ./js/libs/Audio.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Audio)
/* harmony export */ });
/* harmony import */ var _HTMLAudioElement__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./HTMLAudioElement */ "./js/libs/HTMLAudioElement.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }
function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }
function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }
function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }
function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }
function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var SN_SEED = 1;
var _innerAudioContextMap = {};
var Audio = /*#__PURE__*/function (_HTMLAudioElement) {
  _inherits(Audio, _HTMLAudioElement);
  var _super = _createSuper(Audio);
  function Audio(url) {
    var _this;
    _classCallCheck(this, Audio);
    _this = _super.call(this);
    _this._$sn = SN_SEED++;
    _this.readyState = Audio.HAVE_NOTHING;
    var innerAudioContext = wx.createInnerAudioContext();
    _innerAudioContextMap[_this._$sn] = innerAudioContext;
    _this._canplayEvents = ['load', 'loadend', 'canplay', 'canplaythrough', 'loadedmetadata'];
    innerAudioContext.onCanplay(function () {
      _this._loaded = true;
      _this.readyState = Audio.HAVE_CURRENT_DATA;
      _this._canplayEvents.forEach(function (type) {
        _this.dispatchEvent({
          type: type
        });
      });
    });
    innerAudioContext.onPlay(function () {
      _this._paused = _innerAudioContextMap[_this._$sn].paused;
      _this.dispatchEvent({
        type: 'play'
      });
    });
    innerAudioContext.onPause(function () {
      _this._paused = _innerAudioContextMap[_this._$sn].paused;
      _this.dispatchEvent({
        type: 'pause'
      });
    });
    innerAudioContext.onEnded(function () {
      _this._paused = _innerAudioContextMap[_this._$sn].paused;
      if (_innerAudioContextMap[_this._$sn].loop === false) {
        _this.dispatchEvent({
          type: 'ended'
        });
      }
      _this.readyState = Audio.HAVE_ENOUGH_DATA;
    });
    innerAudioContext.onError(function () {
      _this._paused = _innerAudioContextMap[_this._$sn].paused;
      _this.dispatchEvent({
        type: 'error'
      });
    });
    if (url) {
      _this.src = url;
    } else {
      _this._src = '';
    }
    _this._loop = innerAudioContext.loop;
    _this._autoplay = innerAudioContext.autoplay;
    _this._paused = innerAudioContext.paused;
    _this._volume = innerAudioContext.volume;
    _this._muted = false;
    return _this;
  }
  _createClass(Audio, [{
    key: "addEventListener",
    value: function addEventListener(type, listener) {
      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
      type = String(type).toLowerCase();
      _get(_getPrototypeOf(Audio.prototype), "addEventListener", this).call(this, type, listener, options);
      if (this._loaded && this._canplayEvents.indexOf(type) !== -1) {
        this.dispatchEvent({
          type: type
        });
      }
    }
  }, {
    key: "load",
    value: function load() {
      // console.warn('HTMLAudioElement.load() is not implemented.')
      // weixin doesn't need call load() manually
    }
  }, {
    key: "play",
    value: function play() {
      _innerAudioContextMap[this._$sn].play();
    }
  }, {
    key: "resume",
    value: function resume() {
      _innerAudioContextMap[this._$sn].resume();
    }
  }, {
    key: "pause",
    value: function pause() {
      _innerAudioContextMap[this._$sn].pause();
    }
  }, {
    key: "destroy",
    value: function destroy() {
      _innerAudioContextMap[this._$sn].destroy();
    }
  }, {
    key: "canPlayType",
    value: function canPlayType() {
      var mediaType = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';
      if (typeof mediaType !== 'string') {
        return '';
      }
      if (mediaType.indexOf('audio/mpeg') > -1 || mediaType.indexOf('audio/mp4')) {
        return 'probably';
      }
      return '';
    }
  }, {
    key: "currentTime",
    get: function get() {
      return _innerAudioContextMap[this._$sn].currentTime;
    },
    set: function set(value) {
      _innerAudioContextMap[this._$sn].seek(value);
    }
  }, {
    key: "duration",
    get: function get() {
      return _innerAudioContextMap[this._$sn].duration;
    }
  }, {
    key: "src",
    get: function get() {
      return this._src;
    },
    set: function set(value) {
      this._src = value;
      this._loaded = false;
      this.readyState = Audio.HAVE_NOTHING;
      var innerAudioContext = _innerAudioContextMap[this._$sn];
      innerAudioContext.src = value;
    }
  }, {
    key: "loop",
    get: function get() {
      return this._loop;
    },
    set: function set(value) {
      this._loop = value;
      _innerAudioContextMap[this._$sn].loop = value;
    }
  }, {
    key: "autoplay",
    get: function get() {
      return this._autoplay;
    },
    set: function set(value) {
      this._autoplay = value;
      _innerAudioContextMap[this._$sn].autoplay = value;
    }
  }, {
    key: "paused",
    get: function get() {
      return this._paused;
    }
  }, {
    key: "volume",
    get: function get() {
      return this._volume;
    },
    set: function set(value) {
      this._volume = value;
      if (!this._muted) {
        _innerAudioContextMap[this._$sn].volume = value;
      }
    }
  }, {
    key: "muted",
    get: function get() {
      return this._muted;
    },
    set: function set(value) {
      this._muted = value;
      if (value) {
        _innerAudioContextMap[this._$sn].volume = 0;
      } else {
        _innerAudioContextMap[this._$sn].volume = this._volume;
      }
    }
  }, {
    key: "cloneNode",
    value: function cloneNode() {
      var newAudio = new Audio();
      newAudio.loop = this.loop;
      newAudio.autoplay = this.autoplay;
      newAudio.src = this.src;
      return newAudio;
    }
  }]);
  return Audio;
}(_HTMLAudioElement__WEBPACK_IMPORTED_MODULE_0__["default"]);

Audio.HAVE_NOTHING = 0;
Audio.HAVE_METADATA = 1;
Audio.HAVE_CURRENT_DATA = 2;
Audio.HAVE_FUTURE_DATA = 3;
Audio.HAVE_ENOUGH_DATA = 4;

/***/ }),

/***/ "./js/libs/Base64.js":
/*!***************************!*\
  !*** ./js/libs/Base64.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   atob: () => (/* binding */ atob),
/* harmony export */   btoa: () => (/* binding */ btoa)
/* harmony export */ });
var chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';
function InvalidCharacterError(message) {
  this.message = message;
}
InvalidCharacterError.prototype = new Error();
InvalidCharacterError.prototype.name = 'InvalidCharacterError';

// encoder
// [https://gist.github.com/999166] by [https://github.com/nignag]

function btoa(input) {
  var str = String(input);
  var output = '';
  for (
  // initialize result and counter
  var block, charCode, idx = 0, map = chars;
  // if the next str index does not exist:
  //   change the mapping table to "="
  //   check if d has no fractional digits
  str.charAt(idx | 0) || (map = '=', idx % 1);
  // "8 - idx % 1 * 8" generates the sequence 2, 4, 6, 8
  output += map.charAt(63 & block >> 8 - idx % 1 * 8)) {
    charCode = str.charCodeAt(idx += 3 / 4);
    if (charCode > 0xFF) {
      throw new InvalidCharacterError("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");
    }
    block = block << 8 | charCode;
  }
  return output;
}

// decoder
// [https://gist.github.com/1020396] by [https://github.com/atk]
function atob(input) {
  var str = String(input).replace(/=+$/, '');
  if (str.length % 4 === 1) {
    throw new InvalidCharacterError("'atob' failed: The string to be decoded is not correctly encoded.");
  }
  var output = '';
  for (
  // initialize result and counters
  var bc = 0, bs, buffer, idx = 0;
  // get next character
  buffer = str.charAt(idx++);
  // character found in table? initialize bit storage and add its ascii value;
  ~buffer && (bs = bc % 4 ? bs * 64 + buffer : buffer,
  // and if not first of each 4 characters,
  // convert the first 8 bits to one ascii character
  bc++ % 4) ? output += String.fromCharCode(255 & bs >> (-2 * bc & 6)) : 0) {
    // try to find character in table (0-63, not found => -1)
    buffer = chars.indexOf(buffer);
  }
  return output;
}


/***/ }),

/***/ "./js/libs/Body.js":
/*!*************************!*\
  !*** ./js/libs/Body.js ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Body)
/* harmony export */ });
/* harmony import */ var _HTMLElement__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./HTMLElement */ "./js/libs/HTMLElement.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }
function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }
function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }
function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var Body = /*#__PURE__*/function (_HTMLElement) {
  _inherits(Body, _HTMLElement);
  var _super = _createSuper(Body);
  function Body() {
    _classCallCheck(this, Body);
    // 为了性能, 此处不按照标准的DOM层级关系设计
    // 将 body 设置为 0级, parent元素为null
    return _super.call(this, 'body', 0);
  }
  return _createClass(Body);
}(_HTMLElement__WEBPACK_IMPORTED_MODULE_0__["default"]);


/***/ }),

/***/ "./js/libs/Canvas.js":
/*!***************************!*\
  !*** ./js/libs/Canvas.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Canvas)
/* harmony export */ });
/* harmony import */ var _util_mixin__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util/mixin */ "./js/libs/util/mixin.js");

// import HTMLCanvasElement from './HTMLCanvasElement'

// TODO
var hasModifiedCanvasPrototype = false;
var hasInit2DContextConstructor = false;
var hasInitWebGLContextConstructor = false;
function Canvas() {
  var canvas = wx.createCanvas();
  var _getContext = canvas.getContext;

  // canvas.__proto__.__proto__.__proto__ = new HTMLCanvasElement()

  if (!('tagName' in canvas)) {
    canvas.tagName = 'CANVAS';
  }
  canvas.type = 'canvas';
  _util_mixin__WEBPACK_IMPORTED_MODULE_0__.parentNode(canvas);
  _util_mixin__WEBPACK_IMPORTED_MODULE_0__.style(canvas);
  _util_mixin__WEBPACK_IMPORTED_MODULE_0__.classList(canvas);
  _util_mixin__WEBPACK_IMPORTED_MODULE_0__.clientRegion(canvas);
  _util_mixin__WEBPACK_IMPORTED_MODULE_0__.offsetRegion(canvas);
  canvas.focus = function () {};
  canvas.blur = function () {};
  canvas.addEventListener = function (type, listener) {
    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
    // console.log('canvas.addEventListener', type);
    document.addEventListener(type, listener, options);
  };
  canvas.removeEventListener = function (type, listener) {
    // console.log('canvas.removeEventListener', type);
    document.removeEventListener(type, listener);
  };
  canvas.dispatchEvent = function () {
    var event = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    console.log('canvas.dispatchEvent', event.type, event);
    // nothing to do
  };

  return canvas;
}

/***/ }),

/***/ "./js/libs/DocumentElement.js":
/*!************************************!*\
  !*** ./js/libs/DocumentElement.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ DocumentElement)
/* harmony export */ });
/* harmony import */ var _HTMLElement__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./HTMLElement */ "./js/libs/HTMLElement.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }
function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }
function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }
function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var DocumentElement = /*#__PURE__*/function (_HTMLElement) {
  _inherits(DocumentElement, _HTMLElement);
  var _super = _createSuper(DocumentElement);
  function DocumentElement() {
    _classCallCheck(this, DocumentElement);
    return _super.call(this, 'html', 0);
  }
  return _createClass(DocumentElement);
}(_HTMLElement__WEBPACK_IMPORTED_MODULE_0__["default"]);


/***/ }),

/***/ "./js/libs/Element.js":
/*!****************************!*\
  !*** ./js/libs/Element.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Element)
/* harmony export */ });
/* harmony import */ var _Node__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Node */ "./js/libs/Node.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }
function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }
function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }
function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var Element = /*#__PURE__*/function (_Node) {
  _inherits(Element, _Node);
  var _super = _createSuper(Element);
  function Element() {
    var _this;
    _classCallCheck(this, Element);
    _this = _super.call(this);
    _this.className = '';
    _this.children = [];
    return _this;
  }
  _createClass(Element, [{
    key: "setAttribute",
    value: function setAttribute(name, value) {
      this[name] = value;
    }
  }, {
    key: "getAttribute",
    value: function getAttribute(name) {
      return this[name];
    }
  }, {
    key: "setAttributeNS",
    value: function setAttributeNS(name, value) {
      this[name] = value;
    }
  }, {
    key: "getAttributeNS",
    value: function getAttributeNS(name) {
      return this[name];
    }
  }]);
  return Element;
}(_Node__WEBPACK_IMPORTED_MODULE_0__["default"]);


/***/ }),

/***/ "./js/libs/Event.js":
/*!**************************!*\
  !*** ./js/libs/Event.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Event)
/* harmony export */ });
/* harmony import */ var _util_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util/index.js */ "./js/libs/util/index.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Event = /*#__PURE__*/_createClass(function Event(type) {
  _classCallCheck(this, Event);
  this.cancelBubble = false;
  this.cancelable = false;
  this.target = null;
  this.currentTarget = null;
  this.preventDefault = _util_index_js__WEBPACK_IMPORTED_MODULE_0__.noop;
  this.stopPropagation = _util_index_js__WEBPACK_IMPORTED_MODULE_0__.noop;
  this.type = type;
  this.timeStamp = Date.now();
});


/***/ }),

/***/ "./js/libs/EventIniter/MouseEvent.js":
/*!*******************************************!*\
  !*** ./js/libs/EventIniter/MouseEvent.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ MouseEvent)
/* harmony export */ });
/* harmony import */ var _Event__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Event */ "./js/libs/Event.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }
function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }
function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }
function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var MouseEvent = /*#__PURE__*/function (_Event) {
  _inherits(MouseEvent, _Event);
  var _super = _createSuper(MouseEvent);
  function MouseEvent(type) {
    _classCallCheck(this, MouseEvent);
    return _super.call(this, type);
  }
  return _createClass(MouseEvent);
}(_Event__WEBPACK_IMPORTED_MODULE_0__["default"]);


/***/ }),

/***/ "./js/libs/EventIniter/PointerEvent.js":
/*!*********************************************!*\
  !*** ./js/libs/EventIniter/PointerEvent.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PointerEvent)
/* harmony export */ });
/* harmony import */ var _util_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/index.js */ "./js/libs/util/index.js");
/* harmony import */ var _Event__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Event */ "./js/libs/Event.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }
function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }
function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }
function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }


var PointerEvent = /*#__PURE__*/function (_Event) {
  _inherits(PointerEvent, _Event);
  var _super = _createSuper(PointerEvent);
  function PointerEvent(type) {
    var _this;
    _classCallCheck(this, PointerEvent);
    _this = _super.call(this, type);
    _this.target = window.canvas;
    _this.currentTarget = window.canvas;
    return _this;
  }
  return _createClass(PointerEvent);
}(_Event__WEBPACK_IMPORTED_MODULE_1__["default"]);

var CLONE_PROPS = [
// MouseEvent
'bubbles', 'cancelable', 'view', 'detail', 'screenX', 'screenY', 'clientX', 'clientY', 'ctrlKey', 'altKey', 'shiftKey', 'metaKey', 'button', 'relatedTarget',
// PointerEvent
'pointerId', 'width', 'height', 'pressure', 'tiltX', 'tiltY', 'pointerType', 'hwTimestamp', 'isPrimary',
// event instance
'pageX', 'pageY', 'timeStamp'];
var CLONE_DEFAULTS = [
// MouseEvent
false, false, null, null, 0, 0, 0, 0, false, false, false, false, 0, null,
// DOM Level 3
0,
// PointerEvent
0, 0, 0, 0, 0, 0, '', 0, false,
// event instance
0, 0, 0];
var POINTER_TYPE = 'touch';
function touchToPointer(type, touch, rawEvent) {
  var e = new PointerEvent(type);
  for (var i = 0; i < CLONE_PROPS.length; i++) {
    var p = CLONE_PROPS[i];
    e[p] = touch[p] || CLONE_DEFAULTS[i];
  }
  e.type = type;
  e.target = window.canvas;
  e.currentTarget = window.canvas;
  e.buttons = typeToButtons(type);
  e.which = e.buttons;
  e.pointerId = (touch.identifier || 0) + 2;
  e.bubbles = true;
  e.cancelable = true;
  // e.detail = this.clickCount;
  e.button = 0;
  e.width = (touch.radiusX || 0.5) * 2;
  e.height = (touch.radiusY || 0.5) * 2;
  e.pressure = touch.force || 0.5;
  e.isPrimary = isPrimaryPointer(touch);
  e.pointerType = POINTER_TYPE;

  // forward modifier keys
  e.altKey = rawEvent.altKey;
  e.ctrlKey = rawEvent.ctrlKey;
  e.metaKey = rawEvent.metaKey;
  e.shiftKey = rawEvent.shiftKey;
  if (rawEvent.preventDefault) {
    e.preventDefault = function () {
      rawEvent.preventDefault();
    };
  }
  return e;
}
function typeToButtons(type) {
  var ret = 0;
  if (type === 'touchstart' || type === 'touchmove' || type === 'pointerdown' || type === 'pointermove') {
    ret = 1;
  }
  return ret;
}
var firstPointer = null;
function isPrimaryPointer(touch) {
  return firstPointer === touch.identifier;
}
function setPrimaryPointer(touch) {
  if (firstPointer === null) {
    firstPointer = touch.identifier;
  }
}
function removePrimaryPointer(touch) {
  if (firstPointer === touch.identifier) {
    firstPointer = null;
  }
}
function eventHandlerFactory(type) {
  return function (rawEvent) {
    var changedTouches = rawEvent.changedTouches;
    for (var i = 0; i < changedTouches.length; i++) {
      var touch = changedTouches[i];
      if (i === 0 && type === 'pointerdown') {
        setPrimaryPointer(touch);
      } else if (type === 'pointerup' || type === 'pointercancel') {
        removePrimaryPointer(touch);
      }
      var event = touchToPointer(type, touch, rawEvent);
      document.dispatchEvent(event);
    }
  };
}
wx.onTouchStart(eventHandlerFactory('pointerdown'));
wx.onTouchMove(eventHandlerFactory('pointermove'));
wx.onTouchEnd(eventHandlerFactory('pointerup'));
wx.onTouchCancel(eventHandlerFactory('pointercancel'));

/***/ }),

/***/ "./js/libs/EventIniter/TouchEvent.js":
/*!*******************************************!*\
  !*** ./js/libs/EventIniter/TouchEvent.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ TouchEvent)
/* harmony export */ });
/* harmony import */ var _util_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/index.js */ "./js/libs/util/index.js");
/* harmony import */ var _Event__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Event */ "./js/libs/Event.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }
function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }
function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }
function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }


var TouchEvent = /*#__PURE__*/function (_Event) {
  _inherits(TouchEvent, _Event);
  var _super = _createSuper(TouchEvent);
  function TouchEvent(type) {
    var _this;
    _classCallCheck(this, TouchEvent);
    _this = _super.call(this, type);
    _this.touches = [];
    _this.targetTouches = [];
    _this.changedTouches = [];
    _this.target = window.canvas;
    _this.currentTarget = window.canvas;
    return _this;
  }
  return _createClass(TouchEvent);
}(_Event__WEBPACK_IMPORTED_MODULE_1__["default"]);

function eventHandlerFactory(type) {
  return function (rawEvent) {
    var event = new TouchEvent(type);
    event.changedTouches = rawEvent.changedTouches;
    event.touches = rawEvent.touches;
    event.targetTouches = Array.prototype.slice.call(rawEvent.touches);
    event.timeStamp = rawEvent.timeStamp;
    document.dispatchEvent(event);
  };
}
wx.onTouchStart(eventHandlerFactory('touchstart'));
wx.onTouchMove(eventHandlerFactory('touchmove'));
wx.onTouchEnd(eventHandlerFactory('touchend'));
wx.onTouchCancel(eventHandlerFactory('touchcancel'));

/***/ }),

/***/ "./js/libs/EventIniter/index.js":
/*!**************************************!*\
  !*** ./js/libs/EventIniter/index.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MouseEvent: () => (/* reexport safe */ _MouseEvent__WEBPACK_IMPORTED_MODULE_2__["default"]),
/* harmony export */   PointerEvent: () => (/* reexport safe */ _PointerEvent__WEBPACK_IMPORTED_MODULE_1__["default"]),
/* harmony export */   TouchEvent: () => (/* reexport safe */ _TouchEvent__WEBPACK_IMPORTED_MODULE_0__["default"])
/* harmony export */ });
/* harmony import */ var _TouchEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TouchEvent */ "./js/libs/EventIniter/TouchEvent.js");
/* harmony import */ var _PointerEvent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PointerEvent */ "./js/libs/EventIniter/PointerEvent.js");
/* harmony import */ var _MouseEvent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MouseEvent */ "./js/libs/EventIniter/MouseEvent.js");




/***/ }),

/***/ "./js/libs/EventTarget.js":
/*!********************************!*\
  !*** ./js/libs/EventTarget.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ EventTarget)
/* harmony export */ });
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
var _events = new WeakMap();
var EventTarget = /*#__PURE__*/function () {
  function EventTarget() {
    _classCallCheck(this, EventTarget);
    _events.set(this, {});
  }
  _createClass(EventTarget, [{
    key: "addEventListener",
    value: function addEventListener(type, listener) {
      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
      var events = _events.get(this);
      if (!events) {
        events = {};
        _events.set(this, events);
      }
      if (!events[type]) {
        events[type] = [];
      }
      events[type].push(listener);
      if (options.capture) {
        // console.warn('EventTarget.addEventListener: options.capture is not implemented.')
      }
      if (options.once) {
        // console.warn('EventTarget.addEventListener: options.once is not implemented.')
      }
      if (options.passive) {
        // console.warn('EventTarget.addEventListener: options.passive is not implemented.')
      }
    }
  }, {
    key: "removeEventListener",
    value: function removeEventListener(type, listener) {
      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
      var events = _events.get(this);
      if (events) {
        var listeners = events[type];
        if (listeners && listeners.length > 0) {
          for (var i = listeners.length; i--; i > 0) {
            if (listeners[i] === listener) {
              listeners.splice(i, 1);
              break;
            }
          }
        }
      }
    }
  }, {
    key: "dispatchEvent",
    value: function dispatchEvent() {
      var event = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
      var listeners = _events.get(this)[event.type];
      if (listeners) {
        for (var i = 0; i < listeners.length; i++) {
          listeners[i](event);
        }
      }
    }
  }]);
  return EventTarget;
}();


/***/ }),

/***/ "./js/libs/FileReader.js":
/*!*******************************!*\
  !*** ./js/libs/FileReader.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ FileReader)
/* harmony export */ });
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
/*
 * TODO 使用 wx.readFile 来封装 FileReader
 */
var FileReader = /*#__PURE__*/function () {
  function FileReader() {
    _classCallCheck(this, FileReader);
  }
  _createClass(FileReader, [{
    key: "construct",
    value: function construct() {}
  }]);
  return FileReader;
}();


/***/ }),

/***/ "./js/libs/HTMLAudioElement.js":
/*!*************************************!*\
  !*** ./js/libs/HTMLAudioElement.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ HTMLAudioElement)
/* harmony export */ });
/* harmony import */ var _HTMLMediaElement__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./HTMLMediaElement */ "./js/libs/HTMLMediaElement.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }
function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }
function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }
function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var HTMLAudioElement = /*#__PURE__*/function (_HTMLMediaElement) {
  _inherits(HTMLAudioElement, _HTMLMediaElement);
  var _super = _createSuper(HTMLAudioElement);
  function HTMLAudioElement() {
    _classCallCheck(this, HTMLAudioElement);
    return _super.call(this, 'audio');
  }
  return _createClass(HTMLAudioElement);
}(_HTMLMediaElement__WEBPACK_IMPORTED_MODULE_0__["default"]);


/***/ }),

/***/ "./js/libs/HTMLCanvasElement.js":
/*!**************************************!*\
  !*** ./js/libs/HTMLCanvasElement.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _Canvas__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Canvas */ "./js/libs/Canvas.js");
/* harmony import */ var _HTMLElement__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./HTMLElement */ "./js/libs/HTMLElement.js");
// import HTMLElement from './HTMLElement';

// export default class HTMLCanvasElement extends HTMLElement
// {
//     constructor(){
//         super('canvas')
//     }
// };



GameGlobal.screencanvas = GameGlobal.screencanvas || new _Canvas__WEBPACK_IMPORTED_MODULE_0__["default"]();
var canvas = GameGlobal.screencanvas;
var canvasConstructor = canvas.constructor;

// canvasConstructor.__proto__.__proto__ = new HTMLElement();

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (canvasConstructor);

/***/ }),

/***/ "./js/libs/HTMLElement.js":
/*!********************************!*\
  !*** ./js/libs/HTMLElement.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ HTMLElement)
/* harmony export */ });
/* harmony import */ var _util_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util/index.js */ "./js/libs/util/index.js");
/* harmony import */ var _util_mixin__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util/mixin */ "./js/libs/util/mixin.js");
/* harmony import */ var _Element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Element */ "./js/libs/Element.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }
function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }
function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }
function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }



var HTMLElement = /*#__PURE__*/function (_Element) {
  _inherits(HTMLElement, _Element);
  var _super = _createSuper(HTMLElement);
  function HTMLElement() {
    var _this;
    var tagName = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';
    var level = arguments.length > 1 ? arguments[1] : undefined;
    _classCallCheck(this, HTMLElement);
    _this = _super.call(this);
    _this.className = '';
    _this.children = [];
    _this.focus = _util_index_js__WEBPACK_IMPORTED_MODULE_0__.noop;
    _this.blur = _util_index_js__WEBPACK_IMPORTED_MODULE_0__.noop;
    _this.insertBefore = _util_index_js__WEBPACK_IMPORTED_MODULE_0__.noop;
    _this.appendChild = _util_index_js__WEBPACK_IMPORTED_MODULE_0__.noop;
    _this.removeChild = _util_index_js__WEBPACK_IMPORTED_MODULE_0__.noop;
    _this.remove = _util_index_js__WEBPACK_IMPORTED_MODULE_0__.noop;
    _this.innerHTML = '';
    _this.tagName = tagName.toUpperCase();
    _util_mixin__WEBPACK_IMPORTED_MODULE_1__.parentNode(_assertThisInitialized(_this), level);
    _util_mixin__WEBPACK_IMPORTED_MODULE_1__.style(_assertThisInitialized(_this));
    _util_mixin__WEBPACK_IMPORTED_MODULE_1__.classList(_assertThisInitialized(_this));
    _util_mixin__WEBPACK_IMPORTED_MODULE_1__.clientRegion(_assertThisInitialized(_this));
    _util_mixin__WEBPACK_IMPORTED_MODULE_1__.offsetRegion(_assertThisInitialized(_this));
    _util_mixin__WEBPACK_IMPORTED_MODULE_1__.scrollRegion(_assertThisInitialized(_this));
    return _this;
  }
  return _createClass(HTMLElement);
}(_Element__WEBPACK_IMPORTED_MODULE_2__["default"]);


/***/ }),

/***/ "./js/libs/HTMLImageElement.js":
/*!*************************************!*\
  !*** ./js/libs/HTMLImageElement.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _HTMLElement__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./HTMLElement */ "./js/libs/HTMLElement.js");
// import HTMLElement from './HTMLElement';

// export default class HTMLImageElement extends HTMLElement
// {
//     constructor(){
//         super('img')
//     }
// };


var imageConstructor = wx.createImage().constructor;

// imageConstructor.__proto__.__proto__ = new HTMLElement();

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (imageConstructor);

/***/ }),

/***/ "./js/libs/HTMLMediaElement.js":
/*!*************************************!*\
  !*** ./js/libs/HTMLMediaElement.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ HTMLMediaElement)
/* harmony export */ });
/* harmony import */ var _HTMLElement__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./HTMLElement */ "./js/libs/HTMLElement.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }
function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }
function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }
function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var HTMLMediaElement = /*#__PURE__*/function (_HTMLElement) {
  _inherits(HTMLMediaElement, _HTMLElement);
  var _super = _createSuper(HTMLMediaElement);
  function HTMLMediaElement(tagName) {
    _classCallCheck(this, HTMLMediaElement);
    return _super.call(this, tagName);
  }
  _createClass(HTMLMediaElement, [{
    key: "addTextTrack",
    value: function addTextTrack() {}
  }, {
    key: "captureStream",
    value: function captureStream() {}
  }, {
    key: "fastSeek",
    value: function fastSeek() {}
  }, {
    key: "load",
    value: function load() {}
  }, {
    key: "pause",
    value: function pause() {}
  }, {
    key: "play",
    value: function play() {}
  }]);
  return HTMLMediaElement;
}(_HTMLElement__WEBPACK_IMPORTED_MODULE_0__["default"]);


/***/ }),

/***/ "./js/libs/HTMLVideoElement.js":
/*!*************************************!*\
  !*** ./js/libs/HTMLVideoElement.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ HTMLVideoElement)
/* harmony export */ });
/* harmony import */ var _HTMLMediaElement__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./HTMLMediaElement */ "./js/libs/HTMLMediaElement.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }
function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }
function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }
function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var HTMLVideoElement = /*#__PURE__*/function (_HTMLMediaElement) {
  _inherits(HTMLVideoElement, _HTMLMediaElement);
  var _super = _createSuper(HTMLVideoElement);
  function HTMLVideoElement() {
    _classCallCheck(this, HTMLVideoElement);
    return _super.call(this, 'video');
  }
  return _createClass(HTMLVideoElement);
}(_HTMLMediaElement__WEBPACK_IMPORTED_MODULE_0__["default"]);

;

/***/ }),

/***/ "./js/libs/Image.js":
/*!**************************!*\
  !*** ./js/libs/Image.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _util_mixin__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util/mixin */ "./js/libs/util/mixin.js");
/* harmony import */ var _HTMLImageElement__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./HTMLImageElement */ "./js/libs/HTMLImageElement.js");


/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__() {
  var image = wx.createImage();

  // image.__proto__.__proto__.__proto__ = new HTMLImageElement();

  if (!('tagName' in image)) {
    image.tagName = 'IMG';
  }
  _util_mixin__WEBPACK_IMPORTED_MODULE_0__.parentNode(image);
  _util_mixin__WEBPACK_IMPORTED_MODULE_0__.classList(image);
  return image;
}
;

/***/ }),

/***/ "./js/libs/ImageBitmap.js":
/*!********************************!*\
  !*** ./js/libs/ImageBitmap.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ ImageBitmap)
/* harmony export */ });
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
var ImageBitmap = /*#__PURE__*/_createClass(function ImageBitmap() {
  _classCallCheck(this, ImageBitmap);
} // TODO
);


/***/ }),

/***/ "./js/libs/Node.js":
/*!*************************!*\
  !*** ./js/libs/Node.js ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Node)
/* harmony export */ });
/* harmony import */ var _EventTarget_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EventTarget.js */ "./js/libs/EventTarget.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }
function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }
function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }
function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var Node = /*#__PURE__*/function (_EventTarget) {
  _inherits(Node, _EventTarget);
  var _super = _createSuper(Node);
  function Node() {
    var _this;
    _classCallCheck(this, Node);
    _this = _super.call(this);
    _this.childNodes = [];
    return _this;
  }
  _createClass(Node, [{
    key: "appendChild",
    value: function appendChild(node) {
      this.childNodes.push(node);
      // if (node instanceof Node) {
      //   this.childNodes.push(node)
      // } else {
      //   throw new TypeError('Failed to executed \'appendChild\' on \'Node\': parameter 1 is not of type \'Node\'.')
      // }
    }
  }, {
    key: "cloneNode",
    value: function cloneNode() {
      var copyNode = Object.create(this);
      Object.assign(copyNode, this);
      return copyNode;
    }
  }, {
    key: "removeChild",
    value: function removeChild(node) {
      var index = this.childNodes.findIndex(function (child) {
        return child === node;
      });
      if (index > -1) {
        return this.childNodes.splice(index, 1);
      }
      return null;
    }
  }]);
  return Node;
}(_EventTarget_js__WEBPACK_IMPORTED_MODULE_0__["default"]);


/***/ }),

/***/ "./js/libs/WebGLRenderingContext.js":
/*!******************************************!*\
  !*** ./js/libs/WebGLRenderingContext.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ WebGLRenderingContext)
/* harmony export */ });
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
var WebGLRenderingContext = /*#__PURE__*/_createClass(function WebGLRenderingContext() {
  _classCallCheck(this, WebGLRenderingContext);
} // TODO
);


/***/ }),

/***/ "./js/libs/WebSocket.js":
/*!******************************!*\
  !*** ./js/libs/WebSocket.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ WebSocket)
/* harmony export */ });
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
var _socketTask = new WeakMap();
var WebSocket = /*#__PURE__*/function () {
  function WebSocket(url) {
    var _this = this;
    var protocols = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];
    _classCallCheck(this, WebSocket);
    this.binaryType = ''; // TODO 更新 binaryType
    this.bufferedAmount = 0; // TODO 更新 bufferedAmount
    this.extensions = '';
    this.onclose = null;
    this.onerror = null;
    this.onmessage = null;
    this.onopen = null;
    this.protocol = ''; // TODO 小程序内目前获取不到，实际上需要根据服务器选择的 sub-protocol 返回
    this.readyState = 3;
    if (typeof url !== 'string' || !/(^ws:\/\/)|(^wss:\/\/)/.test(url)) {
      throw new TypeError("Failed to construct 'WebSocket': The URL '".concat(url, "' is invalid"));
    }
    this.url = url;
    this.readyState = WebSocket.CONNECTING;
    var socketTask = wx.connectSocket({
      url: url,
      protocols: Array.isArray(protocols) ? protocols : [protocols]
    });
    _socketTask.set(this, socketTask);
    socketTask.onClose(function (res) {
      _this.readyState = WebSocket.CLOSED;
      if (typeof _this.onclose === 'function') {
        _this.onclose(res);
      }
    });
    socketTask.onMessage(function (res) {
      if (typeof _this.onmessage === 'function') {
        _this.onmessage(res);
      }
    });
    socketTask.onOpen(function () {
      _this.readyState = WebSocket.OPEN;
      if (typeof _this.onopen === 'function') {
        _this.onopen();
      }
    });
    socketTask.onError(function (res) {
      if (typeof _this.onerror === 'function') {
        _this.onerror(new Error(res.errMsg));
      }
    });
    return this;
  }
  _createClass(WebSocket, [{
    key: "close",
    value: function close(code, reason) {
      this.readyState = WebSocket.CLOSING;
      var socketTask = _socketTask.get(this);
      socketTask.close({
        code: code,
        reason: reason
      });
    }
  }, {
    key: "send",
    value: function send(data) {
      if (typeof data !== 'string' && !(data instanceof ArrayBuffer)) {
        throw new TypeError("Failed to send message: The data ".concat(data, " is invalid"));
      }
      var socketTask = _socketTask.get(this);
      socketTask.send({
        data: data
      });
    }
  }]);
  return WebSocket;
}();

WebSocket.CONNECTING = 0; // The connection is not yet open.
WebSocket.OPEN = 1; // The connection is open and ready to communicate.
WebSocket.CLOSING = 2; // The connection is in the process of closing.
WebSocket.CLOSED = 3; // The connection is closed or couldn't be opened.

/***/ }),

/***/ "./js/libs/WindowProperties.js":
/*!*************************************!*\
  !*** ./js/libs/WindowProperties.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   devicePixelRatio: () => (/* binding */ devicePixelRatio),
/* harmony export */   innerHeight: () => (/* binding */ innerHeight),
/* harmony export */   innerWidth: () => (/* binding */ innerWidth),
/* harmony export */   ontouchend: () => (/* binding */ ontouchend),
/* harmony export */   ontouchmove: () => (/* binding */ ontouchmove),
/* harmony export */   ontouchstart: () => (/* binding */ ontouchstart),
/* harmony export */   performance: () => (/* reexport safe */ _performance__WEBPACK_IMPORTED_MODULE_0__["default"]),
/* harmony export */   screen: () => (/* binding */ screen),
/* harmony export */   scrollX: () => (/* binding */ scrollX),
/* harmony export */   scrollY: () => (/* binding */ scrollY)
/* harmony export */ });
/* harmony import */ var _performance__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./performance */ "./js/libs/performance.js");
var _wx$getSystemInfoSync = wx.getSystemInfoSync(),
  screenWidth = _wx$getSystemInfoSync.screenWidth,
  screenHeight = _wx$getSystemInfoSync.screenHeight,
  devicePixelRatio = _wx$getSystemInfoSync.devicePixelRatio;
var innerWidth = screenWidth;
var innerHeight = screenHeight;

var screen = {
  width: screenWidth,
  height: screenHeight,
  availWidth: innerWidth,
  availHeight: innerHeight,
  availLeft: 0,
  availTop: 0
};
var scrollX = 0;
var scrollY = 0;
var ontouchstart = null;
var ontouchmove = null;
var ontouchend = null;


/***/ }),

/***/ "./js/libs/Worker.js":
/*!***************************!*\
  !*** ./js/libs/Worker.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Worker)
/* harmony export */ });
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
var Worker = /*#__PURE__*/function () {
  function Worker(file) {
    var _this = this;
    _classCallCheck(this, Worker);
    this.onmessage = null;

    // 目前 微信小游戏中 Worker 最大并发数量限制为 1 个，
    // 所以创建新Worker前, 需要结束现有的 Worker.terminate
    if (Worker.previousWorker) {
      Worker.previousWorker.terminate();
    }
    Worker.previousWorker = this;
    this._file = file;
    this._worker = wx.createWorker(file);
    this._worker.onMessage(function (res) {
      if (_this.onmessage) {
        _this.onmessage({
          target: _this,
          data: res
        });
      }
    });
  }
  _createClass(Worker, [{
    key: "postMessage",
    value: function postMessage(message, transferList) {
      this._worker.postMessage(message, transferList);
    }
  }, {
    key: "terminate",
    value: function terminate() {
      this._worker.terminate();
      Worker.previousWorker = null;
    }
  }]);
  return Worker;
}();

Worker.previousWorker = null;

// export default function(file) {
//     const worker = wx.createWorker(file)

//     return worker
// }

/***/ }),

/***/ "./js/libs/XMLHttpRequest.js":
/*!***********************************!*\
  !*** ./js/libs/XMLHttpRequest.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ XMLHttpRequest)
/* harmony export */ });
/* harmony import */ var _EventTarget_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EventTarget.js */ "./js/libs/EventTarget.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }
function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }
function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }
function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _requestHeader = new WeakMap();
var _responseHeader = new WeakMap();
var _requestTask = new WeakMap();
function _triggerEvent(type) {
  var event = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  event.target = event.target || this;
  if (typeof this["on".concat(type)] === 'function') {
    this["on".concat(type)].call(this, event);
  }
}
function _changeReadyState(readyState) {
  var event = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  this.readyState = readyState;
  event.readyState = readyState;
  _triggerEvent.call(this, 'readystatechange', event);
}
function _isRelativePath(url) {
  return !/^(http|https|ftp|wxfile):\/\/.*/i.test(url);
}
var XMLHttpRequest = /*#__PURE__*/function (_EventTarget) {
  _inherits(XMLHttpRequest, _EventTarget);
  var _super = _createSuper(XMLHttpRequest);
  function XMLHttpRequest() {
    var _this;
    _classCallCheck(this, XMLHttpRequest);
    _this = _super.call(this);

    /*
     * TODO 这一批事件应该是在 XMLHttpRequestEventTarget.prototype 上面的
     */
    _this.onabort = null;
    _this.onerror = null;
    _this.onload = null;
    _this.onloadstart = null;
    _this.onprogress = null;
    _this.ontimeout = null;
    _this.onloadend = null;
    _this.onreadystatechange = null;
    _this.readyState = 0;
    _this.response = null;
    _this.responseText = null;
    _this.responseType = 'text';
    _this.dataType = 'string';
    _this.responseXML = null;
    _this.status = 0;
    _this.statusText = '';
    _this.upload = {};
    _this.withCredentials = false;
    _requestHeader.set(_assertThisInitialized(_this), {
      'content-type': 'application/x-www-form-urlencoded'
    });
    _responseHeader.set(_assertThisInitialized(_this), {});
    return _this;
  }
  _createClass(XMLHttpRequest, [{
    key: "abort",
    value: function abort() {
      var myRequestTask = _requestTask.get(this);
      if (myRequestTask) {
        myRequestTask.abort();
      }
    }
  }, {
    key: "getAllResponseHeaders",
    value: function getAllResponseHeaders() {
      var responseHeader = _responseHeader.get(this);
      return Object.keys(responseHeader).map(function (header) {
        return "".concat(header, ": ").concat(responseHeader[header]);
      }).join('\n');
    }
  }, {
    key: "getResponseHeader",
    value: function getResponseHeader(header) {
      return _responseHeader.get(this)[header];
    }
  }, {
    key: "open",
    value: function open(method, url /* async, user, password 这几个参数在小程序内不支持*/) {
      this._method = method;
      this._url = url;
      _changeReadyState.call(this, XMLHttpRequest.OPENED);
    }
  }, {
    key: "overrideMimeType",
    value: function overrideMimeType() {}
  }, {
    key: "send",
    value: function send() {
      var _this2 = this;
      var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';
      if (this.readyState !== XMLHttpRequest.OPENED) {
        throw new Error("Failed to execute 'send' on 'XMLHttpRequest': The object's state must be OPENED.");
      } else {
        var url = this._url;
        var header = _requestHeader.get(this);
        var responseType = this.responseType;
        var dataType = this.dataType;
        var relative = _isRelativePath(url);
        var encoding;
        if (responseType === 'arraybuffer') {
          // encoding = 'binary'
        } else {
          encoding = 'utf8';
        }
        delete this.response;
        this.response = null;
        var onSuccess = function onSuccess(_ref) {
          var data = _ref.data,
            statusCode = _ref.statusCode,
            header = _ref.header;
          statusCode = statusCode === undefined ? 200 : statusCode;
          if (typeof data !== 'string' && !(data instanceof ArrayBuffer)) {
            try {
              data = JSON.stringify(data);
            } catch (e) {
              data = data;
            }
          }
          _this2.status = statusCode;
          if (header) {
            _responseHeader.set(_this2, header);
          }
          _triggerEvent.call(_this2, 'loadstart');
          _changeReadyState.call(_this2, XMLHttpRequest.HEADERS_RECEIVED);
          _changeReadyState.call(_this2, XMLHttpRequest.LOADING);
          _this2.response = data;
          if (data instanceof ArrayBuffer) {
            Object.defineProperty(_this2, 'responseText', {
              enumerable: true,
              configurable: true,
              get: function get() {
                throw "InvalidStateError : responseType is " + this.responseType;
              }
            });
          } else {
            _this2.responseText = data;
          }
          _changeReadyState.call(_this2, XMLHttpRequest.DONE);
          _triggerEvent.call(_this2, 'load');
          _triggerEvent.call(_this2, 'loadend');
        };
        var onFail = function onFail(_ref2) {
          var errMsg = _ref2.errMsg;
          // TODO 规范错误

          if (errMsg.indexOf('abort') !== -1) {
            _triggerEvent.call(_this2, 'abort');
          } else {
            _triggerEvent.call(_this2, 'error', {
              message: errMsg
            });
          }
          _triggerEvent.call(_this2, 'loadend');
          if (relative) {
            // 用户即使没监听error事件, 也给出相应的警告
            console.warn(errMsg);
          }
        };
        if (relative) {
          var fs = wx.getFileSystemManager();
          var options = {
            'filePath': url,
            'success': onSuccess,
            'fail': onFail
          };
          if (encoding) {
            options['encoding'] = encoding;
          }
          fs.readFile(options);
          return;
        }
        wx.request({
          data: data,
          url: url,
          method: this._method,
          header: header,
          dataType: dataType,
          responseType: responseType,
          success: onSuccess,
          fail: onFail
        });
      }
    }
  }, {
    key: "setRequestHeader",
    value: function setRequestHeader(header, value) {
      var myHeader = _requestHeader.get(this);
      myHeader[header] = value;
      _requestHeader.set(this, myHeader);
    }
  }, {
    key: "addEventListener",
    value: function addEventListener(type, listener) {
      var _this3 = this;
      if (typeof listener !== 'function') {
        return;
      }
      this['on' + type] = function () {
        var event = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
        event.target = event.target || _this3;
        listener.call(_this3, event);
      };
    }
  }, {
    key: "removeEventListener",
    value: function removeEventListener(type, listener) {
      if (this['on' + type] === listener) {
        this['on' + type] = null;
      }
    }
  }]);
  return XMLHttpRequest;
}(_EventTarget_js__WEBPACK_IMPORTED_MODULE_0__["default"]); // TODO 没法模拟 HEADERS_RECEIVED 和 LOADING 两个状态

XMLHttpRequest.UNSEND = 0;
XMLHttpRequest.OPENED = 1;
XMLHttpRequest.HEADERS_RECEIVED = 2;
XMLHttpRequest.LOADING = 3;
XMLHttpRequest.DONE = 4;

/***/ }),

/***/ "./js/libs/document.js":
/*!*****************************!*\
  !*** ./js/libs/document.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _window__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./window */ "./js/libs/window.js");
/* harmony import */ var _Event__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Event */ "./js/libs/Event.js");
/* harmony import */ var _HTMLElement__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./HTMLElement */ "./js/libs/HTMLElement.js");
/* harmony import */ var _HTMLVideoElement__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./HTMLVideoElement */ "./js/libs/HTMLVideoElement.js");
/* harmony import */ var _Image__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Image */ "./js/libs/Image.js");
/* harmony import */ var _Audio__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Audio */ "./js/libs/Audio.js");
/* harmony import */ var _Canvas__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Canvas */ "./js/libs/Canvas.js");
/* harmony import */ var _DocumentElement__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./DocumentElement */ "./js/libs/DocumentElement.js");
/* harmony import */ var _Body__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Body */ "./js/libs/Body.js");
/* harmony import */ var _EventIniter_index_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./EventIniter/index.js */ "./js/libs/EventIniter/index.js");










var events = {};
var document = {
  readyState: 'complete',
  visibilityState: 'visible',
  // 'visible' , 'hidden'
  hidden: false,
  fullscreen: true,
  location: _window__WEBPACK_IMPORTED_MODULE_0__.location,
  scripts: [],
  style: {},
  ontouchstart: null,
  ontouchmove: null,
  ontouchend: null,
  onvisibilitychange: null,
  parentNode: null,
  parentElement: null,
  createElement: function createElement(tagName) {
    tagName = tagName.toLowerCase();
    if (tagName === 'canvas') {
      return new _Canvas__WEBPACK_IMPORTED_MODULE_6__["default"]();
    } else if (tagName === 'audio') {
      return new _Audio__WEBPACK_IMPORTED_MODULE_5__["default"]();
    } else if (tagName === 'img') {
      return new _Image__WEBPACK_IMPORTED_MODULE_4__["default"]();
    } else if (tagName === 'video') {
      return new _HTMLVideoElement__WEBPACK_IMPORTED_MODULE_3__["default"]();
    }
    return new _HTMLElement__WEBPACK_IMPORTED_MODULE_2__["default"](tagName);
  },
  createElementNS: function createElementNS(nameSpace, tagName) {
    return this.createElement(tagName);
  },
  createTextNode: function createTextNode(text) {
    // TODO: Do we need the TextNode Class ???
    return text;
  },
  getElementById: function getElementById(id) {
    if (id === _window__WEBPACK_IMPORTED_MODULE_0__.canvas.id) {
      return _window__WEBPACK_IMPORTED_MODULE_0__.canvas;
    }
    return null;
  },
  getElementsByTagName: function getElementsByTagName(tagName) {
    tagName = tagName.toLowerCase();
    if (tagName === 'head') {
      return [document.head];
    } else if (tagName === 'body') {
      return [document.body];
    } else if (tagName === 'canvas') {
      return [_window__WEBPACK_IMPORTED_MODULE_0__.canvas];
    }
    return [];
  },
  getElementsByTagNameNS: function getElementsByTagNameNS(nameSpace, tagName) {
    return this.getElementsByTagName(tagName);
  },
  getElementsByName: function getElementsByName(tagName) {
    if (tagName === 'head') {
      return [document.head];
    } else if (tagName === 'body') {
      return [document.body];
    } else if (tagName === 'canvas') {
      return [_window__WEBPACK_IMPORTED_MODULE_0__.canvas];
    }
    return [];
  },
  querySelector: function querySelector(query) {
    if (query === 'head') {
      return document.head;
    } else if (query === 'body') {
      return document.body;
    } else if (query === 'canvas') {
      return _window__WEBPACK_IMPORTED_MODULE_0__.canvas;
    } else if (query === "#".concat(_window__WEBPACK_IMPORTED_MODULE_0__.canvas.id)) {
      return _window__WEBPACK_IMPORTED_MODULE_0__.canvas;
    }
    return null;
  },
  querySelectorAll: function querySelectorAll(query) {
    if (query === 'head') {
      return [document.head];
    } else if (query === 'body') {
      return [document.body];
    } else if (query === 'canvas') {
      return [_window__WEBPACK_IMPORTED_MODULE_0__.canvas];
    }
    return [];
  },
  addEventListener: function addEventListener(type, listener) {
    if (!events[type]) {
      events[type] = [];
    }
    events[type].push(listener);
  },
  removeEventListener: function removeEventListener(type, listener) {
    var listeners = events[type];
    if (listeners && listeners.length > 0) {
      for (var i = listeners.length; i--; i > 0) {
        if (listeners[i] === listener) {
          listeners.splice(i, 1);
          break;
        }
      }
    }
  },
  dispatchEvent: function dispatchEvent(event) {
    var type = event.type;
    var listeners = events[type];
    if (listeners) {
      for (var i = 0; i < listeners.length; i++) {
        listeners[i](event);
      }
    }
    if (event.target && typeof event.target['on' + type] === 'function') {
      event.target['on' + type](event);
    }
  }
};
document.documentElement = new _DocumentElement__WEBPACK_IMPORTED_MODULE_7__["default"]();
document.head = new _HTMLElement__WEBPACK_IMPORTED_MODULE_2__["default"]('head');
document.body = new _Body__WEBPACK_IMPORTED_MODULE_8__["default"]();
function onVisibilityChange(visible) {
  return function () {
    document.visibilityState = visible ? 'visible' : 'hidden';
    var hidden = !visible;
    if (document.hidden === hidden) {
      return;
    }
    document.hidden = hidden;
    var event = new _Event__WEBPACK_IMPORTED_MODULE_1__["default"]('visibilitychange');
    event.target = document;
    event.timeStamp = Date.now();
    document.dispatchEvent(event);
  };
}
if (wx.onHide) {
  wx.onHide(onVisibilityChange(false));
}
if (wx.onShow) {
  wx.onShow(onVisibilityChange(true));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (document);

/***/ }),

/***/ "./js/libs/index.js":
/*!**************************!*\
  !*** ./js/libs/index.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _window__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./window */ "./js/libs/window.js");
/* harmony import */ var _document__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./document */ "./js/libs/document.js");


var global = GameGlobal;
GameGlobal.global = GameGlobal.global || global;
function inject() {
  _window__WEBPACK_IMPORTED_MODULE_0__.document = _document__WEBPACK_IMPORTED_MODULE_1__["default"];
  _window__WEBPACK_IMPORTED_MODULE_0__.addEventListener = function (type, listener) {
    _window__WEBPACK_IMPORTED_MODULE_0__.document.addEventListener(type, listener);
  };
  _window__WEBPACK_IMPORTED_MODULE_0__.removeEventListener = function (type, listener) {
    _window__WEBPACK_IMPORTED_MODULE_0__.document.removeEventListener(type, listener);
  };
  _window__WEBPACK_IMPORTED_MODULE_0__.dispatchEvent = function () {
    var event = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    console.log('window.dispatchEvent', event.type, event);
    // nothing to do
  };

  var _wx$getSystemInfoSync = wx.getSystemInfoSync(),
    platform = _wx$getSystemInfoSync.platform;

  // 开发者工具无法重定义 window
  if (typeof __devtoolssubcontext === 'undefined' && platform === 'devtools') {
    for (var key in _window__WEBPACK_IMPORTED_MODULE_0__) {
      var descriptor = Object.getOwnPropertyDescriptor(global, key);
      if (!descriptor || descriptor.configurable === true) {
        Object.defineProperty(window, key, {
          value: _window__WEBPACK_IMPORTED_MODULE_0__[key]
        });
      }
    }
    for (var _key in _window__WEBPACK_IMPORTED_MODULE_0__.document) {
      var _descriptor = Object.getOwnPropertyDescriptor(global.document, _key);
      if (!_descriptor || _descriptor.configurable === true) {
        Object.defineProperty(global.document, _key, {
          value: _window__WEBPACK_IMPORTED_MODULE_0__.document[_key]
        });
      }
    }
    window.parent = window;
    window.wx = wx;
  } else {
    _window__WEBPACK_IMPORTED_MODULE_0__.wx = wx;
    for (var _key2 in _window__WEBPACK_IMPORTED_MODULE_0__) {
      global[_key2] = _window__WEBPACK_IMPORTED_MODULE_0__[_key2];
    }
    global.window = global;
    global.top = global.parent = global;
  }
}
if (!GameGlobal.__isAdapterInjected) {
  GameGlobal.__isAdapterInjected = true;
  inject();
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GameGlobal);

/***/ }),

/***/ "./js/libs/localStorage.js":
/*!*********************************!*\
  !*** ./js/libs/localStorage.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
var localStorage = {
  get length() {
    var _wx$getStorageInfoSyn = wx.getStorageInfoSync(),
      keys = _wx$getStorageInfoSyn.keys;
    return keys.length;
  },
  key: function key(n) {
    var _wx$getStorageInfoSyn2 = wx.getStorageInfoSync(),
      keys = _wx$getStorageInfoSyn2.keys;
    return keys[n];
  },
  getItem: function getItem(key) {
    var value = wx.getStorageSync(key);
    return value === "" ? null : value;
  },
  setItem: function setItem(key, value) {
    if (window.asyncStorage) {
      return wx.setStorage({
        key: key,
        data: value
      });
    }
    return wx.setStorageSync(key, value);
  },
  removeItem: function removeItem(key) {
    if (window.asyncStorage) {
      return wx.removeStorage({
        key: key
      });
    }
    return wx.removeStorageSync(key);
  },
  clear: function clear() {
    if (window.asyncStorage) {
      return wx.clearStorage();
    }
    return wx.clearStorageSync();
  }
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (localStorage);

/***/ }),

/***/ "./js/libs/location.js":
/*!*****************************!*\
  !*** ./js/libs/location.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
var location = {
  href: 'game.js',
  reload: function reload() {},
  replace: function replace(href) {
    this.href = href;
  }
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (location);

/***/ }),

/***/ "./js/libs/navigator.js":
/*!******************************!*\
  !*** ./js/libs/navigator.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _util_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util/index.js */ "./js/libs/util/index.js");


// TODO 需要 wx.getSystemInfo 获取更详细信息
var systemInfo = wx.getSystemInfoSync();
var system = systemInfo.system;
var platform = systemInfo.platform;
var language = systemInfo.language;
var android = system.toLowerCase().indexOf('android') !== -1;
var uaDesc = android ? 'Android; CPU Android 6.0' : 'iPhone; CPU iPhone OS 10_3_1 like Mac OS X';
var ua = "Mozilla/5.0 (".concat(uaDesc, ") AppleWebKit/603.1.30 (KHTML, like Gecko) Mobile/14E8301 MicroMessenger/6.6.0 MiniGame NetType/WIFI Language/").concat(language);
var navigator = {
  platform: platform,
  language: language,
  appVersion: "5.0 (".concat(uaDesc, ") AppleWebKit/601.1.46 (KHTML, like Gecko) Version/9.0 Mobile/13B143 Safari/601.1"),
  userAgent: ua,
  onLine: true,
  // TODO 用 wx.getNetworkStateChange 和 wx.onNetworkStateChange 来返回真实的状态

  // TODO 用 wx.getLocation 来封装 geolocation
  geolocation: {
    getCurrentPosition: _util_index_js__WEBPACK_IMPORTED_MODULE_0__.noop,
    watchPosition: _util_index_js__WEBPACK_IMPORTED_MODULE_0__.noop,
    clearWatch: _util_index_js__WEBPACK_IMPORTED_MODULE_0__.noop
  }
};
if (wx.onNetworkStatusChange) {
  wx.onNetworkStatusChange(function (event) {
    navigator.onLine = event.isConnected;
  });
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (navigator);

/***/ }),

/***/ "./js/libs/performance.js":
/*!********************************!*\
  !*** ./js/libs/performance.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
var performance;
if (wx.getPerformance) {
  var _wx$getSystemInfoSync = wx.getSystemInfoSync(),
    platform = _wx$getSystemInfoSync.platform;
  var wxPerf = wx.getPerformance();
  var initTime = wxPerf.now();
  var clientPerfAdapter = Object.assign({}, wxPerf, {
    now: function now() {
      return (wxPerf.now() - initTime) / 1000;
    }
  });
  performance = platform === 'devtools' ? wxPerf : clientPerfAdapter;
} else {
  performance = {
    timeOrigin: Date.now(),
    now: function now() {
      return Date.now() - this.timeOrigin;
    }
  };
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (performance);

/***/ }),

/***/ "./js/libs/style/CanvasComputedStyle.js":
/*!**********************************************!*\
  !*** ./js/libs/style/CanvasComputedStyle.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _CommonComputedStyle__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CommonComputedStyle */ "./js/libs/style/CommonComputedStyle.js");

function getCanvasComputedStyle(canvas) {
  var rect = canvas.getBoundingClientRect();
  var style = Object.assign(_CommonComputedStyle__WEBPACK_IMPORTED_MODULE_0__["default"], {
    "display": "inline",
    "position": "static",
    "inlineSize": rect.width + "px",
    "perspectiveOrigin": rect.width / 2 + "px " + rect.height / 2 + "px",
    "transformOrigin": rect.width / 2 + "px " + rect.height / 2 + "px",
    "webkitLogicalWidth": rect.width + "px",
    "webkitLogicalHeight": rect.height + "px",
    "width": rect.width + "px",
    "height": rect.height + "px"
  });
  return style;
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (getCanvasComputedStyle);

/***/ }),

/***/ "./js/libs/style/CommonComputedStyle.js":
/*!**********************************************!*\
  !*** ./js/libs/style/CommonComputedStyle.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
var style = {
  "0": "animation-delay",
  "1": "animation-direction",
  "2": "animation-duration",
  "3": "animation-fill-mode",
  "4": "animation-iteration-count",
  "5": "animation-name",
  "6": "animation-play-state",
  "7": "animation-timing-function",
  "8": "background-attachment",
  "9": "background-blend-mode",
  "10": "background-clip",
  "11": "background-color",
  "12": "background-image",
  "13": "background-origin",
  "14": "background-position",
  "15": "background-repeat",
  "16": "background-size",
  "17": "border-bottom-color",
  "18": "border-bottom-left-radius",
  "19": "border-bottom-right-radius",
  "20": "border-bottom-style",
  "21": "border-bottom-width",
  "22": "border-collapse",
  "23": "border-image-outset",
  "24": "border-image-repeat",
  "25": "border-image-slice",
  "26": "border-image-source",
  "27": "border-image-width",
  "28": "border-left-color",
  "29": "border-left-style",
  "30": "border-left-width",
  "31": "border-right-color",
  "32": "border-right-style",
  "33": "border-right-width",
  "34": "border-top-color",
  "35": "border-top-left-radius",
  "36": "border-top-right-radius",
  "37": "border-top-style",
  "38": "border-top-width",
  "39": "bottom",
  "40": "box-shadow",
  "41": "box-sizing",
  "42": "break-after",
  "43": "break-before",
  "44": "break-inside",
  "45": "caption-side",
  "46": "clear",
  "47": "clip",
  "48": "color",
  "49": "content",
  "50": "cursor",
  "51": "direction",
  "52": "display",
  "53": "empty-cells",
  "54": "float",
  "55": "font-family",
  "56": "font-kerning",
  "57": "font-size",
  "58": "font-stretch",
  "59": "font-style",
  "60": "font-variant",
  "61": "font-variant-ligatures",
  "62": "font-variant-caps",
  "63": "font-variant-numeric",
  "64": "font-variant-east-asian",
  "65": "font-weight",
  "66": "height",
  "67": "image-rendering",
  "68": "isolation",
  "69": "justify-items",
  "70": "justify-self",
  "71": "left",
  "72": "letter-spacing",
  "73": "line-height",
  "74": "list-style-image",
  "75": "list-style-position",
  "76": "list-style-type",
  "77": "margin-bottom",
  "78": "margin-left",
  "79": "margin-right",
  "80": "margin-top",
  "81": "max-height",
  "82": "max-width",
  "83": "min-height",
  "84": "min-width",
  "85": "mix-blend-mode",
  "86": "object-fit",
  "87": "object-position",
  "88": "offset-distance",
  "89": "offset-path",
  "90": "offset-rotate",
  "91": "opacity",
  "92": "orphans",
  "93": "outline-color",
  "94": "outline-offset",
  "95": "outline-style",
  "96": "outline-width",
  "97": "overflow-anchor",
  "98": "overflow-wrap",
  "99": "overflow-x",
  "100": "overflow-y",
  "101": "padding-bottom",
  "102": "padding-left",
  "103": "padding-right",
  "104": "padding-top",
  "105": "pointer-events",
  "106": "position",
  "107": "resize",
  "108": "right",
  "109": "scroll-behavior",
  "110": "speak",
  "111": "table-layout",
  "112": "tab-size",
  "113": "text-align",
  "114": "text-align-last",
  "115": "text-decoration",
  "116": "text-decoration-line",
  "117": "text-decoration-style",
  "118": "text-decoration-color",
  "119": "text-decoration-skip-ink",
  "120": "text-underline-position",
  "121": "text-indent",
  "122": "text-rendering",
  "123": "text-shadow",
  "124": "text-size-adjust",
  "125": "text-overflow",
  "126": "text-transform",
  "127": "top",
  "128": "touch-action",
  "129": "transition-delay",
  "130": "transition-duration",
  "131": "transition-property",
  "132": "transition-timing-function",
  "133": "unicode-bidi",
  "134": "vertical-align",
  "135": "visibility",
  "136": "white-space",
  "137": "widows",
  "138": "width",
  "139": "will-change",
  "140": "word-break",
  "141": "word-spacing",
  "142": "word-wrap",
  "143": "z-index",
  "144": "zoom",
  "145": "-webkit-appearance",
  "146": "backface-visibility",
  "147": "-webkit-border-horizontal-spacing",
  "148": "-webkit-border-image",
  "149": "-webkit-border-vertical-spacing",
  "150": "-webkit-box-align",
  "151": "-webkit-box-decoration-break",
  "152": "-webkit-box-direction",
  "153": "-webkit-box-flex",
  "154": "-webkit-box-flex-group",
  "155": "-webkit-box-lines",
  "156": "-webkit-box-ordinal-group",
  "157": "-webkit-box-orient",
  "158": "-webkit-box-pack",
  "159": "-webkit-box-reflect",
  "160": "column-count",
  "161": "column-gap",
  "162": "column-rule-color",
  "163": "column-rule-style",
  "164": "column-rule-width",
  "165": "column-span",
  "166": "column-width",
  "167": "align-content",
  "168": "align-items",
  "169": "align-self",
  "170": "flex-basis",
  "171": "flex-grow",
  "172": "flex-shrink",
  "173": "flex-direction",
  "174": "flex-wrap",
  "175": "justify-content",
  "176": "-webkit-font-smoothing",
  "177": "grid-auto-columns",
  "178": "grid-auto-flow",
  "179": "grid-auto-rows",
  "180": "grid-column-end",
  "181": "grid-column-start",
  "182": "grid-template-areas",
  "183": "grid-template-columns",
  "184": "grid-template-rows",
  "185": "grid-row-end",
  "186": "grid-row-start",
  "187": "grid-column-gap",
  "188": "grid-row-gap",
  "189": "-webkit-highlight",
  "190": "hyphens",
  "191": "-webkit-hyphenate-character",
  "192": "-webkit-line-break",
  "193": "-webkit-line-clamp",
  "194": "-webkit-locale",
  "195": "-webkit-margin-before-collapse",
  "196": "-webkit-margin-after-collapse",
  "197": "-webkit-mask-box-image",
  "198": "-webkit-mask-box-image-outset",
  "199": "-webkit-mask-box-image-repeat",
  "200": "-webkit-mask-box-image-slice",
  "201": "-webkit-mask-box-image-source",
  "202": "-webkit-mask-box-image-width",
  "203": "-webkit-mask-clip",
  "204": "-webkit-mask-composite",
  "205": "-webkit-mask-image",
  "206": "-webkit-mask-origin",
  "207": "-webkit-mask-position",
  "208": "-webkit-mask-repeat",
  "209": "-webkit-mask-size",
  "210": "order",
  "211": "perspective",
  "212": "perspective-origin",
  "213": "-webkit-print-color-adjust",
  "214": "-webkit-rtl-ordering",
  "215": "shape-outside",
  "216": "shape-image-threshold",
  "217": "shape-margin",
  "218": "-webkit-tap-highlight-color",
  "219": "-webkit-text-combine",
  "220": "-webkit-text-decorations-in-effect",
  "221": "-webkit-text-emphasis-color",
  "222": "-webkit-text-emphasis-position",
  "223": "-webkit-text-emphasis-style",
  "224": "-webkit-text-fill-color",
  "225": "-webkit-text-orientation",
  "226": "-webkit-text-security",
  "227": "-webkit-text-stroke-color",
  "228": "-webkit-text-stroke-width",
  "229": "transform",
  "230": "transform-origin",
  "231": "transform-style",
  "232": "-webkit-user-drag",
  "233": "-webkit-user-modify",
  "234": "user-select",
  "235": "-webkit-writing-mode",
  "236": "-webkit-app-region",
  "237": "buffered-rendering",
  "238": "clip-path",
  "239": "clip-rule",
  "240": "mask",
  "241": "filter",
  "242": "flood-color",
  "243": "flood-opacity",
  "244": "lighting-color",
  "245": "stop-color",
  "246": "stop-opacity",
  "247": "color-interpolation",
  "248": "color-interpolation-filters",
  "249": "color-rendering",
  "250": "fill",
  "251": "fill-opacity",
  "252": "fill-rule",
  "253": "marker-end",
  "254": "marker-mid",
  "255": "marker-start",
  "256": "mask-type",
  "257": "shape-rendering",
  "258": "stroke",
  "259": "stroke-dasharray",
  "260": "stroke-dashoffset",
  "261": "stroke-linecap",
  "262": "stroke-linejoin",
  "263": "stroke-miterlimit",
  "264": "stroke-opacity",
  "265": "stroke-width",
  "266": "alignment-baseline",
  "267": "baseline-shift",
  "268": "dominant-baseline",
  "269": "text-anchor",
  "270": "writing-mode",
  "271": "vector-effect",
  "272": "paint-order",
  "273": "d",
  "274": "cx",
  "275": "cy",
  "276": "x",
  "277": "y",
  "278": "r",
  "279": "rx",
  "280": "ry",
  "281": "caret-color",
  "282": "line-break",
  "display": "inline",
  "dominantBaseline": "auto",
  "emptyCells": "show",
  "fill": "rgb(0, 0, 0)",
  "fillOpacity": "1",
  "fillRule": "nonzero",
  "filter": "none",
  "flex": "0 1 auto",
  "flexBasis": "auto",
  "flexDirection": "row",
  "flexFlow": "row nowrap",
  "flexGrow": "0",
  "flexShrink": "1",
  "flexWrap": "nowrap",
  "float": "none",
  "floodColor": "rgb(0, 0, 0)",
  "floodOpacity": "1",
  "font": "normal normal 400 normal 16px / normal \"PingFang SC\"",
  "fontDisplay": "",
  "fontFamily": "\"PingFang SC\"",
  "fontFeatureSettings": "normal",
  "fontKerning": "auto",
  "fontSize": "16px",
  "fontStretch": "100%",
  "fontStyle": "normal",
  "fontVariant": "normal",
  "fontVariantCaps": "normal",
  "fontVariantEastAsian": "normal",
  "fontVariantLigatures": "normal",
  "fontVariantNumeric": "normal",
  "fontVariationSettings": "normal",
  "fontWeight": "400",
  "grid": "none / none / none / row / auto / auto",
  "gridArea": "auto / auto / auto / auto",
  "gridAutoColumns": "auto",
  "gridAutoFlow": "row",
  "gridAutoRows": "auto",
  "gridColumn": "auto / auto",
  "gridColumnEnd": "auto",
  "gridColumnGap": "0px",
  "gridColumnStart": "auto",
  "gridGap": "0px 0px",
  "gridRow": "auto / auto",
  "gridRowEnd": "auto",
  "gridRowGap": "0px",
  "gridRowStart": "auto",
  "gridTemplate": "none / none / none",
  "gridTemplateAreas": "none",
  "gridTemplateColumns": "none",
  "gridTemplateRows": "none",
  "height": "0px",
  "hyphens": "manual",
  "imageRendering": "auto",
  "inlineSize": "0px",
  "isolation": "auto",
  "justifyContent": "normal",
  "justifyItems": "normal",
  "justifySelf": "auto",
  "left": "auto",
  "letterSpacing": "normal",
  "lightingColor": "rgb(255, 255, 255)",
  "lineBreak": "auto",
  "lineHeight": "normal",
  "listStyle": "disc outside none",
  "listStyleImage": "none",
  "listStylePosition": "outside",
  "listStyleType": "disc",
  "margin": "0px",
  "marginBottom": "0px",
  "marginLeft": "0px",
  "marginRight": "0px",
  "marginTop": "0px",
  "marker": "",
  "markerEnd": "none",
  "markerMid": "none",
  "markerStart": "none",
  "mask": "none",
  "maskType": "luminance",
  "maxBlockSize": "none",
  "maxHeight": "none",
  "maxInlineSize": "none",
  "maxWidth": "none",
  "maxZoom": "",
  "minBlockSize": "0px",
  "minHeight": "0px",
  "minInlineSize": "0px",
  "minWidth": "0px",
  "minZoom": "",
  "mixBlendMode": "normal",
  "objectFit": "fill",
  "objectPosition": "50% 50%",
  "offset": "none 0px auto 0deg",
  "offsetDistance": "0px",
  "offsetPath": "none",
  "offsetRotate": "auto 0deg",
  "opacity": "1",
  "order": "0",
  "orientation": "",
  "orphans": "2",
  "outline": "rgb(0, 0, 0) none 0px",
  "outlineColor": "rgb(0, 0, 0)",
  "outlineOffset": "0px",
  "outlineStyle": "none",
  "outlineWidth": "0px",
  "overflow": "visible",
  "overflowAnchor": "auto",
  "overflowWrap": "normal",
  "overflowX": "visible",
  "overflowY": "visible",
  "overscrollBehavior": "auto auto",
  "overscrollBehaviorX": "auto",
  "overscrollBehaviorY": "auto",
  "padding": "0px",
  "paddingBottom": "0px",
  "paddingLeft": "0px",
  "paddingRight": "0px",
  "paddingTop": "0px",
  "page": "",
  "pageBreakAfter": "auto",
  "pageBreakBefore": "auto",
  "pageBreakInside": "auto",
  "paintOrder": "fill stroke markers",
  "perspective": "none",
  "perspectiveOrigin": "0px 0px",
  "placeContent": "normal normal",
  "placeItems": "normal normal",
  "placeSelf": "auto auto",
  "pointerEvents": "auto",
  "position": "static",
  "quotes": "",
  "r": "0px",
  "resize": "none",
  "right": "auto",
  "rx": "auto",
  "ry": "auto",
  "scrollBehavior": "auto",
  "shapeImageThreshold": "0",
  "shapeMargin": "0px",
  "shapeOutside": "none",
  "shapeRendering": "auto",
  "size": "",
  "speak": "normal",
  "src": "",
  "stopColor": "rgb(0, 0, 0)",
  "stopOpacity": "1",
  "stroke": "none",
  "strokeDasharray": "none",
  "strokeDashoffset": "0px",
  "strokeLinecap": "butt",
  "strokeLinejoin": "miter",
  "strokeMiterlimit": "4",
  "strokeOpacity": "1",
  "strokeWidth": "1px",
  "tabSize": "8",
  "tableLayout": "auto",
  "textAlign": "start",
  "textAlignLast": "auto",
  "textAnchor": "start",
  "textCombineUpright": "none",
  "textDecoration": "none solid rgb(0, 0, 0)",
  "textDecorationColor": "rgb(0, 0, 0)",
  "textDecorationLine": "none",
  "textDecorationSkipInk": "auto",
  "textDecorationStyle": "solid",
  "textIndent": "0px",
  "textOrientation": "mixed",
  "textOverflow": "clip",
  "textRendering": "auto",
  "textShadow": "none",
  "textSizeAdjust": "auto",
  "textTransform": "none",
  "textUnderlinePosition": "auto",
  "top": "auto",
  "touchAction": "auto",
  "transform": "none",
  "transformBox": "view-box",
  "transformOrigin": "0px 0px",
  "transformStyle": "flat",
  "transition": "all 0s ease 0s",
  "transitionDelay": "0s",
  "transitionDuration": "0s",
  "transitionProperty": "all",
  "transitionTimingFunction": "ease",
  "unicodeBidi": "normal",
  "unicodeRange": "",
  "userSelect": "auto",
  "userZoom": "",
  "vectorEffect": "none",
  "verticalAlign": "baseline",
  "visibility": "visible",
  "webkitAppRegion": "no-drag",
  "webkitAppearance": "none",
  "webkitBorderAfter": "0px none rgb(0, 0, 0)",
  "webkitBorderAfterColor": "rgb(0, 0, 0)",
  "webkitBorderAfterStyle": "none",
  "webkitBorderAfterWidth": "0px",
  "webkitBorderBefore": "0px none rgb(0, 0, 0)",
  "webkitBorderBeforeColor": "rgb(0, 0, 0)",
  "webkitBorderBeforeStyle": "none",
  "webkitBorderBeforeWidth": "0px",
  "webkitBorderEnd": "0px none rgb(0, 0, 0)",
  "webkitBorderEndColor": "rgb(0, 0, 0)",
  "webkitBorderEndStyle": "none",
  "webkitBorderEndWidth": "0px",
  "webkitBorderHorizontalSpacing": "0px",
  "webkitBorderImage": "none",
  "webkitBorderStart": "0px none rgb(0, 0, 0)",
  "webkitBorderStartColor": "rgb(0, 0, 0)",
  "webkitBorderStartStyle": "none",
  "webkitBorderStartWidth": "0px",
  "webkitBorderVerticalSpacing": "0px",
  "webkitBoxAlign": "stretch",
  "webkitBoxDecorationBreak": "slice",
  "webkitBoxDirection": "normal",
  "webkitBoxFlex": "0",
  "webkitBoxFlexGroup": "1",
  "webkitBoxLines": "single",
  "webkitBoxOrdinalGroup": "1",
  "webkitBoxOrient": "horizontal",
  "webkitBoxPack": "start",
  "webkitBoxReflect": "none",
  "webkitColumnBreakAfter": "auto",
  "webkitColumnBreakBefore": "auto",
  "webkitColumnBreakInside": "auto",
  "webkitFontSizeDelta": "",
  "webkitFontSmoothing": "auto",
  "webkitHighlight": "none",
  "webkitHyphenateCharacter": "auto",
  "webkitLineBreak": "auto",
  "webkitLineClamp": "none",
  "webkitLocale": "auto",
  "webkitLogicalHeight": "0px",
  "webkitLogicalWidth": "0px",
  "webkitMarginAfter": "0px",
  "webkitMarginAfterCollapse": "collapse",
  "webkitMarginBefore": "0px",
  "webkitMarginBeforeCollapse": "collapse",
  "webkitMarginBottomCollapse": "collapse",
  "webkitMarginCollapse": "",
  "webkitMarginEnd": "0px",
  "webkitMarginStart": "0px",
  "webkitMarginTopCollapse": "collapse",
  "webkitMask": "",
  "webkitMaskBoxImage": "none",
  "webkitMaskBoxImageOutset": "0px",
  "webkitMaskBoxImageRepeat": "stretch",
  "webkitMaskBoxImageSlice": "0 fill",
  "webkitMaskBoxImageSource": "none",
  "webkitMaskBoxImageWidth": "auto",
  "webkitMaskClip": "border-box",
  "webkitMaskComposite": "source-over",
  "webkitMaskImage": "none",
  "webkitMaskOrigin": "border-box",
  "webkitMaskPosition": "0% 0%",
  "webkitMaskPositionX": "0%",
  "webkitMaskPositionY": "0%",
  "webkitMaskRepeat": "repeat",
  "webkitMaskRepeatX": "",
  "webkitMaskRepeatY": "",
  "webkitMaskSize": "auto",
  "webkitMaxLogicalHeight": "none",
  "webkitMaxLogicalWidth": "none",
  "webkitMinLogicalHeight": "0px",
  "webkitMinLogicalWidth": "0px",
  "webkitPaddingAfter": "0px",
  "webkitPaddingBefore": "0px",
  "webkitPaddingEnd": "0px",
  "webkitPaddingStart": "0px",
  "webkitPerspectiveOriginX": "",
  "webkitPerspectiveOriginY": "",
  "webkitPrintColorAdjust": "economy",
  "webkitRtlOrdering": "logical",
  "webkitRubyPosition": "before",
  "webkitTapHighlightColor": "rgba(0, 0, 0, 0.4)",
  "webkitTextCombine": "none",
  "webkitTextDecorationsInEffect": "none",
  "webkitTextEmphasis": "",
  "webkitTextEmphasisColor": "rgb(0, 0, 0)",
  "webkitTextEmphasisPosition": "over right",
  "webkitTextEmphasisStyle": "none",
  "webkitTextFillColor": "rgb(0, 0, 0)",
  "webkitTextOrientation": "vertical-right",
  "webkitTextSecurity": "none",
  "webkitTextStroke": "",
  "webkitTextStrokeColor": "rgb(0, 0, 0)",
  "webkitTextStrokeWidth": "0px",
  "webkitTransformOriginX": "",
  "webkitTransformOriginY": "",
  "webkitTransformOriginZ": "",
  "webkitUserDrag": "auto",
  "webkitUserModify": "read-only",
  "webkitWritingMode": "horizontal-tb",
  "whiteSpace": "normal",
  "widows": "2",
  "width": "0px",
  "willChange": "auto",
  "wordBreak": "normal",
  "wordSpacing": "0px",
  "wordWrap": "normal",
  "writingMode": "horizontal-tb",
  "x": "0px",
  "y": "0px",
  "zIndex": "auto",
  "zoom": "1"
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (style);

/***/ }),

/***/ "./js/libs/style/ImageComputedStyle.js":
/*!*********************************************!*\
  !*** ./js/libs/style/ImageComputedStyle.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _CommonComputedStyle__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CommonComputedStyle */ "./js/libs/style/CommonComputedStyle.js");

function getImageComputedStyle(image) {
  var width = image.width;
  var height = image.height;
  var style = Object.assign(_CommonComputedStyle__WEBPACK_IMPORTED_MODULE_0__["default"], {
    "display": "inline",
    "position": "static",
    "inlineSize": width + "px",
    "perspectiveOrigin": width / 2 + "px " + height / 2 + "px",
    "transformOrigin": width / 2 + "px " + height / 2 + "px",
    "webkitLogicalWidth": width + "px",
    "webkitLogicalHeight": height + "px",
    "width": width + "px",
    "height": height + "px"
  });
  return style;
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (getImageComputedStyle);

/***/ }),

/***/ "./js/libs/symbol.js":
/*!***************************!*\
  !*** ./js/libs/symbol.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/**
 * 对于ES6中Symbol的极简兼容
 * 方便模拟私有变量
 */

var idCounter = 0;
var _Symbol = function _Symbol2(key) {
  return "__".concat(key, "_").concat(Math.floor(Math.random() * 1e9), "_").concat(++idCounter, "__");
};
_Symbol.iterator = _Symbol('Symbol.iterator');
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_Symbol);

/***/ }),

/***/ "./js/libs/util/index.js":
/*!*******************************!*\
  !*** ./js/libs/util/index.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   noop: () => (/* binding */ noop)
/* harmony export */ });
function noop() {}

/***/ }),

/***/ "./js/libs/util/mixin.js":
/*!*******************************!*\
  !*** ./js/libs/util/mixin.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   classList: () => (/* binding */ classList),
/* harmony export */   clientRegion: () => (/* binding */ clientRegion),
/* harmony export */   offsetRegion: () => (/* binding */ offsetRegion),
/* harmony export */   parentNode: () => (/* binding */ parentNode),
/* harmony export */   scrollRegion: () => (/* binding */ scrollRegion),
/* harmony export */   style: () => (/* binding */ style)
/* harmony export */ });
/* harmony import */ var _WindowProperties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../WindowProperties */ "./js/libs/WindowProperties.js");

function parentNode(obj, level) {
  if (!('parentNode' in obj)) {
    var _parent;
    if (level === 0) {
      _parent = function _parent() {
        // return document
        return null;
      };
    } else if (level === 1) {
      _parent = function _parent() {
        return document.documentElement;
      };
    } else {
      _parent = function _parent() {
        return document.body;
      };
    }
    Object.defineProperty(obj, 'parentNode', {
      enumerable: true,
      get: _parent
    });
  }
  if (!('parentElement' in obj)) {
    var _parent2;
    if (level === 0) {
      _parent2 = function _parent2() {
        return null;
      };
    } else if (level === 1) {
      _parent2 = function _parent2() {
        return document.documentElement;
      };
    } else {
      _parent2 = function _parent2() {
        return document.body;
      };
    }
    Object.defineProperty(obj, 'parentElement', {
      enumerable: true,
      get: _parent2
    });
  }
}
function style(obj) {
  obj.style = obj.style || {};
  Object.assign(obj.style, {
    top: '0px',
    left: '0px',
    width: _WindowProperties__WEBPACK_IMPORTED_MODULE_0__.innerWidth + 'px',
    height: _WindowProperties__WEBPACK_IMPORTED_MODULE_0__.innerHeight + 'px',
    margin: '0px',
    padding: '0px'
  });
}
function clientRegion(obj) {
  if (!('clientLeft' in obj)) {
    obj.clientLeft = 0;
    obj.clientTop = 0;
  }
  if (!('clientWidth' in obj)) {
    obj.clientWidth = _WindowProperties__WEBPACK_IMPORTED_MODULE_0__.innerWidth;
    obj.clientHeight = _WindowProperties__WEBPACK_IMPORTED_MODULE_0__.innerHeight;
  }
  if (!('getBoundingClientRect' in obj)) {
    obj.getBoundingClientRect = function () {
      var ret = {
        x: 0,
        y: 0,
        top: 0,
        left: 0,
        width: this.clientWidth,
        height: this.clientHeight
      };
      ret.right = ret.width;
      ret.bottom = ret.height;
      return ret;
    };
  }
}
function offsetRegion(obj) {
  if (!('offsetLeft' in obj)) {
    obj.offsetLeft = 0;
    obj.offsetTop = 0;
  }
  if (!('offsetWidth' in obj)) {
    obj.offsetWidth = _WindowProperties__WEBPACK_IMPORTED_MODULE_0__.innerWidth;
    obj.offsetHeight = _WindowProperties__WEBPACK_IMPORTED_MODULE_0__.innerHeight;
  }
}
function scrollRegion(obj) {
  if (!('scrollLeft' in obj)) {
    obj.scrollLeft = 0;
    obj.scrollTop = 0;
  }
  if (!('scrollWidth' in obj)) {
    obj.scrollWidth = _WindowProperties__WEBPACK_IMPORTED_MODULE_0__.innerWidth;
    obj.scrollHeight = _WindowProperties__WEBPACK_IMPORTED_MODULE_0__.innerHeight;
  }
}
function classList(obj) {
  var noop = function noop() {};
  obj.classList = [];
  obj.classList.add = noop;
  obj.classList.remove = noop;
  obj.classList.contains = noop;
  obj.classList.toggle = noop;
}

/***/ }),

/***/ "./js/libs/window.js":
/*!***************************!*\
  !*** ./js/libs/window.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Audio: () => (/* reexport safe */ _Audio__WEBPACK_IMPORTED_MODULE_11__["default"]),
/* harmony export */   Element: () => (/* reexport safe */ _Element__WEBPACK_IMPORTED_MODULE_13__["default"]),
/* harmony export */   FileReader: () => (/* reexport safe */ _FileReader__WEBPACK_IMPORTED_MODULE_12__["default"]),
/* harmony export */   HTMLAudioElement: () => (/* reexport safe */ _HTMLAudioElement__WEBPACK_IMPORTED_MODULE_18__["default"]),
/* harmony export */   HTMLCanvasElement: () => (/* reexport safe */ _HTMLCanvasElement__WEBPACK_IMPORTED_MODULE_16__["default"]),
/* harmony export */   HTMLElement: () => (/* reexport safe */ _HTMLElement__WEBPACK_IMPORTED_MODULE_14__["default"]),
/* harmony export */   HTMLImageElement: () => (/* reexport safe */ _HTMLImageElement__WEBPACK_IMPORTED_MODULE_15__["default"]),
/* harmony export */   HTMLMediaElement: () => (/* reexport safe */ _HTMLMediaElement__WEBPACK_IMPORTED_MODULE_17__["default"]),
/* harmony export */   HTMLVideoElement: () => (/* reexport safe */ _HTMLVideoElement__WEBPACK_IMPORTED_MODULE_19__["default"]),
/* harmony export */   Image: () => (/* reexport safe */ _Image__WEBPACK_IMPORTED_MODULE_9__["default"]),
/* harmony export */   ImageBitmap: () => (/* reexport safe */ _ImageBitmap__WEBPACK_IMPORTED_MODULE_10__["default"]),
/* harmony export */   MouseEvent: () => (/* reexport safe */ _EventIniter_index_js__WEBPACK_IMPORTED_MODULE_21__.MouseEvent),
/* harmony export */   PointerEvent: () => (/* reexport safe */ _EventIniter_index_js__WEBPACK_IMPORTED_MODULE_21__.PointerEvent),
/* harmony export */   Symbol: () => (/* reexport safe */ _symbol__WEBPACK_IMPORTED_MODULE_25__["default"]),
/* harmony export */   TouchEvent: () => (/* reexport safe */ _EventIniter_index_js__WEBPACK_IMPORTED_MODULE_21__.TouchEvent),
/* harmony export */   WebGLRenderingContext: () => (/* reexport safe */ _WebGLRenderingContext__WEBPACK_IMPORTED_MODULE_20__["default"]),
/* harmony export */   WebSocket: () => (/* reexport safe */ _WebSocket__WEBPACK_IMPORTED_MODULE_7__["default"]),
/* harmony export */   Worker: () => (/* reexport safe */ _Worker__WEBPACK_IMPORTED_MODULE_8__["default"]),
/* harmony export */   XMLHttpRequest: () => (/* reexport safe */ _XMLHttpRequest__WEBPACK_IMPORTED_MODULE_6__["default"]),
/* harmony export */   alert: () => (/* binding */ alert),
/* harmony export */   atob: () => (/* reexport safe */ _Base64_js__WEBPACK_IMPORTED_MODULE_24__.atob),
/* harmony export */   blur: () => (/* binding */ blur),
/* harmony export */   btoa: () => (/* reexport safe */ _Base64_js__WEBPACK_IMPORTED_MODULE_24__.btoa),
/* harmony export */   cancelAnimationFrame: () => (/* binding */ _cancelAnimationFrame),
/* harmony export */   canvas: () => (/* binding */ canvas),
/* harmony export */   clearInterval: () => (/* binding */ _clearInterval),
/* harmony export */   clearTimeout: () => (/* binding */ _clearTimeout),
/* harmony export */   devicePixelRatio: () => (/* reexport safe */ _WindowProperties__WEBPACK_IMPORTED_MODULE_26__.devicePixelRatio),
/* harmony export */   focus: () => (/* binding */ focus),
/* harmony export */   getComputedStyle: () => (/* binding */ getComputedStyle),
/* harmony export */   innerHeight: () => (/* reexport safe */ _WindowProperties__WEBPACK_IMPORTED_MODULE_26__.innerHeight),
/* harmony export */   innerWidth: () => (/* reexport safe */ _WindowProperties__WEBPACK_IMPORTED_MODULE_26__.innerWidth),
/* harmony export */   localStorage: () => (/* reexport safe */ _localStorage__WEBPACK_IMPORTED_MODULE_22__["default"]),
/* harmony export */   location: () => (/* reexport safe */ _location__WEBPACK_IMPORTED_MODULE_23__["default"]),
/* harmony export */   navigator: () => (/* reexport safe */ _navigator__WEBPACK_IMPORTED_MODULE_5__["default"]),
/* harmony export */   ontouchend: () => (/* reexport safe */ _WindowProperties__WEBPACK_IMPORTED_MODULE_26__.ontouchend),
/* harmony export */   ontouchmove: () => (/* reexport safe */ _WindowProperties__WEBPACK_IMPORTED_MODULE_26__.ontouchmove),
/* harmony export */   ontouchstart: () => (/* reexport safe */ _WindowProperties__WEBPACK_IMPORTED_MODULE_26__.ontouchstart),
/* harmony export */   performance: () => (/* reexport safe */ _WindowProperties__WEBPACK_IMPORTED_MODULE_26__.performance),
/* harmony export */   requestAnimationFrame: () => (/* binding */ _requestAnimationFrame),
/* harmony export */   screen: () => (/* reexport safe */ _WindowProperties__WEBPACK_IMPORTED_MODULE_26__.screen),
/* harmony export */   scrollBy: () => (/* binding */ scrollBy),
/* harmony export */   scrollTo: () => (/* binding */ scrollTo),
/* harmony export */   scrollX: () => (/* reexport safe */ _WindowProperties__WEBPACK_IMPORTED_MODULE_26__.scrollX),
/* harmony export */   scrollY: () => (/* reexport safe */ _WindowProperties__WEBPACK_IMPORTED_MODULE_26__.scrollY),
/* harmony export */   setInterval: () => (/* binding */ _setInterval),
/* harmony export */   setTimeout: () => (/* binding */ _setTimeout)
/* harmony export */ });
/* harmony import */ var _Canvas__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Canvas */ "./js/libs/Canvas.js");
/* harmony import */ var _style_CommonComputedStyle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./style/CommonComputedStyle */ "./js/libs/style/CommonComputedStyle.js");
/* harmony import */ var _style_ImageComputedStyle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./style/ImageComputedStyle */ "./js/libs/style/ImageComputedStyle.js");
/* harmony import */ var _style_CanvasComputedStyle__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./style/CanvasComputedStyle */ "./js/libs/style/CanvasComputedStyle.js");
/* harmony import */ var _Event__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Event */ "./js/libs/Event.js");
/* harmony import */ var _navigator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./navigator */ "./js/libs/navigator.js");
/* harmony import */ var _XMLHttpRequest__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./XMLHttpRequest */ "./js/libs/XMLHttpRequest.js");
/* harmony import */ var _WebSocket__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./WebSocket */ "./js/libs/WebSocket.js");
/* harmony import */ var _Worker__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Worker */ "./js/libs/Worker.js");
/* harmony import */ var _Image__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Image */ "./js/libs/Image.js");
/* harmony import */ var _ImageBitmap__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./ImageBitmap */ "./js/libs/ImageBitmap.js");
/* harmony import */ var _Audio__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./Audio */ "./js/libs/Audio.js");
/* harmony import */ var _FileReader__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./FileReader */ "./js/libs/FileReader.js");
/* harmony import */ var _Element__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./Element */ "./js/libs/Element.js");
/* harmony import */ var _HTMLElement__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./HTMLElement */ "./js/libs/HTMLElement.js");
/* harmony import */ var _HTMLImageElement__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./HTMLImageElement */ "./js/libs/HTMLImageElement.js");
/* harmony import */ var _HTMLCanvasElement__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./HTMLCanvasElement */ "./js/libs/HTMLCanvasElement.js");
/* harmony import */ var _HTMLMediaElement__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./HTMLMediaElement */ "./js/libs/HTMLMediaElement.js");
/* harmony import */ var _HTMLAudioElement__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./HTMLAudioElement */ "./js/libs/HTMLAudioElement.js");
/* harmony import */ var _HTMLVideoElement__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./HTMLVideoElement */ "./js/libs/HTMLVideoElement.js");
/* harmony import */ var _WebGLRenderingContext__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./WebGLRenderingContext */ "./js/libs/WebGLRenderingContext.js");
/* harmony import */ var _EventIniter_index_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./EventIniter/index.js */ "./js/libs/EventIniter/index.js");
/* harmony import */ var _localStorage__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./localStorage */ "./js/libs/localStorage.js");
/* harmony import */ var _location__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./location */ "./js/libs/location.js");
/* harmony import */ var _Base64_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./Base64.js */ "./js/libs/Base64.js");
/* harmony import */ var _symbol__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./symbol */ "./js/libs/symbol.js");
/* harmony import */ var _WindowProperties__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./WindowProperties */ "./js/libs/WindowProperties.js");



























var _wx$getSystemInfoSync = wx.getSystemInfoSync(),
  platform = _wx$getSystemInfoSync.platform;

// 暴露全局的 canvas
GameGlobal.screencanvas = GameGlobal.screencanvas || new _Canvas__WEBPACK_IMPORTED_MODULE_0__["default"]();
var canvas = GameGlobal.screencanvas;
function getComputedStyle(dom) {
  var tagName = dom.tagName;
  if (tagName === "CANVAS") {
    return (0,_style_CanvasComputedStyle__WEBPACK_IMPORTED_MODULE_3__["default"])(dom);
  } else if (tagName === "IMG") {
    return (0,_style_ImageComputedStyle__WEBPACK_IMPORTED_MODULE_2__["default"])(dom);
  }
  return _style_CommonComputedStyle__WEBPACK_IMPORTED_MODULE_1__["default"];
}
function scrollTo(x, y) {
  // x = Math.min(window.innerWidth, Math.max(0, x));
  // y = Math.min(window.innerHeight, Math.max(0, y));
  // We can't scroll the page of WeChatTinyGame, so it'll always be 0.

  // window.scrollX = 0;
  // window.scrollY = 0;
}
function scrollBy(dx, dy) {
  window.scrollTo(window.scrollX + dx, window.scrollY + dy);
}
function alert(msg) {
  console.log(msg);
}
function focus() {}
function blur() {}
if (platform !== 'devtools') {
  var wxPerf = wx.getPerformance ? wx.getPerformance() : Date;
  var consoleTimers = {};
  console.time = function (name) {
    consoleTimers[name] = wxPerf.now();
  };
  console.timeEnd = function (name) {
    var timeStart = consoleTimers[name];
    if (!timeStart) {
      return;
    }
    var timeElapsed = wxPerf.now() - timeStart;
    console.log(name + ": " + timeElapsed / 1000 + "ms");
    delete consoleTimers[name];
  };
}
function eventHandlerFactory() {
  return function (res) {
    var event = new _Event__WEBPACK_IMPORTED_MODULE_4__["default"]('resize');
    event.target = window;
    event.timeStamp = Date.now();
    event.res = res;
    event.windowWidth = res.windowWidth;
    event.windowHeight = res.windowHeight;
    document.dispatchEvent(event);
  };
}
if (wx.onWindowResize) {
  wx.onWindowResize(eventHandlerFactory());
}
var _setTimeout = setTimeout;
var _clearTimeout = clearTimeout;
var _setInterval = setInterval;
var _clearInterval = clearInterval;
var _requestAnimationFrame = requestAnimationFrame;
var _cancelAnimationFrame = cancelAnimationFrame;


/***/ }),

/***/ "./js/game/initGame.ts":
/*!*****************************!*\
  !*** ./js/game/initGame.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _libs_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../libs/index */ "./js/libs/index.js");
/* harmony import */ var _libs_symbol__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../libs/symbol */ "./js/libs/symbol.js");
/* harmony import */ var _libs_window__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../libs/window */ "./js/libs/window.js");
/* harmony import */ var _pixi_min__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pixi.min */ "./js/game/pixi.min.js");
/* harmony import */ var _pixi_min__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_pixi_min__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _unsafe_eval_min_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./unsafe-eval.min.js */ "./js/game/unsafe-eval.min.js");
/* harmony import */ var _unsafe_eval_min_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_unsafe_eval_min_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _dragonBones_min_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./dragonBones.min.js */ "./js/game/dragonBones.min.js");
/**
 * Created by kunnisser on 2017/8/2.
 * 初始化Game
 * */






var initGame = /** @class */ (function () {
    function initGame() {
        var _a = wx.getSystemInfoSync(), pixelRatio = _a.pixelRatio, windowWidth = _a.windowWidth, windowHeight = _a.windowHeight;
        var app = new _pixi_min__WEBPACK_IMPORTED_MODULE_3__.Application({
            width: windowWidth,
            height: windowHeight,
            dpr: pixelRatio,
            view: _libs_window__WEBPACK_IMPORTED_MODULE_2__.canvas
        });
        var world = new _pixi_min__WEBPACK_IMPORTED_MODULE_3__.Container();
        app.stage.addChild(world);
        var loader = app.loader;
        loader.add("texSke", "assets/role_ske.json");
        loader.add("texData", "assets/role_tex.json");
        loader.add("tex", "assets/role_tex.png");
        loader.load(function () {
            console.log(loader.resources);
            console.log(_pixi_min__WEBPACK_IMPORTED_MODULE_3__.utils.TextureCache);
            var factory = _dragonBones_min_js__WEBPACK_IMPORTED_MODULE_5__["default"].PixiFactory.factory;
            factory.parseDragonBonesData(loader.resources["texSke"].data);
            factory.parseTextureAtlasData(loader.resources["texData"].data, _pixi_min__WEBPACK_IMPORTED_MODULE_3__.utils.TextureCache["tex"]);
            //
            var sprite = factory.buildArmatureDisplay("role");
            sprite.x = 200.0;
            sprite.y = 200.0;
            sprite.scale.set(0.5);
            console.log(sprite);
            sprite.animation.play("idle");
            world.addChild(sprite);
        });
        app.renderer.render(app.stage);
        // window.gameConfig = conf;
        // // 符合条件进入boot状态
        // this.state.add('boot', boot, !0);
        // this.state.add('preloader', preloader, !1);
        // this.state.add('menu', menu, !1);
        // this.state.add('fight_scene', SceneFight, !1);
    }
    return initGame;
}());
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (initGame);


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
/*!*************************!*\
  !*** ./js/game/main.ts ***!
  \*************************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _initGame__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./initGame */ "./js/game/initGame.ts");

new _initGame__WEBPACK_IMPORTED_MODULE_0__["default"]();

})();

__webpack_exports__ = __webpack_exports__["default"];
/******/ 	return __webpack_exports__;
/******/ })()
;
});
//# sourceMappingURL=main.min.js.map